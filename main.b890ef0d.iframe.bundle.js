(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"./.storybook/preview.js-generated-config-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,"parameters",(function(){return parameters}));__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-properties.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),esm=__webpack_require__("./node_modules/@storybook/client-logger/dist/esm/index.js"),parameters={actions:{argTypesRegex:"^on.*"}};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.a.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(ClientApi.d)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(ClientApi.e)(loader,!1)}));case"parameters":return Object(ClientApi.f)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.b)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.c)(enhancer)}));case"render":return Object(ClientApi.g)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(ClientApi.f)(v,!1);case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./generated-stories-entry.js":function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js").configure)([__webpack_require__("./stories sync recursive ^\\.(?:(?:^|[\\\\/]|(?:(?:(?!(?:^|[\\\\/])\\.).)*?)[\\\\/])(?!\\.)(?=.)[^\\\\/]*?\\.stories\\.(ts|tsx|js|jsx))$")],module,!1)}).call(this,__webpack_require__("./node_modules/webpack/buildin/module.js")(module))},"./node_modules/css-loader/dist/cjs.js?!./node_modules/@storybook/builder-webpack4/node_modules/postcss-loader/dist/cjs.js?!./src/slides.css":function(module,exports,__webpack_require__){(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.i,".tree-graph-react-slides ::-webkit-scrollbar {\r\n  /*滚动条整体样式*/\r\n  width: 5px;\r\n  /*高宽分别对应横竖滚动条的尺寸*/\r\n  height: 10px;\r\n}\r\n.tree-graph-react-slides ::-webkit-scrollbar-track {\r\n  /*滚动条里面轨道*/\r\n  box-shadow: inset 0 0 8px rgba(0, 0, 0, 0.2);\r\n  background: '#474747';\r\n}\r\n.tree-graph-react-slides ::-webkit-scrollbar-thumb {\r\n  /*滚动条里面小方块*/\r\n  border-radius: 10px;\r\n  background-color: #1ca8b3;\r\n}\r\n",""]),module.exports=exports},"./node_modules/css-loader/dist/cjs.js?!./node_modules/@storybook/builder-webpack4/node_modules/postcss-loader/dist/cjs.js?!./src/treeEditor.css":function(module,exports,__webpack_require__){(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.i,".t-editor {\r\n  -webkit-user-select: text;\r\n     -moz-user-select: text;\r\n      -ms-user-select: text;\r\n          user-select: text;\r\n  word-wrap: break-word;\r\n  cursor: text;\r\n  outline: 0;\r\n  white-space: pre-wrap;\r\n  color: #1d1d1f;\r\n  flex: 1 1;\r\n}\r\n.t-editor.node-editor:empty:before {\r\n  content: '无标题';\r\n  color: #d3d3d3;\r\n}\r\n.t-editor.add-editor:empty:before {\r\n  content: \"输入文字或者'/'选择\";\r\n  color: #d3d3d3;\r\n}\r\n.t-editor.item-note {\r\n  display: -webkit-box;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  -webkit-line-clamp: 1;\r\n  -webkit-box-orient: vertical;\r\n  white-space: pre-wrap;\r\n}\r\n.t-editor.item-note:focus {\r\n  overflow: visible;\r\n  -webkit-line-clamp: initial;\r\n}\r\n.t-editor.item-note.readonly {\r\n  overflow: visible;\r\n  -webkit-line-clamp: initial;\r\n}\r\n.normal-link {\r\n  background-color: #fff;\r\n}\r\n.normal-link:hover {\r\n  background-color: #eeecec;\r\n}\r\n",""]),module.exports=exports},"./src/index.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"g",(function(){return Tree_Tree})),__webpack_require__.d(__webpack_exports__,"b",(function(){return MenuTree_MenuTree})),__webpack_require__.d(__webpack_exports__,"d",(function(){return MiniMenu_MiniMenu})),__webpack_require__.d(__webpack_exports__,"a",(function(){return Catalog_Catalog})),__webpack_require__.d(__webpack_exports__,"c",(function(){return Mind_Mind})),__webpack_require__.d(__webpack_exports__,"e",(function(){return MobileTree_MobileTree})),__webpack_require__.d(__webpack_exports__,"f",(function(){return Slides_Slides})),__webpack_require__.d(__webpack_exports__,"h",(function(){return TreeEditor_TreeEditor}));__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.string.match.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("./node_modules/core-js/modules/web.timers.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find-index.js"),__webpack_require__("./node_modules/core-js/modules/es.string.starts-with.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var react=__webpack_require__("./node_modules/react/index.js"),react_default=__webpack_require__.n(react),jsx_runtime=(__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.string.bold.js"),__webpack_require__("./node_modules/core-js/modules/es.string.italics.js"),__webpack_require__("./node_modules/react/jsx-runtime.js"));function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var Dot_Dot=function Dot(_ref){var node=_ref.node,BLOCK_HEIGHT=_ref.BLOCK_HEIGHT,handleClick=_ref.handleClick,dragStarted=_ref.dragStarted,color=_ref.color,position=_ref.position,_useState2=_slicedToArray(Object(react.useState)(!1),2),hover=_useState2[0],sethover=_useState2[1],pos=position||"left";function getX(){switch(pos){case"left":default:return node.x-4;case"right":return node.x+node.width+4}}return node.x&&node.y?Object(jsx_runtime.jsxs)("g",{onMouseEnter:function handleMouseEnter(){dragStarted||sethover(!0)},onMouseLeave:function handleMouseLeave(){dragStarted||sethover(!1)},onClick:function handleClickDot(){handleClick(node)},children:[node.dotIcon?null:Object(jsx_runtime.jsx)("circle",{id:"dot-hover",cx:getX(),cy:node.y+BLOCK_HEIGHT/2,r:9,fill:"#c7cbd0",cursor:"pointer",fillOpacity:hover?1:0}),node.dotIcon?null:Object(jsx_runtime.jsx)("circle",{id:"dot",cx:getX(),cy:node.y+BLOCK_HEIGHT/2,r:4,fill:color,fillOpacity:1,cursor:hover?"pointer":"auto"}),node.dotIcon?Object(jsx_runtime.jsx)("image",{x:getX()-(hover?9:5),y:node.y+BLOCK_HEIGHT/2-(hover?9:5),width:hover?18:10,height:hover?18:10,href:node.dotIcon},"avatar-image"):null]}):null},components_Dot=Dot_Dot;try{Dot_Dot.displayName="Dot",Dot_Dot.__docgenInfo={description:"",displayName:"Dot",props:{node:{defaultValue:null,description:"",name:"node",required:!0,type:{name:"CNode"}},BLOCK_HEIGHT:{defaultValue:null,description:"",name:"BLOCK_HEIGHT",required:!0,type:{name:"number"}},handleClick:{defaultValue:null,description:"",name:"handleClick",required:!0,type:{name:"Function"}},dragStarted:{defaultValue:null,description:"",name:"dragStarted",required:!0,type:{name:"boolean"}},color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"string"}},position:{defaultValue:null,description:"",name:"position",required:!1,type:{name:"enum",value:[{value:'"right"'},{value:'"left"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Dot.tsx#Dot"]={docgenInfo:Dot_Dot.__docgenInfo,name:"Dot",path:"src/components/Dot.tsx#Dot"})}catch(__react_docgen_typescript_loader_error){}var Expand_Expand=function Expand(_ref){var node=_ref.node,BLOCK_HEIGHT=_ref.BLOCK_HEIGHT,rectHeight=_ref.rectHeight,position=_ref.position,PATH_COLOR=_ref.PATH_COLOR,backgroundColor=_ref.backgroundColor,handleClickExpand=_ref.handleClickExpand;function getX(){switch(position||"right"){case"right":return node.x+node.width+4;case"left":return node.x-20-2;case"leftBottom":return node.x-5;case"bottomCenter":return node.x+node.width/2-10;default:return node.x}}function getY(radius){var y=0;switch(position||"right"){case"right":case"left":y=node.y+BLOCK_HEIGHT/2-radius;break;case"leftBottom":case"bottomCenter":y=node.y+rectHeight+2;break;default:y=node.y+rectHeight/2-radius}return y}return node.x&&node.y&&node.sortList&&node.sortList.length?Object(jsx_runtime.jsx)("g",{children:node.contract?Object(jsx_runtime.jsxs)("g",{children:[Object(jsx_runtime.jsx)("path",{d:function getPath(){switch(position||"right"){case"right":return"M "+(node.x+node.width)+" "+getY(0)+" H "+getX();case"left":return"M "+node.x+" "+getY(0)+" H "+getX();case"leftBottom":return"M "+(getX()+10)+" "+(node.y+rectHeight)+" V "+(node.y+rectHeight+2);case"bottomCenter":return"M "+(node.x+node.width/2)+" "+(node.y+BLOCK_HEIGHT)+" V "+(node.y+BLOCK_HEIGHT+2);default:return""}}(),fill:"none",stroke:PATH_COLOR,strokeWidth:1}),Object(jsx_runtime.jsx)("circle",{cx:getX()+10,cy:getY(10)+10+1,r:10,fill:backgroundColor,stroke:PATH_COLOR,onClick:function onClick(){return handleClickExpand(node)}}),Object(jsx_runtime.jsx)("text",{x:getX()+10,y:getY(10)+10+1+1,alignmentBaseline:"middle",textAnchor:"middle",fontSize:(node.childNum||0)>999?10:12,fill:PATH_COLOR,style:{pointerEvents:"none"},children:(node.childNum||0)>999?"999+":node.childNum})]}):Object(jsx_runtime.jsx)("use",{className:"dot-action",href:"#contract-"+("right"===position?"left":"left"===position?"right":"up"),x:getX(),y:getY(10),onClick:function onClick(){return handleClickExpand(node)}},"contract")}):null},components_Expand=Expand_Expand;try{Expand_Expand.displayName="Expand",Expand_Expand.__docgenInfo={description:"",displayName:"Expand",props:{node:{defaultValue:null,description:"",name:"node",required:!0,type:{name:"CNode"}},BLOCK_HEIGHT:{defaultValue:null,description:"",name:"BLOCK_HEIGHT",required:!0,type:{name:"number"}},rectHeight:{defaultValue:null,description:"",name:"rectHeight",required:!0,type:{name:"number"}},position:{defaultValue:null,description:"",name:"position",required:!1,type:{name:"enum",value:[{value:'"right"'},{value:'"left"'},{value:'"leftBottom"'},{value:'"bottomCenter"'}]}},PATH_COLOR:{defaultValue:null,description:"",name:"PATH_COLOR",required:!0,type:{name:"string"}},backgroundColor:{defaultValue:null,description:"",name:"backgroundColor",required:!0,type:{name:"string"}},handleClickExpand:{defaultValue:null,description:"",name:"handleClickExpand",required:!0,type:{name:"Function"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Expand.tsx#Expand"]={docgenInfo:Expand_Expand.__docgenInfo,name:"Expand",path:"src/components/Expand.tsx#Expand"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("./node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.set.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.splice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/web.url.js"),__webpack_require__("./node_modules/core-js/modules/es.array.last-index-of.js");var lodash=__webpack_require__("./node_modules/lodash/lodash.js"),lodash_default=__webpack_require__.n(lodash),jspdf_es_min=__webpack_require__("./node_modules/jspdf/dist/jspdf.es.min.js");function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return util_arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function util_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return util_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return util_arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function util_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function guid(len,radix){var i,r,chars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),uuid=[];if(radix=radix||chars.length,len)for(i=0;i<len;i++)uuid[i]=chars[0|Math.random()*radix];else for(uuid[8]=uuid[13]=uuid[18]=uuid[23]="-",uuid[14]="4",i=0;i<36;i++)uuid[i]||(r=0|16*Math.random(),uuid[i]=chars[19===i?3&r|8:r]);return uuid.join("")}function textWidthAll(fontSize,text,bold){var ele=document.createElement("span");ele.innerText=text,ele.style.fontSize=fontSize+"px",bold&&(ele.style.fontWeight="bold"),document.body.appendChild(ele);var width=ele.offsetWidth;return document.body.removeChild(ele)," "===text?fontSize/2:width}function splitTextIntoParagraphs(text,maxWidth,fontSize,bold){var paragraphs=[],currentParagraph="",ele=document.createElement("span");ele.style.fontSize=fontSize+"px",bold&&(ele.style.fontWeight="bold"),document.body.appendChild(ele),text=(text=text.replace(/\r\n/g," ")).replace(/\n/g," ");for(var index=0;index<text.length;index++){var _char2=text[index];ele.innerText=currentParagraph+_char2,ele.offsetWidth<=maxWidth?currentParagraph+=_char2:(paragraphs.push(currentParagraph),currentParagraph=_char2)}return document.body.removeChild(ele),""!==currentParagraph&&paragraphs.push(currentParagraph),paragraphs}function getTextWidth(text,textMaxWidth,fontSize,bold){var width=50,texts=[];if(text.includes("\n")){var splited=text.split("\n");if(texts=function splitTextIntoParagraphsInTexts(texts,textMaxWidth,fontSize,bold){for(var result=[],i=0;i<texts.length;i++){var text=texts[i];if(textWidthAll(fontSize,text,bold)>textMaxWidth){var arr=splitTextIntoParagraphs(text,textMaxWidth,fontSize,bold);result.push.apply(result,_toConsumableArray(arr))}else result.push(text)}return result}(splited,textMaxWidth,fontSize,bold),splited.length===texts.length){for(var maxText="",index=0;index<texts.length;index++){var element=texts[index];element.length>maxText.length&&(maxText=element)}width=textWidthAll(fontSize,maxText,bold)}else width=textMaxWidth}else(width=textWidthAll(fontSize,text,bold))>textMaxWidth&&(texts=splitTextIntoParagraphs(text,textMaxWidth,fontSize,bold),width=textMaxWidth);return{width:width,texts:texts}}function getNodeWidth(node,fontSize,showIcon,showAvatar,avatarRadius,showChildNum,textMaxWidth,inputNodeKey){var width=50,res=getTextWidth(node.name||"untitled",textMaxWidth,fontSize,node.bold);width=res.width,res.texts.length&&(node.texts=res.texts),inputNodeKey===node._key&&width<50&&(width=textMaxWidth);var totalWidth=(width||50)+10+getExtInfoWidth(node,showIcon,showAvatar,avatarRadius,showChildNum)+(node.endAdornmentWidth&&node.endAdornmentWidth?node.endAdornmentWidth+5:0);return node.imageUrl&&node.imageWidth&&node.imageWidth+10>totalWidth&&(totalWidth=node.imageWidth+5+10),node.bottomAdornmentWidth&&node.bottomAdornment&&node.bottomAdornmentWidth>totalWidth&&(totalWidth=node.bottomAdornmentWidth),totalWidth}function getExtInfoWidth(node,showIcon,showAvatar,avatarRadius,showChildNum){for(var packWidth=node.isPack?22:0,favoriteWidth=node.hasCollect?22:0,iconWidth=showIcon&&node.icon?22:0,avatarWidth=showAvatar&&node.avatarUri?2*avatarRadius:0,checkboxWidth=node.showCheckbox?18:0,statusWidth=node.showStatus?22:0,showChildNumWidth=showChildNum&&node.childNum?22:0,startAdornmentWidth=node.startAdornment&&node.startAdornmentWidth?node.startAdornmentWidth:0,temp=[packWidth,favoriteWidth,iconWidth,avatarWidth,checkboxWidth,statusWidth,showChildNumWidth,startAdornmentWidth],count=0,index=0;index<temp.length;index++){temp[index]&&count++}return packWidth+favoriteWidth+iconWidth+avatarWidth+checkboxWidth+statusWidth+showChildNumWidth+startAdornmentWidth+(count?1.5*count:0)}function nodeLocation(node,type,BLOCK_HEIGHT,showIcon,showAvatar,avatarRadius,showChildNum){var textHeight=BLOCK_HEIGHT;switch(type){case"childNum":return{x:node.x+5,y:node.y+textHeight/2};case"pack":return{x:node.x+5+(showChildNum&&node.childNum?24:0),y:node.y+(textHeight-22)/2};case"favorite":return{x:node.x+5+(showChildNum&&node.childNum?24:0)+(node.isPack?24:0),y:node.y+(textHeight-22)/2};case"icon":return{x:node.x+5+(showChildNum&&node.childNum?24:0)+(node.isPack?24:0)+(node.hasCollect?24:0),y:node.y+(textHeight-22)/2,emojiY:node.y+textHeight/2+2};case"avatar":return{x:node.x+5+(showChildNum&&node.childNum?24:0)+(node.isPack?24:0)+(node.hasCollect?24:0)+(showIcon&&node.icon?24:0),y:node.y+(textHeight-2*avatarRadius)/2};case"checkbox":return{x:node.x+5+(showChildNum&&node.childNum?24:0)+(node.isPack?24:0)+(node.hasCollect?24:0)+(showIcon&&node.icon?24:0)+(showAvatar&&node.avatarUri?2*avatarRadius+2:0),y:node.y+(textHeight-18)/2};case"status":return{x:node.x+5+(showChildNum&&node.childNum?24:0)+(node.isPack?24:0)+(node.hasCollect?24:0)+(showIcon&&node.icon?24:0)+(showAvatar&&node.avatarUri?2*avatarRadius+2:0)+(node.showCheckbox?20:0),y:node.y+(textHeight-22)/2};case"startAdornment":return{x:node.x+5+(showChildNum&&node.childNum?24:0)+(node.isPack?24:0)+(node.hasCollect?24:0)+(showIcon&&node.icon?24:0)+(showAvatar&&node.avatarUri?2*avatarRadius+2:0)+(node.showCheckbox?20:0)+(node.showStatus?24:0),y:node.y+(textHeight-(node.startAdornmentHeight||0))/2};case"text":var extWidth=getExtInfoWidth(node,showIcon,showAvatar,avatarRadius,showChildNum);return{x:node.x+5+extWidth+(extWidth?2:0),y:node.y+BLOCK_HEIGHT/2+1};default:return null}}var isArrayRepeat=function isArrayRepeat(array1,array2){var set=new Set([].concat(_toConsumableArray(array1),_toConsumableArray(array2)));return array1.length+array2.length!==set.size},isDragValid=function isDragValid(dragId,dropId,nodeMap){if(nodeMap[dropId])return!getAncestor(nodeMap[dropId],nodeMap,!0).includes(dragId)},isMutilDragValid=function isMutilDragValid(dragIds,dropId,nodeMap){for(var index=0;index<dragIds.length;index++){var dragId=dragIds[index].nodeKey;if(!isDragValid(dragId,dropId,nodeMap))return!1}return!0},getValidSelectedNodes=function getValidSelectedNodes(selectedNodes,nodeMap){for(var validSelectedNodes=[],selectedIds=[],index=0;index<selectedNodes.length;index++){var node=selectedNodes[index];selectedIds.push(node._key)}for(var _index=0;_index<selectedNodes.length;_index++){var _node=selectedNodes[_index],ancestors=getAncestor(_node,nodeMap);isArrayRepeat(ancestors,selectedIds)||validSelectedNodes.push({nodeKey:_node._key,oldFather:_node.father})}return validSelectedNodes},getNextSelect=function getNextSelect(node,nodeMap){var father=nodeMap[node.father];if(father){var sortList=father.sortList;if(sortList.length>1){var index=sortList.findIndex((function(key){return key===node._key}));return index>0?sortList[index-1]:sortList[index+1]}return node.father}return null},getAncestor=function getAncestor(node,nodeMap,includeSelf){var ancestorList=includeSelf?[node._key]:[];return function getFather(node){var father=nodeMap[node.father];father&&(ancestorList.unshift(father._key),getFather(father))}(node),ancestorList};function addChildNode(nodeMap,selectedId,value){var nodes=Object.assign({},nodeMap),childNode={_key:guid(8,16),name:value||"",father:selectedId,sortList:[],checked:!1,hour:0,limitDay:0};return nodes[selectedId].sortList.push(childNode._key),nodes[childNode._key]=childNode,{nodes:nodes,addedNode:childNode}}function addNextNode(nodeMap,selectedId,value,isPrevious){var nodes=Object.assign({},nodeMap),fatherNode=nodes[nodes[selectedId].father],nextNode={_key:guid(8,16),name:value||"",father:fatherNode._key,sortList:[],checked:!1,hour:0,limitDay:0},brotherKeys=fatherNode.sortList;return brotherKeys.splice(isPrevious?brotherKeys.indexOf(selectedId):brotherKeys.indexOf(selectedId)+1,0,nextNode._key),fatherNode.sortList=brotherKeys,nodes[nextNode._key]=nextNode,{nodes:nodes,addedNode:nextNode}}function changeSortList(nodeMap,selectedId,type){var nodes=lodash_default.a.cloneDeep(nodeMap),brotherKeys=nodes[nodes[selectedId].father].sortList,index=brotherKeys.indexOf(selectedId);if("up"===type){if(0===index)return null;var _ref=[brotherKeys[index],brotherKeys[index-1]];brotherKeys[index-1]=_ref[0],brotherKeys[index]=_ref[1]}else if("down"===type){if(index+1===brotherKeys.length)return null;var _ref2=[brotherKeys[index+1],brotherKeys[index]];brotherKeys[index]=_ref2[0],brotherKeys[index+1]=_ref2[1]}return{nodes:nodes,brotherKeys:brotherKeys}}function deleteNode(nodeMap,selectedId){var nextSelectNodeKey,nodes=Object.assign({},nodeMap),selectedNode=nodes[selectedId],fatherNode=nodes[selectedNode.father],brotherKeys=fatherNode.sortList,index=brotherKeys.indexOf(selectedId);return brotherKeys.splice(index,1),nextSelectNodeKey=brotherKeys.length&&index>0?brotherKeys[index-1]:fatherNode._key,fatherNode.sortList=brotherKeys,function deleteNodeById(node){for(var sortList=node.sortList,_index2=0;_index2<sortList.length;_index2++){var childKey=sortList[_index2],child=nodes[childKey];deleteNodeById(child)}delete nodes[node._key]}(selectedNode),{nodes:nodes,nextSelectNodeKey:nextSelectNodeKey}}function util_dot(nodeMap,nodeId){for(var nodes=Object.assign({},nodeMap),keys=Object.keys(nodes),index=0;index<keys.length;index++){var element=nodes[keys[index]];delete element.width,delete element.x,delete element.y}var selectedNode=nodes[nodeId];return selectedNode&&(selectedNode.contract=!selectedNode.contract),nodes}function checkNode(nodeMap,nodeId){var nodes=Object.assign({},nodeMap),node=nodes[nodeId];return node&&(node.checked=!node.checked),nodes}function changeNodeText(nodeMap,id,text){var nodes=Object.assign({},nodeMap),node=nodes[id];return node?(text||(text=""),node.name=text,nodes):nodes}function updateNodeByKey(nodeMap,id,data){var nodes=Object.assign({},nodeMap),node=nodes[id];return node?(nodes[id]=Object.assign({},node,data),nodes):nodes}function pasteNode(map,pasteNodeKey,pasteType,targetNodeKey){var nodeMap=Object.assign({},map),pasteNode=nodeMap[pasteNodeKey],targetNode=nodeMap[targetNodeKey];if("cut"===pasteType){if(pasteNodeKey===targetNodeKey)return null;var selectedNodeFather=nodeMap[pasteNode.father];if(!selectedNodeFather)return;var sortList=selectedNodeFather.sortList;return sortList.splice(sortList.indexOf(pasteNode._key),1),pasteNode.father=targetNodeKey,targetNode.sortList.push(pasteNode._key),nodeMap}if("copy"===pasteType){var copiedNodesStr=localStorage.getItem("copiedNodes");if(copiedNodesStr){var newNodeMap=JSON.parse(copiedNodesStr);(nodeMap=Object.assign({},nodeMap,newNodeMap.nodes))[newNodeMap.root]&&(nodeMap[newNodeMap.root].father=targetNode._key),nodeMap[targetNodeKey]&&nodeMap[targetNodeKey].sortList.push(newNodeMap.root)}return nodeMap}return null}function copyNode(nodeMap,nodeKey){var newNodeMap={},suffix=guid(8,16),node=nodeMap[nodeKey];node&&(!function copy(node,suffix,isRoot){var newNode=JSON.parse(JSON.stringify(node));newNode._key=newNode._key+"-"+suffix,isRoot||(newNode.father=newNode.father+"-"+suffix);for(var sortList=newNode.sortList,index=0;index<sortList.length;index++){var childKey=sortList[index];nodeMap[childKey]&&(copy(nodeMap[childKey],suffix),newNode.sortList[index]=newNode.sortList[index]+"-"+suffix)}newNodeMap[newNode._key]=newNode}(node,suffix,!0),localStorage.setItem("copiedNodes",JSON.stringify({nodes:newNodeMap,root:nodeKey+"-"+suffix})))}function dragSort(map,dragId,dropId,placement){var nodeMap=Object.assign({},map),selectedNode=nodeMap[dragId],targetNode=nodeMap[dropId];if(!selectedNode||!targetNode)return null;switch(placement){case"in":var selectedNodeFather=nodeMap[selectedNode.father];if(!selectedNodeFather)break;var sortList=selectedNodeFather.sortList;sortList.splice(sortList.indexOf(selectedNode._key),1),selectedNode.father=dropId,targetNode.sortList.push(selectedNode._key);break;case"up":case"down":!function addSibling(type){if(!selectedNode||!targetNode)return;if(selectedNode.father===targetNode.father){var father=nodeMap[targetNode.father];if(!father)return;var _sortList=father.sortList;_sortList.splice(_sortList.indexOf(selectedNode._key),1),_sortList.splice("down"===type?_sortList.indexOf(dropId)+1:_sortList.indexOf(dropId),0,dragId)}else{var _selectedNodeFather=nodeMap[selectedNode.father];if(!_selectedNodeFather)return;var _sortList2=_selectedNodeFather.sortList;_sortList2.splice(_sortList2.indexOf(selectedNode._key),1),selectedNode.father=targetNode.father;var targetFather=nodeMap[targetNode.father];if(!targetFather)return;var children2=targetFather.sortList;children2.splice("down"===type?children2.indexOf(dropId)+1:children2.indexOf(dropId),0,dragId)}}(placement)}return nodeMap}function getNodesInSelection(selectionX,selectionY,selectionWidth,selectionHeight,nodeHeight,cnodes){for(var r1,r2,selectionStartX=selectionX,selectionStartY=selectionY,selectionEndX=selectionX+selectionWidth,selectionEndY=selectionY+selectionHeight,nodesInSelection=[],index=0;index<cnodes.length;index++){var node=cnodes[index];if(!(node&&node.width&&node.x&&node.y))break;var startX=node.x,startY=node.y,endX=node.x+node.width,endY=node.y+nodeHeight;r1={x1:selectionStartX,y1:selectionStartY,x2:selectionEndX,y2:selectionEndY},r2={x1:startX,y1:startY,x2:endX,y2:endY},Math.abs((r1.x1+r1.x2)/2-(r2.x1+r2.x2)/2)<(r1.x2+r2.x2-r1.x1-r2.x1)/2&&Math.abs((r1.y1+r1.y2)/2-(r2.y1+r2.y2)/2)<(r1.y2+r2.y2-r1.y1-r2.y1)/2&&nodesInSelection.push(node)}return nodesInSelection}function changeSelect(selectedId,cnodes,direction){var nodes=_toConsumableArray(cnodes),target=nodes.find((function(node){return node._key===selectedId}));if(target&&target.x&&target.y){for(var minDistance,resultNode,index=0;index<nodes.length;index++){var node=nodes[index];if(!node||!node.x||!node.y)break;var distanceX=target.x-node.x,distanceY=target.y-node.y;"ArrowUp"===direction?distanceY>0&&getMinDistance(node,distanceY,distanceX):"ArrowRight"===direction?distanceX<0&&0===distanceY&&getMinDistance(node,distanceY,distanceX):"ArrowDown"===direction?distanceY<0&&getMinDistance(node,distanceY,distanceX):"ArrowLeft"===direction&&distanceX>0&&0===distanceY&&getMinDistance(node,distanceY,distanceX)}return resultNode}function getMinDistance(node,distanceY,distanceX){minDistance?Math.abs(distanceY)+Math.abs(distanceX)<minDistance&&(minDistance=Math.abs(distanceY)+Math.abs(distanceX),resultNode=node):(minDistance=Math.abs(distanceY)+Math.abs(distanceX),resultNode=node)}}function changeMindSelect(selectedId,cnodes,direction){var nodes=_toConsumableArray(cnodes),target=nodes.find((function(node){return node._key===selectedId}));if(target&&target.x&&target.y&&target.width){for(var minDistance,resultNode,index=0;index<nodes.length;index++){var node=nodes[index];if(!(node&&node.x&&node.y&&node.width))break;var distanceX=node.toLeft?target.x+target.width-(node.x+node.width):target.x-node.x,distanceY=target.y-node.y;"ArrowUp"===direction?distanceY>0&&getMinDistance(node,distanceY,distanceX):"ArrowRight"===direction?distanceX<0&&getMinDistance(node,distanceY,distanceX):"ArrowDown"===direction?distanceY<0&&getMinDistance(node,distanceY,distanceX):"ArrowLeft"===direction&&distanceX>0&&getMinDistance(node,distanceY,distanceX)}return resultNode}function getMinDistance(node,distanceY,distanceX){minDistance?Math.abs(distanceY)+Math.abs(distanceX)<minDistance&&(minDistance=Math.abs(distanceY)+Math.abs(distanceX),resultNode=node):(minDistance=Math.abs(distanceY)+Math.abs(distanceX),resultNode=node)}}function moveCursorToEnd(elment){if(elment.focus(),window.getSelection){var range=window.getSelection();range&&(sessionStorage.setItem("cursorInTail","tail"),range.selectAllChildren(elment),range.collapseToEnd())}}function isCursorHead(){if(!window.getSelection)return"";var selection=window.getSelection();return 0===(null==selection?void 0:selection.focusOffset)}function getCursorIndex(){if(window.getSelection){var selection=window.getSelection();return null==selection?void 0:selection.focusOffset}}function util_isMobile(){var u=navigator.userAgent;return null==u||null!=/(nokia|iphone|android|motorola|^mot-|softbank|foma|docomo|kddi|up.browser|up.link|htc|dopod|blazer|netfront|helio|hosin|huawei|novarra|CoolPad|webos|techfaith|palmsource|blackberry|alcatel|amoi|ktouch|nexian|samsung|^sam-|s[cg]h|^lge|ericsson|philips|sagem|wellcom|bunjalloo|maui|symbian|smartphone|midp|wap|phone|windows ce|iemobile|^spice|^bird|^zte-|longcos|pantech|gionee|^sie-|portalmmm|jigs browser|hiptop|^benq|haier|^lct|operas*mobi|opera*mini|320x320|240x320|176x220|Mobile)/i.exec(u)}function mouseDirection(element,e){var x1,y1,x4,y4,x0,y0,k,dirs=["top","right","bottom","left"],rect=element.getBoundingClientRect();if(rect.width||(rect.width=rect.right-rect.left),rect.height||(rect.height=rect.bottom-rect.top),x1=rect.left,y1=-rect.top,x4=rect.left+rect.width,y4=-(rect.top+rect.height),x0=rect.left+rect.width/2,y0=-(rect.top+rect.height/2),Math.abs(x1-x4)<1e-4)return dirs[4];var x,y,kk,range=[k=(y1-y4)/(x1-x4),-k];return x=e.clientX,kk=((y=-e.clientY)-y0)/(x-x0),isFinite(kk)&&range[0]<kk&&kk<range[1]?x>x0?dirs[1]:dirs[3]:y>y0?dirs[0]:dirs[2]}function isEmoji(str){return!!str&&/(\ud83c[\udf00-\udfff])|(\ud83d[\udc00-\ude4f\ude80-\udeff])|[\u2600-\u2B55]/g.test(str)}function countNodeDescendants(nodeMap,nodeId){var count=0;return function countNum(nodeId){var node=nodeMap[nodeId];if(node){var childKeys=node.sortList;count+=childKeys.length;for(var index=0;index<childKeys.length;index++){var childKey=childKeys[index];countNum(childKey)}}}(nodeId),count}var urlReg=/(([\w-]{1,}\.+)+([a-zA-Z]+)(\/#\/)*\/*[\w\/\?=&%.]*)|(http:\/\/([\w-]{1,}\.+)+([a-zA-Z]+)(\/#\/)*\/*[\w\/\?=&%.]*)|(https:\/\/([\w-]{1,}\.+)+([a-zA-Z]+)(\/#\/)*\/*[\w\/\?=&%.]*)/g,rainbowColors=["#fa6761","#f7b370","#f5db4d","#32c995","#6c87ff","#706dcb"],lightRainbowColors={"#fa6761":"#fed9d8","#f7b370":"#fdecdb","#f5db4d":"#fdf6d3","#32c995":"#ccf2e5","#6c87ff":"#dae1ff","#706dcb":"#dbdbf2"};function createObjectUrl(content,type){return window.URL.createObjectURL(new Blob(content,{type:type}))}function download(url,fileName){var a=document.createElement("a");if(a.href=url,fileName)a.download=fileName;else{var matchs=url.match(/([^\/]+)\.([^\/]+)$/i);a.download=matchs?matchs[0]:"file"}a.click()}function downloadSvgAsPng(svg,width,height,title){var image=new Image;image.src="data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(svg)));var canvas=document.createElement("canvas");canvas.width=2*width,canvas.height=2*height;var context=canvas.getContext("2d");return new Promise(function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark((function _callee(resolve,reject){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:try{image.onload=function(){if(context){context.drawImage(image,0,0);var a=document.createElement("a");a.href=canvas.toDataURL("image/png"),a.download=title,a.click(),resolve({status:!0})}}}catch(error){reject(error)}case 1:case"end":return _context.stop()}}),_callee)})));return function(_x,_x2){return _ref3.apply(this,arguments)}}())}function getBase64Image(img){var canvas=document.createElement("canvas");canvas.width=img.width,canvas.height=img.height;var ctx=canvas.getContext("2d");if(ctx){ctx.drawImage(img,0,0,img.width,img.height);var ext=img.src.substring(img.src.lastIndexOf(".")+1).toLowerCase();return canvas.toDataURL("image/"+ext)}return""}function getImgData(imgUrl){var image=new Image;return image.crossOrigin="Anonymous",image.src=imgUrl,new Promise(function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(resolve,reject){return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:try{image.onload=function(){var base64=getBase64Image(image);resolve(base64)}}catch(error){reject(error)}case 1:case"end":return _context2.stop()}}),_callee2)})));return function(_x3,_x4){return _ref4.apply(this,arguments)}}())}function downloadSvgAsPdf(svg,width,height,title){var image=new Image;image.src="data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(svg)));var canvas=document.createElement("canvas");canvas.width=2*width,canvas.height=2*height;var context=canvas.getContext("2d");return new Promise(function(){var _ref5=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(resolve,reject){return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:try{image.onload=function(){if(context){context.drawImage(image,0,0);var imageData=canvas.toDataURL("image/png"),doc=new jspdf_es_min.a(width>height?"landscape":"portrait","px",[width,height]);doc.addImage(imageData,"JPEG",0,0,width,height),doc.save(title+".pdf"),resolve({status:!0})}}}catch(error){reject(error)}case 1:case"end":return _context3.stop()}}),_callee3)})));return function(_x5,_x6){return _ref5.apply(this,arguments)}}())}var Add_Add=function Add(_ref){var node=_ref.node,BLOCK_HEIGHT=_ref.BLOCK_HEIGHT,rectHeight=_ref.rectHeight,_ref$position=_ref.position,position=void 0===_ref$position?"right":_ref$position,PATH_COLOR=_ref.PATH_COLOR,handleAddChild=_ref.handleAddChild;function getX(pos){switch(pos){case"right":return node.x+node.width+4;case"left":return node.x-20-2;case"leftBottom":return node.x-5;case"bottomCenter":return node.x+node.width/2-10;default:return node.x}}function getY(pos,radius){var y=0;switch(pos){case"right":case"left":y=node.y+BLOCK_HEIGHT/2-radius;break;case"leftBottom":case"bottomCenter":y=node.y+rectHeight+2;break;default:y=node.y+rectHeight/2-radius}return y}return node.x&&node.y?Object(jsx_runtime.jsx)("g",{children:Object(jsx_runtime.jsxs)("g",{children:[Object(jsx_runtime.jsx)("path",{d:function getPath(position){switch(position){case"right":return"M "+(node.x+node.width)+" "+getY(position,0)+" H "+(getX(position)+2);case"left":return"M "+node.x+" "+getY(position,0)+" H "+(getX(position)+3);case"leftBottom":return"M "+(getX(position)+10)+" "+(node.y+rectHeight)+" V "+(node.y+rectHeight+4);case"bottomCenter":return"M "+(node.x+node.width/2)+" "+(node.y+BLOCK_HEIGHT)+" V "+(node.y+BLOCK_HEIGHT+4);default:return""}}(position),fill:"none",stroke:PATH_COLOR,strokeWidth:1}),Object(jsx_runtime.jsx)("use",{className:"add-action",href:"#add",x:getX(position),y:getY(position,10),onClick:function onClick(e){e.stopPropagation(),handleAddChild()}},"add")]})}):null},components_Add=Add_Add;try{Add_Add.displayName="Add",Add_Add.__docgenInfo={description:"",displayName:"Add",props:{node:{defaultValue:null,description:"",name:"node",required:!0,type:{name:"CNode"}},BLOCK_HEIGHT:{defaultValue:null,description:"",name:"BLOCK_HEIGHT",required:!0,type:{name:"number"}},rectHeight:{defaultValue:null,description:"",name:"rectHeight",required:!0,type:{name:"number"}},position:{defaultValue:{value:"right"},description:"",name:"position",required:!1,type:{name:"enum",value:[{value:'"right"'},{value:'"left"'},{value:'"leftBottom"'},{value:'"bottomCenter"'}]}},PATH_COLOR:{defaultValue:null,description:"",name:"PATH_COLOR",required:!0,type:{name:"string"}},handleAddChild:{defaultValue:null,description:"",name:"handleAddChild",required:!0,type:{name:"() => void"}},handleAddNext:{defaultValue:null,description:"",name:"handleAddNext",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Add.tsx#Add"]={docgenInfo:Add_Add.__docgenInfo,name:"Add",path:"src/components/Add.tsx#Add"})}catch(__react_docgen_typescript_loader_error){}function TreeNode_slicedToArray(arr,i){return function TreeNode_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function TreeNode_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function TreeNode_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return TreeNode_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TreeNode_arrayLikeToArray(o,minLen)}(arr,i)||function TreeNode_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TreeNode_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var TreeNode_now=new Date((new Date).setHours(0,0,0,0)).getTime(),TreeNode_TreeNode=function TreeNode(_ref){var _node$texts,_node$texts2,_node$texts3,_node$texts4,_node$texts5,node=_ref.node,startId=_ref.startId,topBottomMargin=_ref.topBottomMargin,lineHeight=_ref.lineHeight,FONT_SIZE=_ref.FONT_SIZE,avatarRadius=_ref.avatarRadius,color=_ref.color,alias=_ref.alias,selected=_ref.selected,selectedNodes=_ref.selectedNodes,showIcon=_ref.showIcon,showAvatar=_ref.showAvatar,selectedColor=_ref.selectedColor,singleColumn=_ref.singleColumn,hideBorder=_ref.hideBorder,dotColor=_ref.dotColor,hoverBorderColor=_ref.hoverBorderColor,selectedBorderColor=_ref.selectedBorderColor,treeBackgroundColor=_ref.treeBackgroundColor,startNodeBg=_ref.startNodeBg,nodeColor=_ref.nodeColor,customAdornment=_ref.customAdornment,disabled=_ref.disabled,handleCheck=_ref.handleCheck,handleClickAvatar=_ref.handleClickAvatar,handleClickStatus=_ref.handleClickStatus,handleClickNode=_ref.handleClickNode,handleDbClickNode=_ref.handleDbClickNode,clickPreview=_ref.clickPreview,updateDragInfo=_ref.updateDragInfo,handleDragStart=_ref.handleDragStart,dragStarted=_ref.dragStarted,handleClickDot=_ref.handleClickDot,handleExpand=_ref.handleExpand,dragEndFromOutside=_ref.dragEndFromOutside,mouseEnterAvatar=_ref.mouseEnterAvatar,mouseLeaveAvatar=_ref.mouseLeaveAvatar,bottomOptions=_ref.bottomOptions,hideHour=_ref.hideHour,handleFileChange=_ref.handleFileChange,onContextMenu=_ref.onContextMenu,onClickNodeImage=_ref.onClickNodeImage,onResizeImage=_ref.onResizeImage,handleAddChild=_ref.handleAddChild,handleAddNext=_ref.handleAddNext,_useState2=TreeNode_slicedToArray(Object(react.useState)(!1),2),hover=_useState2[0],sethover=_useState2[1],_useState4=TreeNode_slicedToArray(Object(react.useState)(!1),2),dragIn=_useState4[0],setDragIn=_useState4[1],_useState6=TreeNode_slicedToArray(Object(react.useState)(!1),2),mouseDown=_useState6[0],setMouseDown=_useState6[1],_useState8=TreeNode_slicedToArray(Object(react.useState)(0),2),clickX=_useState8[0],setclickX=_useState8[1],_useState10=TreeNode_slicedToArray(Object(react.useState)(0),2),clickY=_useState10[0],setclickY=_useState10[1],_useState12=TreeNode_slicedToArray(Object(react.useState)(0),2),y=_useState12[0],setY=_useState12[1],_useState14=TreeNode_slicedToArray(Object(react.useState)(!1),2),hoverImage=_useState14[0],setHoverImage=_useState14[1],blockHeight=2*topBottomMargin+lineHeight,textHeight=2*topBottomMargin+((null===(_node$texts=node.texts)||void 0===_node$texts?void 0:_node$texts.length)||1)*lineHeight,imageHeight=node.imageUrl&&node.imageWidth&&node.imageHeight?node.imageHeight+7.5:0,bottomAdornmentHeight=node.bottomAdornmentHeight&&node.bottomAdornment?node.bottomAdornmentHeight:0,rectHeight=textHeight+imageHeight+bottomAdornmentHeight,iconIsEmoji=Object(react.useMemo)((function(){return isEmoji(node.icon)}),[node.icon]),limitDayNum=node.limitDay?node.limitDay-TreeNode_now>0?Math.floor((node.limitDay-TreeNode_now)/864e5):Math.floor((node.limitDay-TreeNode_now)/864e5)-1:0,lastX=0,lastTime=0,width=0,pasteNodeKey="cut"===localStorage.getItem("pasteType")?localStorage.getItem("pasteNodeKey"):null;function location(node,type){return nodeLocation(node,type,blockHeight,showIcon,showAvatar,avatarRadius,!1)}function mouseMoveHandle(e){var time=(new Date).getTime();if(time-lastTime>166.66||!lastTime){var diffX=e.clientX-lastX;lastX=e.clientX,width+diffX>100&&(width+=diffX,onResizeImage(node._key,width)),lastTime=time}}function mouseUpHandle(){window.removeEventListener("mousemove",mouseMoveHandle),window.removeEventListener("mouseup",mouseUpHandle)}var textLocationRes=location(node,"text"),circleLocationRes=location(node,"avatar"),checkLocationRes=location(node,"checkbox"),statusLocationRes=location(node,"status"),iconLocationRes=location(node,"icon"),favoriteLocationRes=location(node,"favorite"),packLocationRes=location(node,"pack"),startAdornmentLocationRes=location(node,"startAdornment"),singleRowLinks=Object(react.useMemo)((function(){if(!node.texts&&urlReg.test(node.name)){var name=node.name,matchList=name.match(urlReg);if(!matchList)return;for(var arr=name.replace(urlReg,"!@#").split(/(!@#)/),matchListIndex=0,links=[],index=0;index<arr.length;index++){var element=arr[index];"!@#"===element?(links.push({text:matchList[matchListIndex],type:"link"}),matchListIndex++):links.push({text:element,type:"text"})}return links}}),[node.name]),nodeRectClassName=function rectClassName(node){return selected===node._key||-1!==selectedNodes.findIndex((function(item){return item._key===node._key}))?"selected":hideBorder||node.father!==startId&&node._key!==startId?"":"border-rect"}(node),backgroundColor=node.backgroundColor?node.backgroundColor:node._key===startId?startNodeBg:nodeColor||"#f0f0f0";"1.1. Element"===node.name&&console.log("------1.1. Element------",backgroundColor,nodeColor);var nameLinkArr=[];if(urlReg.test(node.name)){var arr1=[],matchList=node.name.match(urlReg);if(matchList){for(var textList,tempText=node.name,index=0;index<matchList.length;index++){var element=matchList[index];tempText=tempText.replace(element,"!@#")}textList=tempText.split("!@#");for(var _index=0;_index<textList.length;_index++){var text=textList[_index];arr1.push(text),matchList[_index]&&arr1.push(matchList[_index])}}var marginLeft=0;if(arr1&&arr1.length)for(var _index2=0;_index2<arr1.length;_index2++){var name=arr1[_index2];0!==_index2&&(marginLeft+=textWidthAll(FONT_SIZE,arr1[_index2-1]));var type=urlReg.test(name)?"link":"text";nameLinkArr.push({text:name,type:type,marginLeft:marginLeft})}}var nodeRectStyle={};if(dragStarted&&hover||dragIn)nodeRectStyle={fill:backgroundColor,fillOpacity:.5,stroke:selectedBorderColor,strokeWidth:2};else switch(nodeRectClassName){case"border-rect":default:nodeRectStyle={fill:backgroundColor,stroke:hover?hoverBorderColor:"unset",strokeWidth:2};break;case"selected":nodeRectStyle={fill:backgroundColor,stroke:selectedBorderColor,strokeWidth:2,fillOpacity:pasteNodeKey&&pasteNodeKey===node._key?.4:1,strokeOpacity:pasteNodeKey&&pasteNodeKey===node._key?.4:1}}var normalTextColor=color;return node.x&&node.y?Object(jsx_runtime.jsxs)("g",{id:"tree-node-"+node._key,className:"tree-node",onClick:function onClick(){return handleClickNode(node)},onDoubleClick:function onDoubleClick(){return handleDbClickNode(node)},onMouseDown:function onMouseDown(e){0===e.button&&(e.stopPropagation(),setMouseDown(!0),setclickX(e.clientX),setclickY(e.clientY))},onMouseUp:function onMouseUp(){return setMouseDown(!1)},onMouseMove:function onMouseMove(e){mouseDown&&e.stopPropagation()},onMouseEnter:function handleMouseEnter(e){var crossCompDragId=sessionStorage.getItem("cross-comp-drag");sethover(!0),setY(e.clientY),dragStarted&&updateDragInfo({dropNodeId:node._key,placement:"in"}),crossCompDragId&&sessionStorage.setItem("cross-comp-drop",node._key)},onMouseLeave:function handleMouseLeave(e){sethover(!1),dragStarted&&updateDragInfo({dropNodeId:node._key,placement:e.clientY-y>0?"down":"up"}),mouseDown&&(handleDragStart(node,clickX,clickY),setMouseDown(!1))},onContextMenu:function handleContextMenu(event){onContextMenu&&(event.preventDefault(),onContextMenu(node._key,event))},onDragEnter:function handleDragEnter(){setDragIn(!0)},onDragLeave:function handleDragLeave(){setTimeout((function(){setDragIn(!1)}),50)},onDragOver:function handleDragOver(event){event.preventDefault()},onDrop:function handleDragEnd(event){event.preventDefault();var files=event.dataTransfer.files;files.length&&handleFileChange?handleFileChange(node._key,node.name,files):(setDragIn(!1),dragEndFromOutside&&dragEndFromOutside(node,event.dataTransfer.getData("text/plain")))},style:{position:"relative"},children:[Object(jsx_runtime.jsx)("rect",{x:node.x-10,y:node.y,width:node.name?node.width+2+20:120,height:rectHeight+10,fillOpacity:0}),Object(jsx_runtime.jsx)("rect",{className:"node-rect "+(selected===node._key?"selected":""),x:node.x,y:node.y,rx:4,ry:4,width:node.width,height:rectHeight,style:Object.assign({},nodeRectStyle)}),node.isPack?Object(jsx_runtime.jsx)("use",{href:"#pack",width:"22",height:"22",x:null==packLocationRes?void 0:packLocationRes.x,y:null==packLocationRes?void 0:packLocationRes.y},"pack"):null,node.hasCollect?Object(jsx_runtime.jsx)("use",{href:"#favorite",width:"22",height:"22",x:null==favoriteLocationRes?void 0:favoriteLocationRes.x,y:null==favoriteLocationRes?void 0:favoriteLocationRes.y},"favorite"):null,showIcon&&node.icon?iconIsEmoji?Object(jsx_runtime.jsx)("text",{x:null==iconLocationRes?void 0:iconLocationRes.x,y:null==iconLocationRes?void 0:iconLocationRes.emojiY,dominantBaseline:"middle",fontSize:"18px",children:node.icon}):Object(jsx_runtime.jsx)("image",{x:null==iconLocationRes?void 0:iconLocationRes.x,y:null==iconLocationRes?void 0:iconLocationRes.y,width:"22",height:"22",href:node.icon,style:{cursor:"pointer"},onClick:function handleClickPreview(){clickPreview(node)}},"avatar-image"):null,showAvatar&&node.avatarUri?Object(jsx_runtime.jsxs)("g",{onClick:function onClick(event){return handleClickAvatar(node,event)},onMouseEnter:function handleMouseEnterAvatar(){mouseEnterAvatar&&mouseEnterAvatar(node)},onMouseLeave:function handleMouseLeaveAvatar(){mouseLeaveAvatar&&mouseLeaveAvatar(node)},viewBox:"0,0,"+2*avatarRadius+","+2*avatarRadius,children:[Object(jsx_runtime.jsx)("clipPath",{id:alias+"-avatar-clip-"+node._key,children:Object(jsx_runtime.jsx)("circle",{cx:circleLocationRes?circleLocationRes.x+avatarRadius:0,cy:circleLocationRes?circleLocationRes.y+avatarRadius:0,r:avatarRadius})}),Object(jsx_runtime.jsx)("image",{x:null==circleLocationRes?void 0:circleLocationRes.x,y:null==circleLocationRes?void 0:circleLocationRes.y,width:2*avatarRadius,height:2*avatarRadius,href:node.avatarUri,clipPath:"url(#"+alias+"-avatar-clip-"+node._key+")",preserveAspectRatio:"xMidYMid slice"})]}):null,node.showCheckbox?Object(jsx_runtime.jsx)("use",{href:"#checkbox-"+(node.checked?"checked":"uncheck"),x:null==checkLocationRes?void 0:checkLocationRes.x,y:null==checkLocationRes?void 0:checkLocationRes.y,onClick:function onClick(event){return handleCheck(node,event)}},"checkbox"):null,node.showStatus?Object(jsx_runtime.jsxs)("g",{onClick:function onClick(event){return handleClickStatus(node,event)},children:[hideHour?Object(jsx_runtime.jsx)("use",{href:"#status-onlyday"+(limitDayNum&&limitDayNum<0?node.checked?"-complete":"-overdue":""),x:null==statusLocationRes?void 0:statusLocationRes.x,y:null==statusLocationRes?void 0:statusLocationRes.y}):Object(jsx_runtime.jsx)("use",{href:"#status"+(limitDayNum&&limitDayNum<0?node.checked?"-complete":"-overdue":""),x:null==statusLocationRes?void 0:statusLocationRes.x,y:null==statusLocationRes?void 0:statusLocationRes.y}),Object(jsx_runtime.jsxs)("g",{fill:"#fff",textAnchor:"middle",dominantBaseline:"middle",children:[Object(jsx_runtime.jsx)("text",{x:statusLocationRes?hideHour?statusLocationRes.x+11:statusLocationRes.x+9:0,y:statusLocationRes?hideHour?statusLocationRes.y+11:statusLocationRes.y+15:0,fontSize:"10",style:{userSelect:"none"},children:node.limitDay?Math.abs(limitDayNum)>99?"99+":Math.abs(limitDayNum):"∞"}),hideHour?null:Object(jsx_runtime.jsx)("text",{x:statusLocationRes?statusLocationRes.x+15:0,y:statusLocationRes?statusLocationRes.y+6:0,fontSize:"8",style:{userSelect:"none"},children:node.hour?node.hour>9?"9+":node.hour:"-"})]})]}):null,node.startAdornment&&node.startAdornmentWidth&&node.startAdornmentHeight?Object(jsx_runtime.jsx)("g",{style:{pointerEvents:dragIn?"none":void 0},children:Object(jsx_runtime.jsx)(node.startAdornment,{x:(null==startAdornmentLocationRes?void 0:startAdornmentLocationRes.x)||0,y:(null==startAdornmentLocationRes?void 0:startAdornmentLocationRes.y)||0,nodeKey:node._key})}):null,Object(jsx_runtime.jsx)("text",{className:"node-text "+(selected===node._key?"selected":""),x:null==textLocationRes?void 0:textLocationRes.x,y:null==textLocationRes?void 0:textLocationRes.y,dominantBaseline:"middle",fontSize:FONT_SIZE,style:{fill:"line-through"===node.textDecoration?"#999":"selected"!==nodeRectClassName||node.color||node._key===startId?node._key===startId?"#FFF":node.color?node.color:normalTextColor:selectedColor||"#000000",fillOpacity:pasteNodeKey&&pasteNodeKey===node._key?.4:1,userSelect:"none",textDecoration:node.textDecoration,fontWeight:node.bold?"bold":"normal",fontStyle:node.italic?"italic":"unset",pointerEvents:dragIn?"none":void 0},children:node.texts?node.texts.map((function(text,index){return Object(jsx_runtime.jsx)("tspan",{x:null==textLocationRes?void 0:textLocationRes.x,dy:0===index?void 0:lineHeight,children:text},index)})):singleRowLinks?singleRowLinks.map((function(item,index){return Object(jsx_runtime.jsx)("tspan",{fill:"link"===item.type?selectedBorderColor:void 0,onClick:function onClick(){return function handleClickLink(type,url){"link"===type&&(url.includes("http")?window.open(url,"_blank"):window.open("http://"+url,"_blank"))}(item.type,item.text)},children:item.text},index)})):node.name}),node.endAdornment&&node.endAdornmentWidth&&node.endAdornmentHeight?Object(jsx_runtime.jsx)("g",{style:{pointerEvents:dragIn?"none":void 0},children:Object(jsx_runtime.jsx)(node.endAdornment,{x:node.x+node.width-node.endAdornmentWidth-5,y:node.y+(2*topBottomMargin+lineHeight-(node.endAdornmentHeight||0))/2,nodeKey:node._key})}):null,node.bottomAdornment&&node.bottomAdornmentWidth&&node.bottomAdornmentHeight?Object(jsx_runtime.jsx)("g",{style:{pointerEvents:dragIn?"none":void 0},children:Object(jsx_runtime.jsx)(node.bottomAdornment,{x:node.x,y:node.y+rectHeight-bottomAdornmentHeight,nodeKey:node._key})}):null,customAdornment&&customAdornment({x:node.x,y:node.y,height:rectHeight,nodeKey:node._key}),node.imageUrl&&node.imageWidth&&node.imageHeight?Object(jsx_runtime.jsxs)("g",{onMouseEnter:function handleMouseEnterImage(){setHoverImage(!0)},onMouseLeave:function handleMouseLeaveImage(){setHoverImage(!1)},children:[hoverImage?[Object(jsx_runtime.jsx)("rect",{x:(null==node?void 0:node.x)+7.5,y:((null==node?void 0:node.y)||0)+topBottomMargin+((null===(_node$texts2=node.texts)||void 0===_node$texts2?void 0:_node$texts2.length)||1)*lineHeight,width:node.imageWidth,height:node.imageHeight,stroke:selectedBorderColor,strokeWidth:2,fillOpacity:0},"image-hover-rect"),Object(jsx_runtime.jsx)("rect",{x:(null==node?void 0:node.x)+7.5,y:((null==node?void 0:node.y)||0)+topBottomMargin+((null===(_node$texts3=node.texts)||void 0===_node$texts3?void 0:_node$texts3.length)||1)*lineHeight,width:node.imageWidth+5,height:node.imageHeight+5,fillOpacity:0},"image-rect")]:null,Object(jsx_runtime.jsx)("image",{x:(null==node?void 0:node.x)+7.5,y:((null==node?void 0:node.y)||0)+topBottomMargin+((null===(_node$texts4=node.texts)||void 0===_node$texts4?void 0:_node$texts4.length)||1)*lineHeight,width:node.imageWidth,height:node.imageHeight,href:node.imageUrl,style:{cursor:"pointer"},onClick:function handleClickImage(event){var _node$imageUrl;if(event.stopPropagation(),onClickNodeImage)onClickNodeImage(node.imageUrl);else if(null!==(_node$imageUrl=node.imageUrl)&&void 0!==_node$imageUrl&&_node$imageUrl.startsWith("data:image/")){var img=new window.Image;img.src=node.imageUrl;var newWin=window.open("");newWin&&(newWin.document.write(img.outerHTML),newWin.document.title=node.name,newWin.document.close())}else window.open(node.imageUrl,"_blank")}}),hoverImage?Object(jsx_runtime.jsx)("rect",{x:(null==node?void 0:node.x)+7.5+node.imageWidth-4,y:node.y+topBottomMargin+((null===(_node$texts5=node.texts)||void 0===_node$texts5?void 0:_node$texts5.length)||1)*lineHeight+node.imageHeight-4,width:8,height:8,stroke:selectedBorderColor,strokeWidth:2,fill:"#FFF",style:{cursor:"nwse-resize"},onMouseDown:function handleStartResizeImage(e){e.stopPropagation(),lastX=e.clientX,width=node.imageWidth||0,window.addEventListener("mousemove",mouseMoveHandle),window.addEventListener("mouseup",mouseUpHandle)}},"drag-handle"):null]}):null,node._key!==startId?Object(jsx_runtime.jsx)(components_Dot,{node:node,BLOCK_HEIGHT:blockHeight,handleClick:handleClickDot,dragStarted:dragStarted,color:dotColor,position:node.toLeft?"right":"left"}):null,node.contract||hover&&(node._key!==selected||disabled)?Object(jsx_runtime.jsx)(components_Expand,{node:node,BLOCK_HEIGHT:blockHeight,rectHeight:rectHeight,backgroundColor:"unset"===treeBackgroundColor?"#FFF":treeBackgroundColor,handleClickExpand:function handleClickExpand(){return handleExpand(node)},position:bottomOptions?node.toLeft?"left":"right":node._key!==startId||singleColumn?"leftBottom":"bottomCenter",PATH_COLOR:dotColor}):null,node._key!==selected||node.contract||disabled?null:Object(jsx_runtime.jsx)(components_Add,{node:node,BLOCK_HEIGHT:blockHeight,rectHeight:rectHeight,position:bottomOptions?node.toLeft?"left":"right":node._key!==startId||singleColumn?"leftBottom":"bottomCenter",PATH_COLOR:dotColor,handleAddChild:handleAddChild,handleAddNext:handleAddNext})]}):null},components_TreeNode=TreeNode_TreeNode;try{TreeNode_TreeNode.displayName="TreeNode",TreeNode_TreeNode.__docgenInfo={description:"",displayName:"TreeNode",props:{node:{defaultValue:null,description:"",name:"node",required:!0,type:{name:"CNode"}},startId:{defaultValue:null,description:"",name:"startId",required:!0,type:{name:"string"}},topBottomMargin:{defaultValue:null,description:"",name:"topBottomMargin",required:!0,type:{name:"number"}},lineHeight:{defaultValue:null,description:"",name:"lineHeight",required:!0,type:{name:"number"}},FONT_SIZE:{defaultValue:null,description:"",name:"FONT_SIZE",required:!0,type:{name:"number"}},avatarRadius:{defaultValue:null,description:"",name:"avatarRadius",required:!0,type:{name:"number"}},color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"string"}},alias:{defaultValue:null,description:"",name:"alias",required:!0,type:{name:"number"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"string | null"}},selectedNodes:{defaultValue:null,description:"",name:"selectedNodes",required:!0,type:{name:"Node[]"}},showIcon:{defaultValue:null,description:"",name:"showIcon",required:!0,type:{name:"boolean"}},showAvatar:{defaultValue:null,description:"",name:"showAvatar",required:!0,type:{name:"boolean"}},selectedColor:{defaultValue:null,description:"",name:"selectedColor",required:!1,type:{name:"string"}},singleColumn:{defaultValue:null,description:"",name:"singleColumn",required:!1,type:{name:"boolean"}},hideBorder:{defaultValue:null,description:"",name:"hideBorder",required:!1,type:{name:"boolean"}},dotColor:{defaultValue:null,description:"",name:"dotColor",required:!0,type:{name:"string"}},hoverBorderColor:{defaultValue:null,description:"",name:"hoverBorderColor",required:!0,type:{name:"string"}},selectedBorderColor:{defaultValue:null,description:"",name:"selectedBorderColor",required:!0,type:{name:"string"}},selectedBackgroundColor:{defaultValue:null,description:"",name:"selectedBackgroundColor",required:!0,type:{name:"string"}},treeBackgroundColor:{defaultValue:null,description:"",name:"treeBackgroundColor",required:!0,type:{name:"string"}},startNodeBg:{defaultValue:null,description:"",name:"startNodeBg",required:!0,type:{name:"string"}},nodeColor:{defaultValue:null,description:"",name:"nodeColor",required:!1,type:{name:"string"}},customAdornment:{defaultValue:null,description:"",name:"customAdornment",required:!1,type:{name:"FC<{ x: number; y: number; height: number; nodeKey: string; }>"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},handleCheck:{defaultValue:null,description:"",name:"handleCheck",required:!0,type:{name:"CheckFunc"}},handleClickAvatar:{defaultValue:null,description:"",name:"handleClickAvatar",required:!0,type:{name:"Function"}},handleClickStatus:{defaultValue:null,description:"",name:"handleClickStatus",required:!0,type:{name:"Function"}},handleClickNode:{defaultValue:null,description:"",name:"handleClickNode",required:!0,type:{name:"Function"}},handleDbClickNode:{defaultValue:null,description:"",name:"handleDbClickNode",required:!0,type:{name:"Function"}},clickPreview:{defaultValue:null,description:"",name:"clickPreview",required:!0,type:{name:"Function"}},handleClickDot:{defaultValue:null,description:"",name:"handleClickDot",required:!0,type:{name:"Function"}},handleExpand:{defaultValue:null,description:"",name:"handleExpand",required:!0,type:{name:"Function"}},mouseEnterAvatar:{defaultValue:null,description:"",name:"mouseEnterAvatar",required:!1,type:{name:"Function"}},mouseLeaveAvatar:{defaultValue:null,description:"",name:"mouseLeaveAvatar",required:!1,type:{name:"Function"}},handleDragStart:{defaultValue:null,description:"",name:"handleDragStart",required:!0,type:{name:"Function"}},updateDragInfo:{defaultValue:null,description:"",name:"updateDragInfo",required:!0,type:{name:"setDragInfoFunc"}},dragStarted:{defaultValue:null,description:"",name:"dragStarted",required:!0,type:{name:"boolean"}},dragEndFromOutside:{defaultValue:null,description:"",name:"dragEndFromOutside",required:!1,type:{name:"((node: CNode, dataTransferText: string) => void)"}},bottomOptions:{defaultValue:null,description:"",name:"bottomOptions",required:!1,type:{name:"boolean"}},hideHour:{defaultValue:null,description:"",name:"hideHour",required:!1,type:{name:"boolean"}},isMind:{defaultValue:null,description:"",name:"isMind",required:!1,type:{name:"boolean"}},handleFileChange:{defaultValue:null,description:"",name:"handleFileChange",required:!1,type:{name:"HandleFileChange"}},onContextMenu:{defaultValue:null,description:"",name:"onContextMenu",required:!1,type:{name:"((nodeKey: string, event: MouseEvent<Element, MouseEvent>) => void)"}},onClickNodeImage:{defaultValue:null,description:"",name:"onClickNodeImage",required:!1,type:{name:"((url?: string) => void)"}},onResizeImage:{defaultValue:null,description:"",name:"onResizeImage",required:!0,type:{name:"(nodeKey: string, width: number) => void"}},handleAddChild:{defaultValue:null,description:"",name:"handleAddChild",required:!0,type:{name:"() => void"}},handleAddNext:{defaultValue:null,description:"",name:"handleAddNext",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/TreeNode.tsx#TreeNode"]={docgenInfo:TreeNode_TreeNode.__docgenInfo,name:"TreeNode",path:"src/components/TreeNode.tsx#TreeNode"})}catch(__react_docgen_typescript_loader_error){}function ClickOutside_slicedToArray(arr,i){return function ClickOutside_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function ClickOutside_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function ClickOutside_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return ClickOutside_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ClickOutside_arrayLikeToArray(o,minLen)}(arr,i)||function ClickOutside_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ClickOutside_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ClickOutside(_ref){var style=_ref.style,onClickOutside=_ref.onClickOutside,children=_ref.children,_useState2=ClickOutside_slicedToArray(Object(react.useState)(!1),2),isTouch=_useState2[0],setisTouch=_useState2[1],containerRef=Object(react.useRef)(null);function handle(e){if("touchend"===e.type&&setisTouch(!0),"click"!==e.type||!isTouch){var el=containerRef.current;el&&!el.contains(e.target)&&onClickOutside(e)}}Object(react.useEffect)((function(){return document.addEventListener("touchend",handle,!0),document.addEventListener("click",handle,!0),document.addEventListener("contextmenu",handle,!0),function(){document.removeEventListener("touchend",handle,!0),document.removeEventListener("click",handle,!0),document.removeEventListener("contextmenu",handle,!0)}}),[]);var propsStyle=style||{};return Object(jsx_runtime.jsx)("div",{ref:containerRef,style:Object.assign({},{width:"fit-content"},propsStyle),children:children})}ClickOutside.displayName="ClickOutside";try{ClickOutside.displayName="ClickOutside",ClickOutside.__docgenInfo={description:"",displayName:"ClickOutside",props:{onClickOutside:{defaultValue:null,description:"",name:"onClickOutside",required:!0,type:{name:"Function"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/common/ClickOutside.tsx#ClickOutside"]={docgenInfo:ClickOutside.__docgenInfo,name:"ClickOutside",path:"src/components/common/ClickOutside.tsx#ClickOutside"})}catch(__react_docgen_typescript_loader_error){}function NodeInput_slicedToArray(arr,i){return function NodeInput_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function NodeInput_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function NodeInput_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return NodeInput_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NodeInput_arrayLikeToArray(o,minLen)}(arr,i)||function NodeInput_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function NodeInput_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var composing=!1,NodeInput_NodeInput=function NodeInput(_ref){var selectedId=_ref.selectedId,nodeList=_ref.nodeList,topBottomMargin=_ref.topBottomMargin,lineHeight=_ref.lineHeight,FONT_SIZE=_ref.FONT_SIZE,showIcon=_ref.showIcon,showAvatar=_ref.showAvatar,avatarRadius=_ref.avatarRadius,startId=_ref.startId,startNodeBg=_ref.startNodeBg,textMaxWidth=_ref.textMaxWidth,selectedBorderColor=_ref.selectedBorderColor,quickCommandKey=_ref.quickCommandKey,nodeColor=_ref.nodeColor,inputEmpty=_ref.inputEmpty,handleChangeNodeText=_ref.handleChangeNodeText,handleFileChange=_ref.handleFileChange,handleQuickCommandOpen=_ref.handleQuickCommandOpen,inputRef=Object(react.useRef)(null),_useState2=NodeInput_slicedToArray(Object(react.useState)(""),2),value=_useState2[0],setValue=_useState2[1],_useState4=NodeInput_slicedToArray(Object(react.useState)(null),2),selected=_useState4[0],setSelected=_useState4[1],_useState6=NodeInput_slicedToArray(Object(react.useState)(1),2),rows=_useState6[0],setRows=_useState6[1],_useState8=NodeInput_slicedToArray(Object(react.useState)(50),2),inputWidth=_useState8[0],setInputWidth=_useState8[1];Object(react.useEffect)((function(){var _selected$texts;selected?(setRows((null===(_selected$texts=selected.texts)||void 0===_selected$texts?void 0:_selected$texts.length)||1),setInputWidth(selected.texts?textMaxWidth:textWidthAll(FONT_SIZE||14,selected.name||"untitled")),inputRef.current.value="",inputEmpty||(inputRef.current.value=selected.name)):setInputWidth(50)}),[selected]);Object(react.useEffect)((function(){for(var index=0;index<nodeList.length;index++){var node=nodeList[index];if(node._key===selectedId){setSelected(node),setValue(node.name);break}}}),[selectedId,nodeList]);var left=0,top=0;if(selected){top=selected.y;var textX=nodeLocation(selected,"text",2*topBottomMargin+lineHeight,showIcon,showAvatar,avatarRadius,!0);selected.toLeft&&!selected.name?left=textX?textX.x:selected.x:(left=textX?textX.x:selected.x,top=top)}return Object(jsx_runtime.jsx)(ClickOutside,{onClickOutside:function handleClickoutside(){selectedId&&inputRef&&inputRef.current&&handleChangeNodeText(selectedId,inputRef.current.value)},children:selected?Object(jsx_runtime.jsx)("div",{style:{position:"absolute",top:top-1+"px",left:selected.x-1+"px",minWidth:selected.width+2+"px",backgroundColor:selected.backgroundColor?selected.backgroundColor:selected._key===startId?startNodeBg:nodeColor||"#f0f0f0",paddingLeft:left-selected.x+"px",borderRadius:"4px",border:"2px solid "+selectedBorderColor,boxSizing:"border-box"},children:Object(jsx_runtime.jsx)("textarea",{className:"node-input",style:{boxSizing:"border-box",border:"unset",padding:"unset",outline:"none",width:(inputWidth<50?50:inputWidth)+"px",fontSize:(FONT_SIZE||14)+"px",fontFamily:"inherit",fontWeight:"inherit",color:selected._key===startId?"#FFF":selected.color,resize:"none",lineHeight:lineHeight+"px",backgroundColor:"inherit",wordBreak:"break-all",overflow:"hidden",marginTop:topBottomMargin+"px"},ref:inputRef,autoFocus:!0,placeholder:"untitled",rows:rows,value:value,onChange:function onChange(e){return function handleChange(val){var res=getTextWidth(val||"untitled",textMaxWidth,FONT_SIZE||14,null==selected?void 0:selected.bold);setInputWidth(res.width+12),setRows(res.texts.length||1),setValue(val)}(e.target.value)},onCompositionStart:function handleCompositionStart(){composing=!0},onCompositionEnd:function handleCompositionEnd(){composing=!1},onKeyDown:function handleCommit(e){if(!composing&&("Enter"!==e.key&&"Tab"!==e.key||!e.shiftKey)){if(quickCommandKey&&e.key===quickCommandKey&&handleQuickCommandOpen&&selectedId&&!value){var el=document.getElementById("tree-node-"+selectedId);if(el)return handleQuickCommandOpen(el)}"Enter"!==e.key&&"Tab"!==e.key||!selected||handleChangeNodeText(selected._key,value.replaceAll("'",""))}},onMouseDown:function onMouseDown(e){return e.stopPropagation()},onMouseMove:function onMouseMove(e){return e.stopPropagation()},onContextMenu:function onContextMenu(e){return e.stopPropagation()},onPaste:function handlePaste(event){if(event.clipboardData.files.length&&handleFileChange&&selectedId){event.preventDefault();var files=event.clipboardData.files;handleFileChange(selectedId,value,files)}}})}):null})};NodeInput_NodeInput.displayName="NodeInput";var components_NodeInput=NodeInput_NodeInput;try{NodeInput_NodeInput.displayName="NodeInput",NodeInput_NodeInput.__docgenInfo={description:"",displayName:"NodeInput",props:{selectedId:{defaultValue:null,description:"",name:"selectedId",required:!0,type:{name:"string | null"}},nodeList:{defaultValue:null,description:"",name:"nodeList",required:!0,type:{name:"CNode[]"}},topBottomMargin:{defaultValue:null,description:"",name:"topBottomMargin",required:!0,type:{name:"number"}},lineHeight:{defaultValue:null,description:"",name:"lineHeight",required:!0,type:{name:"number"}},FONT_SIZE:{defaultValue:null,description:"",name:"FONT_SIZE",required:!1,type:{name:"number"}},showIcon:{defaultValue:null,description:"",name:"showIcon",required:!0,type:{name:"boolean"}},showAvatar:{defaultValue:null,description:"",name:"showAvatar",required:!0,type:{name:"boolean"}},avatarRadius:{defaultValue:null,description:"",name:"avatarRadius",required:!0,type:{name:"number"}},startId:{defaultValue:null,description:"",name:"startId",required:!0,type:{name:"string"}},textMaxWidth:{defaultValue:null,description:"",name:"textMaxWidth",required:!0,type:{name:"number"}},startNodeBg:{defaultValue:null,description:"",name:"startNodeBg",required:!0,type:{name:"string"}},selectedBorderColor:{defaultValue:null,description:"",name:"selectedBorderColor",required:!0,type:{name:"string"}},quickCommandKey:{defaultValue:null,description:"",name:"quickCommandKey",required:!1,type:{name:"string"}},nodeColor:{defaultValue:null,description:"",name:"nodeColor",required:!1,type:{name:"string"}},inputEmpty:{defaultValue:null,description:"",name:"inputEmpty",required:!1,type:{name:"boolean"}},handleChangeNodeText:{defaultValue:null,description:"",name:"handleChangeNodeText",required:!0,type:{name:"Function"}},handleFileChange:{defaultValue:null,description:"",name:"handleFileChange",required:!1,type:{name:"HandleFileChange"}},handleQuickCommandOpen:{defaultValue:null,description:"",name:"handleQuickCommandOpen",required:!1,type:{name:"HandleQuickCommandOpen"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/NodeInput.tsx#NodeInput"]={docgenInfo:NodeInput_NodeInput.__docgenInfo,name:"NodeInput",path:"src/components/NodeInput.tsx#NodeInput"})}catch(__react_docgen_typescript_loader_error){}function DragNode_slicedToArray(arr,i){return function DragNode_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function DragNode_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function DragNode_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return DragNode_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DragNode_arrayLikeToArray(o,minLen)}(arr,i)||function DragNode_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DragNode_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var DragNode_DragNode=function DragNode(_ref){var nodeList=_ref.nodeList,BLOCK_HEIGHT=_ref.BLOCK_HEIGHT,FONT_SIZE=_ref.FONT_SIZE,avatarRadius=_ref.avatarRadius,alias=_ref.alias,showIcon=_ref.showIcon,showAvatar=_ref.showAvatar,movedNodeX=_ref.movedNodeX,movedNodeY=_ref.movedNodeY,dragInfo=_ref.dragInfo,mutilMode=_ref.mutilMode,_useState2=DragNode_slicedToArray(Object(react.useState)(null),2),node=_useState2[0],setNode=_useState2[1];function location(node,type){return nodeLocation(node,type,BLOCK_HEIGHT,showIcon,showAvatar,avatarRadius,!0)}if(Object(react.useEffect)((function(){for(var index=0;index<nodeList.length;index++){var _node=nodeList[index];if(_node._key===(null==dragInfo?void 0:dragInfo.dragNodeId)){setNode(_node);break}}}),[dragInfo,nodeList]),!node)return null;var textLocationRes=location(node,"text"),circleLocationRes=location(node,"avatar"),checkLocationRes=location(node,"checkbox"),statusLocationRes=location(node,"status"),iconLocationRes=location(node,"icon"),backgroundColor=node.backgroundColor?node.backgroundColor:"#FFF";return node.x&&node.y?Object(jsx_runtime.jsxs)("g",{style:{pointerEvents:"none"},children:[dragInfo&&"in"!==dragInfo.placement?Object(jsx_runtime.jsx)("line",{x1:node.x-50+movedNodeX,x2:node.x+node.width+50+movedNodeX,y1:node.y+BLOCK_HEIGHT/2+movedNodeY,y2:node.y+BLOCK_HEIGHT/2+movedNodeY,stroke:"#33A6B8",strokeWidth:2}):null,Object(jsx_runtime.jsx)("rect",{className:"node-rect",x:node.x+movedNodeX,y:node.y+movedNodeY,rx:4,ry:4,width:node.width,height:BLOCK_HEIGHT,style:{fill:backgroundColor,fillOpacity:.5,stroke:"#333333"}}),showIcon&&node.icon?Object(jsx_runtime.jsx)("image",{x:iconLocationRes?iconLocationRes.x+movedNodeX:0,y:iconLocationRes?iconLocationRes.y+movedNodeY:0,width:"22",height:"22",href:node.icon},"avatar-image"):null,showAvatar&&node.avatarUri?[Object(jsx_runtime.jsx)("clipPath",{id:alias+"-avatar-clip-"+node._key,children:Object(jsx_runtime.jsx)("circle",{cx:circleLocationRes?circleLocationRes.x+11+movedNodeX:0,cy:circleLocationRes?circleLocationRes.y+11+movedNodeY:0,r:"11"})},"avatar-path"),Object(jsx_runtime.jsx)("image",{x:circleLocationRes?circleLocationRes.x+movedNodeX:0,y:circleLocationRes?circleLocationRes.y+movedNodeY:0,width:"22",height:"22",href:node.avatarUri,clipPath:"url(#"+alias+"-avatar-clip-"+node._key+")"},"avatar-image")]:null,node.showCheckbox?Object(jsx_runtime.jsx)("use",{href:"#checkbox-"+(node.checked?"checked":"uncheck"),x:checkLocationRes?checkLocationRes.x+movedNodeX:0,y:checkLocationRes?checkLocationRes.y+movedNodeY:0},"checkbox"):null,node.showStatus?[Object(jsx_runtime.jsx)("use",{href:"#status"+(node.limitDay&&node.limitDay<0?node.checked?"-complete":"-overdue":""),x:null==statusLocationRes?void 0:statusLocationRes.x,y:null==statusLocationRes?void 0:statusLocationRes.y},"status"),Object(jsx_runtime.jsxs)("g",{fill:"#fff",textAnchor:"middle",dominantBaseline:"middle",children:[Object(jsx_runtime.jsx)("text",{x:statusLocationRes?statusLocationRes.x+11+movedNodeX:0,y:statusLocationRes?statusLocationRes.y+13+movedNodeY:0,fontSize:"10",fontWeight:"800",children:void 0!==node.limitDay?Math.abs(node.limitDay)>99?"99+":Math.abs(node.limitDay):"-"}),Object(jsx_runtime.jsx)("text",{x:statusLocationRes?statusLocationRes.x+18+movedNodeX:0,y:statusLocationRes?statusLocationRes.y+5+movedNodeY:0,fontSize:"6",fontWeight:"800",children:node.hour?node.hour>9?"9+":node.hour:"-"})]},"status-text")]:null,Object(jsx_runtime.jsx)("text",{className:"node-text",x:textLocationRes?textLocationRes.x+movedNodeX:0,y:textLocationRes?textLocationRes.y+movedNodeY:0,dominantBaseline:"middle",fontSize:FONT_SIZE,style:{fill:node.color?node.color:"#999",userSelect:"none"},children:mutilMode?"多个节点":node.shorted||node.name||""})]}):null},components_DragNode=DragNode_DragNode;try{DragNode_DragNode.displayName="DragNode",DragNode_DragNode.__docgenInfo={description:"",displayName:"DragNode",props:{nodeList:{defaultValue:null,description:"",name:"nodeList",required:!0,type:{name:"CNode[]"}},BLOCK_HEIGHT:{defaultValue:null,description:"",name:"BLOCK_HEIGHT",required:!0,type:{name:"number"}},FONT_SIZE:{defaultValue:null,description:"",name:"FONT_SIZE",required:!0,type:{name:"number"}},avatarRadius:{defaultValue:null,description:"",name:"avatarRadius",required:!0,type:{name:"number"}},alias:{defaultValue:null,description:"",name:"alias",required:!0,type:{name:"number"}},showIcon:{defaultValue:null,description:"",name:"showIcon",required:!0,type:{name:"boolean"}},showAvatar:{defaultValue:null,description:"",name:"showAvatar",required:!0,type:{name:"boolean"}},movedNodeX:{defaultValue:null,description:"",name:"movedNodeX",required:!0,type:{name:"number"}},movedNodeY:{defaultValue:null,description:"",name:"movedNodeY",required:!0,type:{name:"number"}},dragInfo:{defaultValue:null,description:"",name:"dragInfo",required:!0,type:{name:"DragInfo | null"}},mutilMode:{defaultValue:null,description:"",name:"mutilMode",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DragNode.tsx#DragNode"]={docgenInfo:DragNode_DragNode.__docgenInfo,name:"DragNode",path:"src/components/DragNode.tsx#DragNode"})}catch(__react_docgen_typescript_loader_error){}function calculate(nodes,startId,singleColumn,ITEM_HEIGHT,topBottomMargin,lineHeight,INDENT,FONT_SIZE,textMaxWidth,showIcon,showAvatar,avatarRadius,rootZoomRatio,secondZoomRatio,startX,startY,columnSpacing,collapseMode,expandedNodeKey,inputNodeKey,hideRoot,rainbowColor){var BLOCK_HEIGHT=2*topBottomMargin+lineHeight;nodes=lodash_default.a.cloneDeep(nodes);var start_x=startX,start_y=startY,rainbowIndex=0,root=nodes[startId];if(root){var rootWidth=getNodeWidth(root,FONT_SIZE*rootZoomRatio,showIcon,showAvatar,avatarRadius,!1,textMaxWidth,inputNodeKey);root.width=rootWidth;var second_start_x,second_end_x,SECOND_START_NODE_ID,SECOND_END_NODE_ID,isSingle=singleColumn||root.sortList&&1===root.sortList.length,MAX_X=rootWidth,MAX_Y=start_y+ITEM_HEIGHT*rootZoomRatio*2,MAX_END=rootWidth,nodeList=[],ancestorList=[];if(collapseMode&&expandedNodeKey&&nodes[expandedNodeKey]&&(ancestorList=getAncestor(nodes[expandedNodeKey],nodes,!0)),isSingle)rainbowColor&&(root.backgroundColor="#CB1B45"),location(nodes,root,start_x,start_y,"#CB1B45");else{if(!root.contract){var _root$texts,rootHeight=((null===(_root$texts=root.texts)||void 0===_root$texts?void 0:_root$texts.length)||1)*BLOCK_HEIGHT*rootZoomRatio;root.imageUrl&&root.imageHeight&&(rootHeight+=root.imageHeight+7.5),root.height=rootHeight;for(var secondLevel=function getStarts(nodes,root){for(var secondLevel=[],childrenIds=root.sortList||[],_index=0;_index<childrenIds.length;_index++){var _element=nodes[childrenIds[_index]];_element?secondLevel.push(_element):console.error("Can't find the node with the id "+childrenIds[_index])}return secondLevel}(nodes,root),index=0;index<secondLevel.length;index++){var element=secondLevel[index],diffY=rootHeight+2*ITEM_HEIGHT;0===index?(SECOND_START_NODE_ID=null==element?void 0:element._key,location(nodes,element,start_x,start_y+diffY)):(index+1===secondLevel.length&&(SECOND_END_NODE_ID=null==element?void 0:element._key),location(nodes,element,MAX_END+(columnSpacing||55*secondZoomRatio),start_y+diffY))}}MAX_END===rootWidth&&(MAX_END*=2),root.x=second_start_x&&second_end_x?(second_end_x+second_start_x)/2-(root.width||0)/2:(MAX_END+startX-root.width)/2,root.y=start_y,nodeList.push(root)}return{max_x:MAX_X,max_y:MAX_Y+ITEM_HEIGHT+startY,max_end:MAX_END+startX,second_start_x:second_start_x,second_end_x:second_end_x,isSingle:isSingle,nodes:nodeList}}function location(nodes,node,x,y,fatherRainbowColor,backgroundColor){var collapsed,childX=x,childY=y,lastChildY=y,childrenIds=node.sortList||[];if(!hideRoot||node._key!==startId){var nodeWidth=getNodeWidth(node,node._key===startId?FONT_SIZE*rootZoomRatio:node.father===startId?FONT_SIZE*secondZoomRatio:FONT_SIZE,showIcon,showAvatar,avatarRadius,!1,textMaxWidth,inputNodeKey);if(node.x=x,node.y=y,node.width=nodeWidth,childX+=INDENT,node.texts&&node.texts.length>1){var line_height=lineHeight;node._key===startId?line_height=lineHeight*rootZoomRatio:node.father===startId&&(line_height=lineHeight*secondZoomRatio),childY+=(node.texts.length-1)*line_height,lastChildY+=(node.texts.length-1)*line_height}node.imageUrl&&node.imageHeight&&(childY+=node.imageHeight+7.5,lastChildY+=node.imageHeight+7.5,childY>MAX_Y&&(MAX_Y=childY)),node.bottomAdornment&&node.bottomAdornmentHeight&&(childY+=node.bottomAdornmentHeight,lastChildY+=node.bottomAdornmentHeight,childY>MAX_Y&&(MAX_Y=childY)),node.contract&&node.sortList.length&&(childY+=21),childX>MAX_X&&(MAX_X=childX),MAX_END<node.x+nodeWidth&&(MAX_END=node.x+nodeWidth),node._key===SECOND_START_NODE_ID&&(second_start_x=node.x+nodeWidth/2),node._key===SECOND_END_NODE_ID&&(second_end_x=node.x+nodeWidth/2),collapsed=(!hideRoot||node._key!==startId)&&(collapseMode&&(!expandedNodeKey||!ancestorList.includes(node._key))||node.contract)}if(rainbowColor&&(node.father===startId&&(node.backgroundColor=rainbowColors[rainbowIndex],rainbowIndex+1===rainbowColors.length?rainbowIndex=0:rainbowIndex++),fatherRainbowColor&&(node.pathColor=fatherRainbowColor),backgroundColor&&(node.backgroundColor=backgroundColor)),!collapsed)for(var _index2=0;_index2<childrenIds.length;_index2++){var _element2=nodes[childrenIds[_index2]];if(_element2){var _diffY=void 0;lastChildY+=(_diffY=0===_index2?node._key===startId?ITEM_HEIGHT-BLOCK_HEIGHT*rootZoomRatio>40?ITEM_HEIGHT:BLOCK_HEIGHT*rootZoomRatio+40:node.father===startId?ITEM_HEIGHT-BLOCK_HEIGHT*secondZoomRatio>8?ITEM_HEIGHT:BLOCK_HEIGHT*rootZoomRatio+8:ITEM_HEIGHT:_element2._key===startId?ITEM_HEIGHT-BLOCK_HEIGHT*rootZoomRatio>40?ITEM_HEIGHT:BLOCK_HEIGHT*rootZoomRatio+40:_element2.father===startId?ITEM_HEIGHT-BLOCK_HEIGHT*secondZoomRatio>8?ITEM_HEIGHT:BLOCK_HEIGHT*rootZoomRatio+8:ITEM_HEIGHT)+5,(childY=location(nodes,_element2,childX,childY+=_diffY+5,rainbowColor&&node.father===startId?node.backgroundColor:fatherRainbowColor,rainbowColor&&node.father===startId?lightRainbowColors[node.backgroundColor]:backgroundColor))>MAX_Y&&(MAX_Y=childY),_index2+1!==childrenIds.length&&(lastChildY=childY)}else console.error("Can't find the node with the id "+childrenIds[_index2])}return node.last_child_y=lastChildY,nodeList.push(node),childY}console.error("Can't find the root node")}function Tree_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function Tree_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){Tree_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){Tree_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function Tree_slicedToArray(arr,i){return function Tree_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function Tree_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function Tree_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return Tree_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tree_arrayLikeToArray(o,minLen)}(arr,i)||function Tree_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tree_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var isMac=/macintosh|mac os x/i.test(navigator.userAgent),spaceKeyDown=!1,Tree_lastTime=0,changed=!1,Tree_Tree=react_default.a.forwardRef((function(_ref,ref){var clickTimeId,nodes=_ref.nodes,startId=_ref.startId,defaultSelectedId=_ref.defaultSelectedId,uncontrolled=_ref.uncontrolled,singleColumn=_ref.singleColumn,itemHeight=_ref.itemHeight,_ref$topBottomMargin=_ref.topBottomMargin,topBottomMargin=void 0===_ref$topBottomMargin?5:_ref$topBottomMargin,_ref$lineHeight=_ref.lineHeight,lineHeight=void 0===_ref$lineHeight?20:_ref$lineHeight,_ref$textMaxWidth=_ref.textMaxWidth,textMaxWidth=void 0===_ref$textMaxWidth?300:_ref$textMaxWidth,fontSize=_ref.fontSize,indent=_ref.indent,columnSpacing=_ref.columnSpacing,pathWidth=_ref.pathWidth,pathColor=_ref.pathColor,_ref$nodeColor=_ref.nodeColor,nodeColor=void 0===_ref$nodeColor?"#f0f0f0":_ref$nodeColor,lineRadius=_ref.lineRadius,_ref$avatarRadius=_ref.avatarRadius,avatarRadius=void 0===_ref$avatarRadius?11:_ref$avatarRadius,disableShortcut=_ref.disableShortcut,disabled=_ref.disabled,showIcon=_ref.showIcon,showAvatar=_ref.showAvatar,hideHour=_ref.hideHour,root_zoom_ratio=_ref.root_zoom_ratio,second_zoom_ratio=_ref.second_zoom_ratio,backgroundColor=_ref.backgroundColor,color=_ref.color,hoverBorderColor=_ref.hoverBorderColor,selectedBorderColor=_ref.selectedBorderColor,selectedBackgroundColor=_ref.selectedBackgroundColor,quickCommandKey=_ref.quickCommandKey,_ref$paddingLeft=_ref.paddingLeft,paddingLeft=void 0===_ref$paddingLeft?50:_ref$paddingLeft,_ref$paddingTop=_ref.paddingTop,paddingTop=void 0===_ref$paddingTop?50:_ref$paddingTop,rainbowColor=_ref.rainbowColor,_ref$startNodeBg=_ref.startNodeBg,startNodeBg=void 0===_ref$startNodeBg?"#CB1B45":_ref$startNodeBg,customAdornment=_ref.customAdornment,handleClickExpand=_ref.handleClickExpand,handleCheck=_ref.handleCheck,handleClickAvatar=_ref.handleClickAvatar,handleClickStatus=_ref.handleClickStatus,handleClickNode=_ref.handleClickNode,handleDbClickNode=_ref.handleDbClickNode,handleChangeNodeText=_ref.handleChangeNodeText,handleAddNext=_ref.handleAddNext,handleAddChild=_ref.handleAddChild,handleDeleteNode=_ref.handleDeleteNode,handleClickPreviewButton=_ref.handleClickPreviewButton,handleClickDot=_ref.handleClickDot,handleShiftUpDown=_ref.handleShiftUpDown,handleDrag=_ref.handleDrag,handlePaste=_ref.handlePaste,dragEndFromOutside=_ref.dragEndFromOutside,handleMouseEnterAvatar=_ref.handleMouseEnterAvatar,handleMouseLeaveAvatar=_ref.handleMouseLeaveAvatar,handleCrossCompDrag=_ref.handleCrossCompDrag,handleChange=_ref.handleChange,showDeleteConform=_ref.showDeleteConform,handleMutiSelect=_ref.handleMutiSelect,handleFileChange=_ref.handleFileChange,handleQuickCommandOpen=_ref.handleQuickCommandOpen,handlePasteText=_ref.handlePasteText,handleContextMenu=_ref.handleContextMenu,handleClickNodeImage=_ref.handleClickNodeImage,handleResizeNodeImage=_ref.handleResizeNodeImage,rootZoomRatio=root_zoom_ratio||1.8,secondZoomRatio=second_zoom_ratio||1.4,ITEM_HEIGHT=itemHeight||48,FONT_SIZE=fontSize||14,INDENT=indent||25,RADIUS=lineRadius||4,PATH_WIDTH=pathWidth||2,PATH_COLOR=pathColor||"#535953",UNCONTROLLED=void 0===uncontrolled||uncontrolled,SHOW_ICON=void 0===showIcon||showIcon,SHOW_AVATAR=void 0!==showAvatar&&showAvatar,BACKGROUND_COLOR=backgroundColor||"unset",COLOR=color||"#595959",HOVER_BORDER_COLOR=hoverBorderColor||"#bed2fc",SELECTED_BORDER_COLOR=selectedBorderColor||"#35a6f8",SELECTED_BACKGROUND_COLOR=selectedBackgroundColor||"#e8e8e8",_useState2=Tree_slicedToArray(Object(react.useState)(nodes),2),nodeMap=_useState2[0],setNodeMap=_useState2[1],_useState4=Tree_slicedToArray(Object(react.useState)(0),2),secondStartX=_useState4[0],setSecondStartX=_useState4[1],_useState6=Tree_slicedToArray(Object(react.useState)(0),2),secondEndX=_useState6[0],setSecondEndX=_useState6[1],_useState8=Tree_slicedToArray(Object(react.useState)([]),2),cnodes=_useState8[0],setcnodes=_useState8[1],_useState10=Tree_slicedToArray(Object(react.useState)(0),2),maxY=_useState10[0],setmaxY=_useState10[1],_useState12=Tree_slicedToArray(Object(react.useState)(0),2),maxEnd=_useState12[0],setmaxEnd=_useState12[1],_useState14=Tree_slicedToArray(Object(react.useState)(null),2),selectedId=_useState14[0],_setselectedId=_useState14[1],_useState16=Tree_slicedToArray(Object(react.useState)([]),2),selectedNodes=_useState16[0],_setSelectedNodes=_useState16[1],_useState18=Tree_slicedToArray(Object(react.useState)(!1),2),showInput=_useState18[0],setshowInput=_useState18[1],_useState20=Tree_slicedToArray(Object(react.useState)(!1),2),showNewInput=_useState20[0],setshowNewInput=_useState20[1],_useState22=Tree_slicedToArray(Object(react.useState)(!1),2),inputEmpty=_useState22[0],setInputEmpty=_useState22[1],_useState24=Tree_slicedToArray(Object(react.useState)(singleColumn),2),isSingle=_useState24[0],setisSingle=_useState24[1],_useState26=Tree_slicedToArray(Object(react.useState)(!1),2),dragStarted=_useState26[0],setDragStarted=_useState26[1],_useState28=Tree_slicedToArray(Object(react.useState)(!1),2),frameSelectionStarted=_useState28[0],setFrameSelectionStarted=_useState28[1],_useState30=Tree_slicedToArray(Object(react.useState)(0),2),selectionX=_useState30[0],setselectionX=_useState30[1],_useState32=Tree_slicedToArray(Object(react.useState)(0),2),selectionY=_useState32[0],setselectionY=_useState32[1],_useState34=Tree_slicedToArray(Object(react.useState)(0),2),selectionWidth=_useState34[0],setselectionWidth=_useState34[1],_useState36=Tree_slicedToArray(Object(react.useState)(0),2),selectionHeight=_useState36[0],setselectionHeight=_useState36[1],_useState38=Tree_slicedToArray(Object(react.useState)(!1),2),showDragNode=_useState38[0],setShowDragNode=_useState38[1],_useState40=Tree_slicedToArray(Object(react.useState)(0),2),clickX=_useState40[0],setClickX=_useState40[1],_useState42=Tree_slicedToArray(Object(react.useState)(0),2),clickY=_useState42[0],setClickY=_useState42[1],_useState44=Tree_slicedToArray(Object(react.useState)(0),2),movedNodeX=_useState44[0],setMovedNodeX=_useState44[1],_useState46=Tree_slicedToArray(Object(react.useState)(0),2),movedNodeY=_useState46[0],setMovedNodeY=_useState46[1],_useState48=Tree_slicedToArray(Object(react.useState)(null),2),dragInfo=_useState48[0],setDragInfo=_useState48[1],_useState50=Tree_slicedToArray(Object(react.useState)(""),2),compId=_useState50[0],setCompId=_useState50[1],containerRef=Object(react.useRef)(null),block_height=2*topBottomMargin+lineHeight,_useState52=Tree_slicedToArray(Object(react.useState)(""),2),startExport=_useState52[0],setStartExport=_useState52[1];Object(react.useImperativeHandle)(ref,(function(){return{deleteNode:deletenode,saveNodes:saveNodes,addNext:addNext,addChild:addChild,updateNodeById:updateNodeById,updateNodesByIds:updateNodesByIds,rename:function rename(){selectedId&&setshowInput(!0)},renameById:function renameById(id,text){changeText(id,text)},getSelectedId:function getSelectedId(){return selectedId},getSelectedIds:function getSelectedIds(){for(var ids=[],index=0;index<selectedNodes.length;index++){var _node=selectedNodes[index];ids.push(_node._key)}return ids},setselectedId:function setselectedId(id){return _setselectedId(id)},setSelectedNodes:function setSelectedNodes(nodes){return _setSelectedNodes(nodes)},exportImage:function exportImage(type){window.postMessage({name:"export-status",message:"start"},"/"),setStartExport(type)}}}));var downloadImage=Object(react.useCallback)(Tree_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var name,svg,imageHrefRegex,imageMatches,hrefRegex,index,match,matches,href,base64;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!startExport){_context.next=29;break}if(name=nodeMap[startId].name,svg=document.getElementsByClassName("tree-svg")[0].outerHTML,imageHrefRegex=/<image\s[^>]*href="([^"]*)"/g,!(imageMatches=svg.match(imageHrefRegex))){_context.next=20;break}hrefRegex=/href="([^"]+)"/,index=0;case 8:if(!(index<imageMatches.length)){_context.next=20;break}if(match=imageMatches[index].toString(),!(matches=match.match(hrefRegex))){_context.next=17;break}return href=matches[1],_context.next=15,getImgData(href);case 15:(base64=_context.sent)&&(svg=svg.replace(href,base64));case 17:index++,_context.next=8;break;case 20:if("svg"===startExport&&download(createObjectUrl([svg],"image/svg"),name+".svg"),"png"!==startExport){_context.next=24;break}return _context.next=24,downloadSvgAsPng(svg,maxEnd+100,maxY+ITEM_HEIGHT,name);case 24:if("pdf"!==startExport){_context.next=27;break}return _context.next=27,downloadSvgAsPdf(svg,maxEnd+100,maxY+ITEM_HEIGHT,name);case 27:setStartExport(""),window.postMessage({name:"export-status",message:"end"},"/");case 29:case"end":return _context.stop()}}),_callee)}))),[cnodes]);function fatherPath(node){var startX=node.x,blockHeight=node._key===startId?block_height*rootZoomRatio:node.father===startId?block_height*secondZoomRatio:block_height,Y=node.y+blockHeight/2,endX=node.x-(INDENT-5);return"M "+startX+" "+Y+" "+("H "+(endX+RADIUS))+" "+("Q "+endX+" "+Y+" "+endX+" "+(Y-RADIUS))}function childPath(node){var blockHeight=node._key===startId?block_height*rootZoomRatio:node.father===startId?block_height*secondZoomRatio:block_height,childBlockHeight=node._key===startId?block_height*secondZoomRatio:block_height;return"M "+(node.x+5)+" "+(node.y+blockHeight)+" "+("V "+(node.last_child_y+childBlockHeight/2-RADIUS))}function rootVpath(node){var startY=node.y+node.height,endY=startY+ITEM_HEIGHT;return"M "+(node.x+node.width/2)+" "+startY+" "+("V "+endY)}function rootBottomVpath(node){var startX=node.x+node.width/2,startY=node.y,endY=startY-ITEM_HEIGHT;return node.x+node.width/2===secondStartX?"M "+startX+" "+startY+" "+("V "+(endY+RADIUS))+" "+("Q "+startX+" "+endY+" "+(startX+RADIUS)+" "+endY):node.x+node.width/2===secondEndX?"M "+startX+" "+startY+" "+("V "+(endY+RADIUS))+" "+("Q "+startX+" "+endY+" "+(startX-RADIUS)+" "+endY):"M "+startX+" "+startY+" "+("V "+endY)}function handleSelectedNodeChanged(node){_setselectedId(node._key),_setSelectedNodes([]),handleClickNode&&handleClickNode(node)}function clickNode(node){containerRef&&containerRef.current&&containerRef.current.focus(),clearTimeout(clickTimeId),clickTimeId=setTimeout((function(){_setselectedId(node._key),_setSelectedNodes([]),handleClickNode&&handleClickNode(node)}),250)}function dbClickNode(node){clearTimeout(clickTimeId),disabled||node.disabled||(_setselectedId(node._key),_setSelectedNodes([]),setshowInput(!0),handleDbClickNode&&handleDbClickNode(node))}function handleExpand(node){if(UNCONTROLLED){var _nodes=util_dot(nodeMap,node._key);if(node.contract)delete _nodes[node._key].childNum;else{var count=countNodeDescendants(nodeMap,node._key);_nodes[node._key].childNum=count}setNodeMap(_nodes),handleChange&&(changed=!0)}handleClickExpand&&handleClickExpand(node)}function check(node,e){if(!disabled){if(e.stopPropagation(),UNCONTROLLED){var _nodes2=checkNode(nodeMap,node._key);setNodeMap(_nodes2),handleChange&&(changed=!0)}handleCheck&&handleCheck(node)}}function clickAvatar(node,event){handleClickAvatar&&(event.stopPropagation(),handleClickAvatar(node,event.currentTarget))}function clickStatus(node,event){handleClickStatus&&(event.stopPropagation(),handleClickStatus(node,event.currentTarget,event))}function changeText(nodeId,text){if(setshowInput(!1),setshowNewInput(!1),setInputEmpty(!1),UNCONTROLLED){var _nodes3=changeNodeText(nodeMap,nodeId,text);setNodeMap(_nodes3),handleChange&&(changed=!0)}handleChangeNodeText&&handleChangeNodeText(nodeId,text),containerRef&&containerRef.current&&containerRef.current.focus()}function handleResizeImage(nodeId,width){if(UNCONTROLLED){var _nodes4=Object.assign({},nodeMap),_node2=_nodes4[nodeId];if(!_node2||!_node2.imageWidth||!_node2.imageHeight)return;var height=width/(_node2.imageWidth/_node2.imageHeight);_node2.imageWidth=width,_node2.imageHeight=height,setNodeMap(_nodes4),handleChange&&(changed=!0)}handleResizeNodeImage&&handleResizeNodeImage(nodeId,width)}function updateNodeById(nodeMap,id,data){setshowInput(!1),setshowNewInput(!1),setInputEmpty(!1);var nodes=updateNodeByKey(nodeMap,id,data);setNodeMap(nodes),containerRef&&containerRef.current&&containerRef.current.focus(),handleChange&&(changed=!0)}function updateNodesByIds(nodeMap,ids,data){setshowInput(!1),setshowNewInput(!1),setInputEmpty(!1);for(var nodes=lodash_default.a.cloneDeep(nodeMap),index=0;index<ids.length;index++){nodes=updateNodeByKey(nodes,ids[index],data)}setNodeMap(nodes),containerRef&&containerRef.current&&containerRef.current.focus(),handleChange&&(changed=!0)}function addNext(nodeKey){var targetKey=nodeKey||selectedId;if(targetKey){if(targetKey===startId)return alert("根节点无法添加兄弟节点！");if(UNCONTROLLED){var res=addNextNode(nodeMap,targetKey);handleAddNext&&handleAddNext(targetKey,res.addedNode),_setselectedId(res.addedNode._key),_setSelectedNodes([]),setNodeMap(res.nodes),setshowInput(!0),handleChange&&(changed=!0)}else handleAddNext&&handleAddNext(targetKey)}}function addChild(nodeKey){var targetKey=nodeKey||selectedId;if(targetKey)if(UNCONTROLLED){var res=addChildNode(nodeMap,targetKey);handleAddChild&&handleAddChild(targetKey,res.addedNode),_setselectedId(res.addedNode._key),_setSelectedNodes([]),setNodeMap(res.nodes),setshowInput(!0),handleChange&&(changed=!0)}else handleAddChild&&handleAddChild(targetKey)}function shiftUp(){if(selectedId){var res=changeSortList(nodeMap,selectedId,"up");res&&(UNCONTROLLED?(setNodeMap(res.nodes),handleChange&&(changed=!0)):handleShiftUpDown&&handleShiftUpDown(selectedId,res.brotherKeys,"up"))}}function shiftDown(){if(selectedId){var res=changeSortList(nodeMap,selectedId,"down");res&&(UNCONTROLLED?(setNodeMap(res.nodes),handleChange&&(changed=!0)):handleShiftUpDown&&handleShiftUpDown(selectedId,res.brotherKeys,"down"))}}function deletenode(nodeKey){var targetKey=nodeKey||selectedId;if(targetKey||selectedNodes.length)if(UNCONTROLLED){if(!selectedNodes.length&&targetKey){var _node3=nodeMap[targetKey];if(_node3.disabled)return;if(targetKey===startId)return alert("根节点不允许删除！");var nextSelectId=getNextSelect(_node3,nodeMap);_setselectedId(nextSelectId||null);var res=deleteNode(nodeMap,targetKey);_setSelectedNodes([]),setNodeMap(res.nodes),handleChange&&(changed=!0)}else{for(var _nodes5=nodeMap,index=0;index<selectedNodes.length;index++){var element=selectedNodes[index];if(element._key!==startId)_nodes5=deleteNode(_nodes5,element._key).nodes}_setSelectedNodes([]),setNodeMap(_nodes5),handleChange&&(changed=!0)}handleDeleteNode&&handleDeleteNode(targetKey,selectedNodes)}else handleDeleteNode&&handleDeleteNode(targetKey,selectedNodes)}function saveNodes(){return{rootKey:startId,data:lodash_default.a.cloneDeep(nodeMap)}}Object(react.useEffect)((function(){downloadImage()}),[cnodes]),Object(react.useEffect)((function(){setCompId(guid(8,16))}),[]),Object(react.useEffect)((function(){changed&&handleChange&&(changed=!1,handleChange())}),[nodeMap]),Object(react.useEffect)((function(){return document.addEventListener("paste",onPaste),function(){document.removeEventListener("paste",onPaste)}}),[showInput,showNewInput,selectedId]),Object(react.useEffect)((function(){setNodeMap(nodes)}),[nodes]),Object(react.useEffect)((function(){if(console.log("根据nodeMap计算渲染所需数据"),nodeMap[startId]){var cal=calculate(nodeMap,startId,singleColumn,ITEM_HEIGHT,topBottomMargin,lineHeight,INDENT,FONT_SIZE,textMaxWidth,SHOW_ICON,SHOW_AVATAR,avatarRadius,rootZoomRatio,secondZoomRatio,startExport?50:paddingLeft,startExport?50:paddingTop,columnSpacing,void 0,void 0,void 0,void 0,rainbowColor);cal&&(setcnodes(cal.nodes),setmaxY(cal.max_y),setmaxEnd(cal.max_end),setSecondStartX(cal.second_start_x),setSecondEndX(cal.second_end_x),setisSingle(cal.isSingle))}}),[nodeMap,startId,singleColumn,showInput,rainbowColor,startExport]),Object(react.useEffect)((function(){defaultSelectedId&&(_setselectedId(defaultSelectedId),_setSelectedNodes([]))}),[defaultSelectedId]),Object(react.useEffect)((function(){handleMutiSelect&&handleMutiSelect(selectedNodes)}),[selectedNodes]);function onPaste(event){if(!showInput&&!showNewInput){event.preventDefault();var pasteType=localStorage.getItem("pasteType"),pasteNodeKey=localStorage.getItem("pasteNodeKey");if(pasteType&&pasteNodeKey&&selectedId){if(UNCONTROLLED){var res=pasteNode(nodeMap,pasteNodeKey,pasteType,selectedId);res&&(setNodeMap(res),handleChange&&(changed=!0))}else handlePaste&&handlePaste(pasteNodeKey,pasteType,selectedId,event);localStorage.removeItem("pasteNodeKey"),localStorage.removeItem("pasteType"),localStorage.removeItem("copiedNodes")}else{var _event$clipboardData,_files=null===(_event$clipboardData=event.clipboardData)||void 0===_event$clipboardData?void 0:_event$clipboardData.files,_node4=selectedId?nodeMap[selectedId]:null;if(_files&&_files.length&&_node4)handleTreePaste(_node4._key,_node4.name,_files);else{var _event$clipboardData2,_text=null===(_event$clipboardData2=event.clipboardData)||void 0===_event$clipboardData2?void 0:_event$clipboardData2.getData("text");_text&&handlePasteText&&handlePasteText(_text,event)}}}}function _handleKeyDown(){return(_handleKeyDown=Tree_asyncToGenerator(regeneratorRuntime.mark((function _callee3(event){var commandKey,el,_node5,res,_res3,_res4;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(" "!==event.key||spaceKeyDown||(spaceKeyDown=!0),!(disabled||disableShortcut||showInput||showNewInput)){_context3.next=3;break}return _context3.abrupt("return");case 3:if(commandKey=isMac?event.metaKey:event.ctrlKey,!quickCommandKey||event.key!==quickCommandKey){_context3.next=9;break}event.preventDefault(),handleQuickCommandOpen&&selectedId&&(el=document.getElementById("tree-node-"+selectedId))&&handleQuickCommandOpen(el),_context3.next=52;break;case 9:if(!commandKey){_context3.next=29;break}_context3.t0=event.key,_context3.next="c"===_context3.t0?13:"x"===_context3.t0?16:26;break;case 13:return event.preventDefault(),selectedId&&(localStorage.setItem("pasteNodeKey",selectedId),localStorage.setItem("pasteType","copy"),copyNode(nodeMap,selectedId)),_context3.abrupt("break",27);case 16:if(event.preventDefault(),!selectedId){_context3.next=25;break}if(selectedId!==startId){_context3.next=23;break}return localStorage.removeItem("pasteNodeKey"),localStorage.removeItem("pasteType"),localStorage.removeItem("copiedNodes"),_context3.abrupt("return");case 23:localStorage.setItem("pasteNodeKey",selectedId),localStorage.setItem("pasteType","cut");case 25:case 26:return _context3.abrupt("break",27);case 27:_context3.next=52;break;case 29:_context3.t1=event.key,_context3.next="Enter"===_context3.t1?32:"Tab"===_context3.t1?35:"Delete"===_context3.t1||"Backspace"===_context3.t1?38:"ArrowUp"===_context3.t1?41:"ArrowDown"===_context3.t1?44:"ArrowRight"===_context3.t1||"ArrowLeft"===_context3.t1?47:50;break;case 32:return event.preventDefault(),addNext(),_context3.abrupt("break",52);case 35:return event.preventDefault(),addChild(),_context3.abrupt("break",52);case 38:return event.preventDefault(),showDeleteConform&&((_node5=selectedId?nodeMap[selectedId]:null)&&_node5.sortList.length||selectedNodes.length>1)?showDeleteConform():deletenode(),_context3.abrupt("break",52);case 41:return event.preventDefault(),event.shiftKey?shiftUp():selectedId&&(res=changeSelect(selectedId,cnodes,event.key))&&handleSelectedNodeChanged(res),_context3.abrupt("break",52);case 44:return event.preventDefault(),event.shiftKey?shiftDown():selectedId&&(_res3=changeSelect(selectedId,cnodes,event.key))&&handleSelectedNodeChanged(_res3),_context3.abrupt("break",52);case 47:return event.preventDefault(),selectedId&&(_res4=changeSelect(selectedId,cnodes,event.key))&&handleSelectedNodeChanged(_res4),_context3.abrupt("break",52);case 50:return selectedId&&!showInput&&1===event.key.length&&/[a-zA-Z]+/.test(event.key)&&(setInputEmpty(!0),setshowInput(!0)),_context3.abrupt("break",52);case 52:case"end":return _context3.stop()}}),_callee3)})))).apply(this,arguments)}function clickPreview(node){handleClickPreviewButton&&handleClickPreviewButton(node)}function clickDot(node){handleClickDot&&handleClickDot(node)}function handleFrameSelectionEnd(){if(frameSelectionStarted){var selectionNodes=getNodesInSelection(selectionX,selectionY,selectionWidth,selectionHeight,block_height,cnodes);_setselectedId(null),handleClickNode&&handleClickNode(selectionNodes.length?selectionNodes:null),_setSelectedNodes(selectionNodes),setFrameSelectionStarted(!1),setselectionWidth(0),setselectionHeight(0)}}function handleDragStart(node,dragStartX,dragStartY){if(!disabled&&!node.disabled){if(selectedNodes.length)-1===selectedNodes.findIndex((function(element){return node._key===element._key}))&&_setSelectedNodes([]);sessionStorage.setItem("cross-comp-drag",node._key),sessionStorage.setItem("cross-drag-compId",compId),setDragStarted(!0),setShowDragNode(!0),setDragInfo({dragNodeId:node._key,dropNodeId:node._key,placement:"in"}),setClickX(dragStartX),setClickY(dragStartY),setMovedNodeX(0),setMovedNodeY(0)}}function updateDragInfo(param){setDragInfo(dragInfo?Object.assign({},dragInfo,param):param)}function handleTreePaste(nodeId,nodeName,files){if(handleFileChange)handleFileChange(nodeId,nodeName,files);else if(UNCONTROLLED&&files.length){var file=files[0];if(file.type.startsWith("image/")&&nodeId!==startId){var reader=new FileReader;reader.onload=function(event){var _event$target,base64String=null===(_event$target=event.target)||void 0===_event$target?void 0:_event$target.result;if(base64String){var img=new Image;img.src=base64String,img.onload=Tree_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var height;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:height=200/(img.width/img.height),updateNodeById(nodeMap,nodeId,{name:nodeName,imageUrl:base64String,imageWidth:200,imageHeight:height});case 2:case"end":return _context2.stop()}}),_callee2)})))}},reader.readAsDataURL(file)}}}return Object(jsx_runtime.jsxs)("div",{className:"svg-wrapper",style:{position:"relative",outline:"none"},tabIndex:-1,suppressContentEditableWarning:!0,ref:containerRef,onKeyDown:function onKeyDown(e){return function handleKeyDown(_x){return _handleKeyDown.apply(this,arguments)}(e)},onKeyUp:function handleKeyUp(event){" "===event.key&&(spaceKeyDown=!1)},onMouseDown:function handleFrameSelectionStart(e){1!==e.nativeEvent.which||spaceKeyDown||(e.stopPropagation(),setFrameSelectionStarted(!0),setClickX(e.nativeEvent.offsetX),setClickY(e.nativeEvent.offsetY),setselectionX(e.nativeEvent.offsetX),setselectionY(e.nativeEvent.offsetY))},onMouseMove:function handleMoveNode(e){if(dragStarted){var time=(new Date).getTime();if(time-Tree_lastTime>34||!Tree_lastTime){e.stopPropagation();var movedX,movedY;movedX=e.clientX-clickX,movedY=e.clientY-clickY,setMovedNodeX(movedNodeX+movedX),setMovedNodeY(movedNodeY+movedY),setClickX(e.clientX),setClickY(e.clientY),Tree_lastTime=time}}if(frameSelectionStarted){var _time=(new Date).getTime();if(_time-Tree_lastTime>34||!Tree_lastTime){e.stopPropagation();var _movedX,_movedY;_movedX=e.nativeEvent.offsetX-clickX,_movedY=e.nativeEvent.offsetY-clickY,setselectionWidth(Math.abs(_movedX)),setselectionHeight(Math.abs(_movedY)),_movedX>=0&&_movedY>=0?(setselectionX(clickX),setselectionY(clickY)):(_movedX<0||_movedY<0)&&(setselectionX(clickX+(_movedX<0?_movedX:0)),setselectionY(clickY+(_movedY<0?_movedY:0)));var selectionNodes=getNodesInSelection(selectionX,selectionY,selectionWidth,selectionHeight,block_height,cnodes);_setselectedId(null),_setSelectedNodes(selectionNodes),Tree_lastTime=_time}}},onMouseUp:function handleDragEnd(e){if(dragStarted&&dragInfo&&dragInfo.dragNodeId&&dragInfo.dropNodeId){e.stopPropagation(),setDragStarted(!1);var selectedNode=nodeMap[dragInfo.dragNodeId],dragValid=isDragValid(dragInfo.dragNodeId,dragInfo.dropNodeId,nodeMap),dragValid2=!0,validSelectedNodes=[];if(selectedNodes.length>1&&(validSelectedNodes=getValidSelectedNodes(selectedNodes,nodeMap),dragValid2=isMutilDragValid(validSelectedNodes,dragInfo.dropNodeId,nodeMap)),dragValid&&dragValid2){if(selectedNode){if(setShowDragNode(!1),UNCONTROLLED)if(validSelectedNodes.length>1)for(var index=0;index<validSelectedNodes.length;index++){var dragId=validSelectedNodes[index].nodeKey,res=dragSort(nodeMap,dragId,dragInfo.dropNodeId,dragInfo.placement);res&&(setNodeMap(res),handleChange&&(changed=!0))}else{var _res2=dragSort(nodeMap,dragInfo.dragNodeId,dragInfo.dropNodeId,dragInfo.placement);_res2&&(setNodeMap(_res2),handleChange&&(changed=!0))}else handleDrag&&handleDrag(dragInfo,validSelectedNodes);if(validSelectedNodes.length<=1){var crossCompDragId=sessionStorage.getItem("cross-comp-drag"),crossCompDropId=sessionStorage.getItem("cross-comp-drop"),crossDragCompId=sessionStorage.getItem("cross-drag-compId");crossCompDragId&&handleCrossCompDrag&&crossDragCompId!==compId&&handleCrossCompDrag(crossCompDragId,crossCompDropId)}}}else{setDragInfo(null);var stepX=movedNodeX/30,stepY=movedNodeY/30,interval=setInterval((function(){setMovedNodeX((function(movedNodeX){return movedNodeX-stepX})),setMovedNodeY((function(movedNodeY){return movedNodeY-stepY}))}),Math.floor(500/30));setTimeout((function(){setShowDragNode(!1),clearInterval(interval)}),500)}sessionStorage.removeItem("cross-comp-drag"),sessionStorage.removeItem("cross-comp-drop"),sessionStorage.removeItem("cross-drag-compId")}handleFrameSelectionEnd()},onMouseLeave:function handleDragLeave(){setDragStarted(!1),setDragInfo(null),setShowDragNode(!1),handleFrameSelectionEnd()},children:[Object(jsx_runtime.jsxs)("svg",{className:"tree-svg",viewBox:"0 0 "+(maxEnd+100)+" "+(maxY+ITEM_HEIGHT),width:startExport?2*(maxEnd+100):maxEnd+100,height:startExport?2*(maxY+ITEM_HEIGHT):maxY+ITEM_HEIGHT,style:{backgroundColor:BACKGROUND_COLOR},xmlns:"http://www.w3.org/2000/svg",children:[Object(jsx_runtime.jsxs)("defs",{children:[Object(jsx_runtime.jsxs)("filter",{id:"filterShadow",x:"0",y:"0",width:"200%",height:"200%",children:[Object(jsx_runtime.jsx)("feOffset",{result:"offOut",in:"SourceAlpha",dx:"2",dy:"2"}),Object(jsx_runtime.jsx)("feColorMatrix",{result:"matrixOut",in:"offOut",type:"matrix",values:"0.3 0 0 0 0 \r 0 0.3 0 0 0 \r 0 0 0.3 0 0 \r 0 0 0 0.3 0"}),Object(jsx_runtime.jsx)("feGaussianBlur",{result:"blurOut",in:"matrixOut",stdDeviation:"1"}),Object(jsx_runtime.jsx)("feBlend",{in:"SourceGraphic",in2:"blurOut",mode:"normal"})]}),Object(jsx_runtime.jsxs)("symbol",{id:"contract-up",width:"20",height:"20",viewBox:"0,0,1024,1024",preserveAspectRatio:"xMinYMin meet",children:[Object(jsx_runtime.jsx)("circle",{cx:"512",cy:"512",r:"400",fill:nodeColor}),Object(jsx_runtime.jsx)("path",{d:"M512 39.367111c259.982222 0 472.632889 212.707556 472.632889 472.632889 0 259.982222-212.707556 472.632889-472.632889 472.632889C252.017778 984.632889 39.367111 771.925333 39.367111 512 39.367111 252.017778 252.074667 39.367111 512 39.367111z m0 68.266667C289.792 107.633778 107.633778 289.792 107.633778 512c0 222.208 182.158222 404.366222 404.366222 404.366222 222.208 0 404.366222-182.158222 404.366222-404.366222 0-222.208-182.158222-404.366222-404.366222-404.366222z",fill:COLOR}),Object(jsx_runtime.jsx)("path",{d:"M256 589.255111a40.163556 40.163556 0 0 1 13.141333-29.184l219.704889-203.036444a34.133333 34.133333 0 0 1 46.307556 0l219.875555 203.150222c17.009778 15.701333 17.351111 42.211556 0.739556 58.424889l-5.006222 4.152889a41.870222 41.870222 0 0 1-52.224-3.299556L519.68 454.883556a11.377778 11.377778 0 0 0-15.36 0l-178.801778 164.522666a41.756444 41.756444 0 0 1-57.173333-0.682666 40.049778 40.049778 0 0 1-11.889778-22.812445l-0.455111-6.656z",fill:COLOR})]}),Object(jsx_runtime.jsxs)("symbol",{id:"add",width:"20",height:"20",viewBox:"0,0,1024,1024",preserveAspectRatio:"xMinYMin meet",children:[Object(jsx_runtime.jsx)("circle",{cx:"512",cy:"512",r:"400",fill:COLOR}),Object(jsx_runtime.jsx)("path",{d:"M512 39.367111c259.982222 0 472.632889 212.707556 472.632889 472.632889 0 259.982222-212.707556 472.632889-472.632889 472.632889C252.017778 984.632889 39.367111 771.925333 39.367111 512 39.367111 252.017778 252.074667 39.367111 512 39.367111z m0 68.266667C289.792 107.633778 107.633778 289.792 107.633778 512c0 222.208 182.158222 404.366222 404.366222 404.366222 222.208 0 404.366222-182.158222 404.366222-404.366222 0-222.208-182.158222-404.366222-404.366222-404.366222z",fill:nodeColor}),Object(jsx_runtime.jsx)("path",{d:"M244.622222 467.228444m44.544 0l445.155556 0q44.544 0 44.544 44.544l0-0.056888q0 44.544-44.544 44.544l-445.155556 0q-44.544 0-44.544-44.544l0 0.056888q0-44.544 44.544-44.544Z",fill:nodeColor}),Object(jsx_runtime.jsx)("path",{d:"M556.259556 289.166222v445.212445a44.544 44.544 0 1 1-89.031112 0V289.166222a44.544 44.544 0 0 1 89.031112 0z",fill:nodeColor})]}),Object(jsx_runtime.jsxs)("g",{id:"expand",width:"10",height:"10",viewBox:"0,0,10,10",preserveAspectRatio:"xMinYMin meet",children:[Object(jsx_runtime.jsx)("circle",{cx:"5",cy:"5",r:"5",fill:"#F0F0F0",stroke:"#BFBFBF"}),Object(jsx_runtime.jsx)("path",{d:"M 2 5 H 8 5",stroke:"#666",strokeWidth:"1.6"}),Object(jsx_runtime.jsx)("path",{d:"M 5 2  V 5 8",stroke:"#666",strokeWidth:"1.6"})]}),Object(jsx_runtime.jsxs)("g",{id:"checkbox-checked",width:"18",height:"18",viewBox:"0,0,18,18",preserveAspectRatio:"xMinYMin meet",children:[Object(jsx_runtime.jsx)("circle",{cx:"9",cy:"9",r:"9",fill:"rgb(85, 85, 85)"}),Object(jsx_runtime.jsx)("path",{d:"M 4 9 L 8 13 L 14 5",stroke:"#fff",strokeWidth:"1.6"})]}),Object(jsx_runtime.jsx)("g",{id:"checkbox-uncheck",width:"18",height:"18",viewBox:"0,0,18,18",preserveAspectRatio:"xMinYMin meet",children:Object(jsx_runtime.jsx)("circle",{cx:"9",cy:"9",r:"9",fill:"rgb(216, 216, 216)",stroke:"#000000"})}),Object(jsx_runtime.jsxs)("g",{id:"status",width:"22",height:"22",viewBox:"0,0,22,22",preserveAspectRatio:"xMinYMin meet",children:[Object(jsx_runtime.jsx)("path",{d:"M0 0 L 22 22 H 0 Z",fill:"rgb(85, 85, 85)"}),Object(jsx_runtime.jsx)("path",{d:"M 0 0 H 22 V 22 Z",fill:"rgb(53, 166, 248)"})]}),Object(jsx_runtime.jsxs)("g",{id:"status-overdue",width:"22",height:"22",viewBox:"0,0,22,22",preserveAspectRatio:"xMinYMin meet",children:[Object(jsx_runtime.jsx)("path",{d:"M0 0 L 22 22 H 0 Z",fill:"rgb(221, 53, 53)"}),Object(jsx_runtime.jsx)("path",{d:"M 0 0 H 22 V 22 Z",fill:"rgb(53, 166, 248)"})]}),Object(jsx_runtime.jsxs)("g",{id:"status-complete",width:"22",height:"22",viewBox:"0,0,22,22",preserveAspectRatio:"xMinYMin meet",children:[Object(jsx_runtime.jsx)("path",{d:"M0 0 L 22 22 H 0 Z",fill:"#b6b7b7"}),Object(jsx_runtime.jsx)("path",{d:"M 0 0 H 22 V 22 Z",fill:"rgb(53, 166, 248)"})]}),Object(jsx_runtime.jsx)("g",{id:"status-onlyday",width:"22",height:"22",viewBox:"0,0,22,22",preserveAspectRatio:"xMinYMin meet",children:Object(jsx_runtime.jsx)("rect",{x:"0",y:"0",width:"22",height:"22",fill:"rgb(85, 85, 85)"})}),Object(jsx_runtime.jsx)("g",{id:"status-onlyday-overdue",width:"22",height:"22",viewBox:"0,0,22,22",preserveAspectRatio:"xMinYMin meet",children:Object(jsx_runtime.jsx)("rect",{x:"0",y:"0",width:"22",height:"22",fill:"rgb(221, 53, 53)"})}),Object(jsx_runtime.jsx)("g",{id:"status-onlyday-complete",width:"22",height:"22",viewBox:"0,0,22,22",preserveAspectRatio:"xMinYMin meet",children:Object(jsx_runtime.jsx)("rect",{x:"0",y:"0",width:"22",height:"22",fill:"#417505"})}),Object(jsx_runtime.jsx)("symbol",{id:"favorite",width:"200",height:"200",viewBox:"0,0,1024,1024",preserveAspectRatio:"xMinYMin meet",children:Object(jsx_runtime.jsx)("path",{d:"M565.228999 34.689634l112.062243 237.506364c8.702621 18.317097 25.411973 31.05108 44.816898 33.994614l250.736267 38.073966c48.688285 7.406826 68.213191 70.036902 32.930782 105.95921L824.307945 635.130487c-13.997782 14.237744-20.348775 34.810484-17.053298 54.927296l42.809217 261.086627c8.342678 50.687968-42.633244 89.441827-86.210339 65.50962l-224.276461-123.252469a57.030963 57.030963 0 0 0-55.271241 0l-224.276461 123.260467c-43.577095 23.91621-94.553017-14.82965-86.20234-65.509619l42.809216-261.094626c3.319474-20.116812-3.095509-40.697551-17.085293-54.927296L18.147691 450.223788C-17.126719 414.30148 2.326198 351.671404 51.070474 344.264578l250.704273-38.073966c19.348934-2.943534 36.074284-15.677516 44.752908-33.994614L458.63789 34.689634c21.820542-46.152687 84.826558-46.152687 106.58311 0z",fill:"#FFB11B"})}),Object(jsx_runtime.jsx)("symbol",{id:"pack",width:"18",height:"16",viewBox:"0,0,18,16",preserveAspectRatio:"xMinYMin meet",children:Object(jsx_runtime.jsx)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:Object(jsx_runtime.jsxs)("g",{transform:"translate(0.000000, 0.000007)",children:[Object(jsx_runtime.jsx)("path",{d:"M15.8396584,2.58289418 L8.61752011,2.58289418 L6.1696488,0.130509602 C6.08473826,0.0462875302 5.96976481,-0.000681000602 5.85012509,-4.4408921e-15 L2.25037734,-4.4408921e-15 C1.00777667,-4.4408921e-15 0.000477621947,1.007383 0.000477621947,2.24990718 L0.000477621947,13.0493034 C-0.024613059,14.2668134 0.941990125,15.2741125 2.15942362,15.2992032 L2.16034157,15.2992032 L15.8396584,15.2992032 C17.0570919,15.2746479 18.0240776,14.2677314 17.9995224,13.0502979 L17.9995224,13.0493034 L17.9995224,4.83279389 C18.0246131,3.6152839 17.0580099,2.60798486 15.8405764,2.58289418 L15.8396584,2.58289418 Z",fill:"#7264C7"}),Object(jsx_runtime.jsx)("path",{d:"M5.02500122,3.90995406 C5.51319856,3.90995406 5.90898875,4.30566776 5.90898875,4.79386509 C5.90898875,5.13142591 5.71976385,5.42480743 5.44160487,5.57371884 L5.44109019,7.78495406 L12.4856515,7.78458737 C12.6301575,7.49311204 12.9307285,7.29272862 13.2780452,7.29272862 C13.7662426,7.29272862 14.1620328,7.68851881 14.1620328,8.17671615 C14.1620328,8.66491348 13.7662426,9.06070368 13.2780452,9.06070368 C12.9236883,9.06070368 12.6179914,8.85211427 12.4770572,8.5510087 L5.44109019,8.54995406 L5.44149123,10.9547212 C5.44149123,11.2319426 5.66707787,11.4575292 5.94429929,11.4575292 L12.4266114,11.4572917 C12.5306129,11.0848093 12.8724551,10.8115436 13.2780452,10.8115436 C13.7662426,10.8115436 14.1620328,11.2073338 14.1620328,11.6955312 C14.1620328,12.1837285 13.7662426,12.5795187 13.2780452,12.5795187 C12.987737,12.5795187 12.7300882,12.4395183 12.5689396,12.2233421 L5.94429929,12.222489 C5.24527904,12.222489 4.67653144,11.6537414 4.67653144,10.9547212 L4.67588826,5.60621629 C4.36134998,5.47082409 4.14109019,5.15805717 4.14109019,4.79386509 C4.14109019,4.30566776 4.53688038,3.90995406 5.02500122,3.90995406 Z",fill:"#FFFFFF"})]})})})]}),cnodes.map((function(node,index){return Object(jsx_runtime.jsxs)("g",{className:"node-group-"+node._key,children:[isSingle?node.x&&node.y?Object(jsx_runtime.jsxs)("g",{className:"multi-column",children:[node._key!==startId?Object(jsx_runtime.jsx)("path",{d:fatherPath(node),fill:"none",stroke:rainbowColor?node.pathColor:PATH_COLOR,strokeWidth:PATH_WIDTH}):null,node.sortList&&node.sortList.length&&!node.contract?Object(jsx_runtime.jsx)("path",{d:childPath(node),fill:"none",stroke:rainbowColor?node.backgroundColor:PATH_COLOR,strokeWidth:PATH_WIDTH}):null]}):null:Object(jsx_runtime.jsxs)("g",{className:"single-column",children:[node.x&&node.y&&node.father&&node.father!==startId&&node._key!==startId?Object(jsx_runtime.jsx)("path",{d:fatherPath(node),fill:"none",stroke:rainbowColor?node.pathColor:PATH_COLOR,strokeWidth:PATH_WIDTH}):null,node.x&&node.y&&node.sortList&&node.sortList.length&&!node.contract&&node._key!==startId?Object(jsx_runtime.jsx)("path",{d:childPath(node),fill:"none",stroke:rainbowColor?node.pathColor||node.backgroundColor:PATH_COLOR,strokeWidth:PATH_WIDTH}):null,node._key===startId&&node.sortList&&node.sortList.length&&!node.contract?Object(jsx_runtime.jsx)("path",{d:(height=node.height,y=node.y,"M "+(secondStartX?secondStartX+RADIUS:0)+" "+(y+height+ITEM_HEIGHT)+" H "+(secondEndX?secondEndX-RADIUS:0)),fill:"none",stroke:rainbowColor?startNodeBg:PATH_COLOR,strokeWidth:PATH_WIDTH}):null,node._key===startId&&node.sortList&&node.sortList.length&&!node.contract?Object(jsx_runtime.jsx)("path",{d:rootVpath(node),fill:"none",stroke:rainbowColor?startNodeBg:PATH_COLOR,strokeWidth:PATH_WIDTH}):null,node.x&&node.y&&node.father&&node.father===startId?Object(jsx_runtime.jsx)("path",{d:rootBottomVpath(node),fill:"none",stroke:rainbowColor?startNodeBg:PATH_COLOR,strokeWidth:PATH_WIDTH}):null]}),showInput&&node._key===selectedId?null:Object(jsx_runtime.jsx)(components_TreeNode,{node:node,topBottomMargin:node._key===startId?topBottomMargin*rootZoomRatio:node.father===startId?topBottomMargin*secondZoomRatio:topBottomMargin,lineHeight:node._key===startId?lineHeight*rootZoomRatio:node.father===startId?lineHeight*secondZoomRatio:lineHeight,FONT_SIZE:node._key===startId?FONT_SIZE*rootZoomRatio:node.father===startId?FONT_SIZE*secondZoomRatio:FONT_SIZE,avatarRadius:avatarRadius,color:COLOR,nodeColor:rainbowColor?void 0:nodeColor,startId:startId,alias:(new Date).getTime(),selected:selectedId,selectedNodes:selectedNodes,singleColumn:singleColumn,showIcon:SHOW_ICON,showAvatar:SHOW_AVATAR,treeBackgroundColor:BACKGROUND_COLOR,startNodeBg:startNodeBg,customAdornment:customAdornment,disabled:disabled,handleClickDot:clickDot,handleExpand:handleExpand,handleCheck:check,handleClickAvatar:clickAvatar,handleClickStatus:clickStatus,handleClickNode:clickNode,handleDbClickNode:dbClickNode,clickPreview:clickPreview,updateDragInfo:updateDragInfo,dragStarted:dragStarted,handleDragStart:handleDragStart,dragEndFromOutside:dragEndFromOutside,mouseEnterAvatar:function mouseEnterAvatar(node){handleMouseEnterAvatar&&handleMouseEnterAvatar(node)},mouseLeaveAvatar:function mouseLeaveAvatar(node){handleMouseLeaveAvatar&&handleMouseLeaveAvatar(node)},hideHour:hideHour,dotColor:PATH_COLOR,hoverBorderColor:HOVER_BORDER_COLOR,selectedBorderColor:SELECTED_BORDER_COLOR,selectedBackgroundColor:SELECTED_BACKGROUND_COLOR,handleFileChange:handleFileChange,onContextMenu:handleContextMenu,onClickNodeImage:handleClickNodeImage,onResizeImage:handleResizeImage,handleAddChild:addChild,handleAddNext:addNext})]},index+"_"+node._key);var height,y})),showDragNode&&(Math.abs(movedNodeX)>5||Math.abs(movedNodeY)>5)?Object(jsx_runtime.jsx)(components_DragNode,{nodeList:cnodes,BLOCK_HEIGHT:block_height,FONT_SIZE:FONT_SIZE,alias:(new Date).getTime(),showIcon:SHOW_ICON,showAvatar:SHOW_AVATAR,avatarRadius:avatarRadius,movedNodeX:movedNodeX,movedNodeY:movedNodeY,dragInfo:dragInfo,mutilMode:selectedNodes.length>1}):null,frameSelectionStarted?Object(jsx_runtime.jsx)("rect",{x:selectionX,y:selectionY,width:selectionWidth,height:selectionHeight,fill:"#35a6f8",fillOpacity:.2,stroke:"#35a6f8"}):null]}),showInput||showNewInput?Object(jsx_runtime.jsx)(components_NodeInput,{selectedId:selectedId,nodeList:cnodes,handleChangeNodeText:changeText,topBottomMargin:selectedId===startId?topBottomMargin*rootZoomRatio:nodeMap&&selectedId&&nodeMap[selectedId].father===startId?topBottomMargin*secondZoomRatio:topBottomMargin,lineHeight:selectedId===startId?lineHeight*rootZoomRatio:nodeMap&&selectedId&&nodeMap[selectedId].father===startId?lineHeight*secondZoomRatio:lineHeight,FONT_SIZE:selectedId===startId?FONT_SIZE*rootZoomRatio:nodeMap&&selectedId&&nodeMap[selectedId].father===startId?FONT_SIZE*secondZoomRatio:FONT_SIZE,avatarRadius:avatarRadius,showIcon:SHOW_ICON,showAvatar:SHOW_AVATAR,textMaxWidth:textMaxWidth,startNodeBg:startNodeBg,startId:startId,nodeColor:rainbowColor?void 0:nodeColor,inputEmpty:inputEmpty,selectedBorderColor:SELECTED_BORDER_COLOR,handleFileChange:handleTreePaste,quickCommandKey:quickCommandKey,handleQuickCommandOpen:handleQuickCommandOpen}):null]})}));try{Tree_Tree.displayName="Tree",Tree_Tree.__docgenInfo={description:"",displayName:"Tree",props:{nodes:{defaultValue:null,description:"",name:"nodes",required:!0,type:{name:"NodeMap"}},startId:{defaultValue:null,description:"",name:"startId",required:!0,type:{name:"string"}},defaultSelectedId:{defaultValue:null,description:"",name:"defaultSelectedId",required:!1,type:{name:"string"}},uncontrolled:{defaultValue:null,description:"",name:"uncontrolled",required:!1,type:{name:"boolean"}},singleColumn:{defaultValue:null,description:"",name:"singleColumn",required:!1,type:{name:"boolean"}},itemHeight:{defaultValue:null,description:"",name:"itemHeight",required:!1,type:{name:"number"}},topBottomMargin:{defaultValue:{value:"5"},description:"",name:"topBottomMargin",required:!1,type:{name:"number"}},lineHeight:{defaultValue:{value:"20"},description:"",name:"lineHeight",required:!1,type:{name:"number"}},textMaxWidth:{defaultValue:{value:"300"},description:"",name:"textMaxWidth",required:!1,type:{name:"number"}},fontSize:{defaultValue:null,description:"",name:"fontSize",required:!1,type:{name:"number"}},indent:{defaultValue:null,description:"",name:"indent",required:!1,type:{name:"number"}},columnSpacing:{defaultValue:null,description:"",name:"columnSpacing",required:!1,type:{name:"number"}},avatarWidth:{defaultValue:null,description:"",name:"avatarWidth",required:!1,type:{name:"number"}},checkBoxWidth:{defaultValue:null,description:"",name:"checkBoxWidth",required:!1,type:{name:"number"}},pathWidth:{defaultValue:null,description:"",name:"pathWidth",required:!1,type:{name:"number"}},pathColor:{defaultValue:null,description:"",name:"pathColor",required:!1,type:{name:"string"}},nodeColor:{defaultValue:{value:"#f0f0f0"},description:"",name:"nodeColor",required:!1,type:{name:"string"}},lineRadius:{defaultValue:null,description:"",name:"lineRadius",required:!1,type:{name:"number"}},avatarRadius:{defaultValue:{value:"11"},description:"",name:"avatarRadius",required:!1,type:{name:"number"}},disableShortcut:{defaultValue:null,description:"",name:"disableShortcut",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},showIcon:{defaultValue:null,description:"",name:"showIcon",required:!1,type:{name:"boolean"}},showAvatar:{defaultValue:null,description:"",name:"showAvatar",required:!1,type:{name:"boolean"}},hideHour:{defaultValue:null,description:"",name:"hideHour",required:!1,type:{name:"boolean"}},root_zoom_ratio:{defaultValue:null,description:"",name:"root_zoom_ratio",required:!1,type:{name:"number"}},second_zoom_ratio:{defaultValue:null,description:"",name:"second_zoom_ratio",required:!1,type:{name:"number"}},backgroundColor:{defaultValue:null,description:"",name:"backgroundColor",required:!1,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}},hoverBorderColor:{defaultValue:null,description:"",name:"hoverBorderColor",required:!1,type:{name:"string"}},selectedBorderColor:{defaultValue:null,description:"",name:"selectedBorderColor",required:!1,type:{name:"string"}},selectedBackgroundColor:{defaultValue:null,description:"",name:"selectedBackgroundColor",required:!1,type:{name:"string"}},quickCommandKey:{defaultValue:null,description:"",name:"quickCommandKey",required:!1,type:{name:"string"}},paddingLeft:{defaultValue:{value:"50"},description:"",name:"paddingLeft",required:!1,type:{name:"number"}},paddingTop:{defaultValue:{value:"50"},description:"",name:"paddingTop",required:!1,type:{name:"number"}},rainbowColor:{defaultValue:null,description:"",name:"rainbowColor",required:!1,type:{name:"boolean"}},startNodeBg:{defaultValue:{value:"#CB1B45"},description:"",name:"startNodeBg",required:!1,type:{name:"string"}},customAdornment:{defaultValue:null,description:"",name:"customAdornment",required:!1,type:{name:"FC<{ x: number; y: number; height: number; nodeKey: string; }>"}},handleClickExpand:{defaultValue:null,description:"",name:"handleClickExpand",required:!1,type:{name:"Function"}},handleCheck:{defaultValue:null,description:"",name:"handleCheck",required:!1,type:{name:"Function"}},handleClickAvatar:{defaultValue:null,description:"",name:"handleClickAvatar",required:!1,type:{name:"NodeClickFunc"}},handleClickStatus:{defaultValue:null,description:"",name:"handleClickStatus",required:!1,type:{name:"StatusClickFunc"}},handleClickNode:{defaultValue:null,description:"",name:"handleClickNode",required:!1,type:{name:"Function"}},handleDbClickNode:{defaultValue:null,description:"",name:"handleDbClickNode",required:!1,type:{name:"Function"}},handleChangeNodeText:{defaultValue:null,description:"",name:"handleChangeNodeText",required:!1,type:{name:"Function"}},handleAddNext:{defaultValue:null,description:"",name:"handleAddNext",required:!1,type:{name:"Function"}},handleAddChild:{defaultValue:null,description:"",name:"handleAddChild",required:!1,type:{name:"Function"}},handleDeleteNode:{defaultValue:null,description:"",name:"handleDeleteNode",required:!1,type:{name:"Function"}},handleClickPreviewButton:{defaultValue:null,description:"",name:"handleClickPreviewButton",required:!1,type:{name:"Function"}},handleClickDot:{defaultValue:null,description:"",name:"handleClickDot",required:!1,type:{name:"Function"}},handleShiftUpDown:{defaultValue:null,description:"",name:"handleShiftUpDown",required:!1,type:{name:"Function"}},handleDrag:{defaultValue:null,description:"",name:"handleDrag",required:!1,type:{name:"Function"}},handlePaste:{defaultValue:null,description:"",name:"handlePaste",required:!1,type:{name:"PasteFunc"}},dragEndFromOutside:{defaultValue:null,description:"",name:"dragEndFromOutside",required:!1,type:{name:"((node: CNode, dataTransferText: string) => void)"}},handleMouseEnterAvatar:{defaultValue:null,description:"",name:"handleMouseEnterAvatar",required:!1,type:{name:"Function"}},handleMouseLeaveAvatar:{defaultValue:null,description:"",name:"handleMouseLeaveAvatar",required:!1,type:{name:"Function"}},handleCrossCompDrag:{defaultValue:null,description:"",name:"handleCrossCompDrag",required:!1,type:{name:"Function"}},handleChange:{defaultValue:null,description:"",name:"handleChange",required:!1,type:{name:"(() => void)"}},showDeleteConform:{defaultValue:null,description:"",name:"showDeleteConform",required:!1,type:{name:"Function"}},handleMutiSelect:{defaultValue:null,description:"",name:"handleMutiSelect",required:!1,type:{name:"MutiSelectFunc"}},handleFileChange:{defaultValue:null,description:"",name:"handleFileChange",required:!1,type:{name:"HandleFileChange"}},handleQuickCommandOpen:{defaultValue:null,description:"",name:"handleQuickCommandOpen",required:!1,type:{name:"HandleQuickCommandOpen"}},handlePasteText:{defaultValue:null,description:"",name:"handlePasteText",required:!1,type:{name:"HandlePasteText"}},handleContextMenu:{defaultValue:null,description:"",name:"handleContextMenu",required:!1,type:{name:"((nodeKey: string, event: MouseEvent<Element, MouseEvent>) => void)"}},handleClickNodeImage:{defaultValue:null,description:"",name:"handleClickNodeImage",required:!1,type:{name:"((url?: string) => void)"}},handleResizeNodeImage:{defaultValue:null,description:"",name:"handleResizeNodeImage",required:!1,type:{name:"((nodeKey: string, nodeWidth: number) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Tree.tsx#Tree"]={docgenInfo:Tree_Tree.__docgenInfo,name:"Tree",path:"src/Tree.tsx#Tree"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("./node_modules/core-js/modules/es.array.sort.js"),__webpack_require__("./node_modules/core-js/modules/es.array.fill.js");var Play_SVG=function SVG(_ref){var _ref$style=_ref.style,style=void 0===_ref$style?{}:_ref$style,_ref$fill=_ref.fill,fill=void 0===_ref$fill?'#7C7B7B"':_ref$fill,_ref$width=_ref.width,width=void 0===_ref$width?29:_ref$width,_ref$height=_ref.height,height=void 0===_ref$height?29:_ref$height,_ref$className=_ref.className,className=void 0===_ref$className?"":_ref$className,_ref$viewBox=_ref.viewBox,viewBox=void 0===_ref$viewBox?"0 0 1024 1024":_ref$viewBox;return Object(jsx_runtime.jsxs)("svg",{className:"svg-icon "+(className||""),style:style,viewBox:viewBox,version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:width,height:height,children:[Object(jsx_runtime.jsx)("path",{fill:fill,d:"M896 128H128c-25.6 0-42.666667 17.066667-42.666667 42.666667v554.666666c0 25.6 17.066667 42.666667 42.666667 42.666667h341.333333v85.333333H298.666667v85.333334h426.666666v-85.333334h-170.666666v-85.333333h341.333333c25.6 0 42.666667-17.066667 42.666667-42.666667V170.666667c0-25.6-17.066667-42.666667-42.666667-42.666667z m-42.666667 554.666667H170.666667V213.333333h682.666666v469.333334z"}),Object(jsx_runtime.jsx)("path",{fill:fill,d:"M640 448l-213.333333-128v256z"})]})};Play_SVG.displayName="SVG";var icon_Play=Play_SVG;try{Play.displayName="Play",Play.__docgenInfo={description:"",displayName:"Play",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},style:{defaultValue:{value:"{}"},description:"",name:"style",required:!1,type:{name:"object"}},fill:{defaultValue:{value:'#7C7B7B"'},description:"",name:"fill",required:!1,type:{name:"string"}},width:{defaultValue:{value:"29"},description:"",name:"width",required:!1,type:{name:"string | number"}},height:{defaultValue:{value:"29"},description:"",name:"height",required:!1,type:{name:"string | number"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},viewBox:{defaultValue:{value:"0 0 1024 1024"},description:"",name:"viewBox",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icon/Play.tsx#Play"]={docgenInfo:Play.__docgenInfo,name:"Play",path:"src/components/icon/Play.tsx#Play"})}catch(__react_docgen_typescript_loader_error){}var Moon_SVG=function SVG(_ref){var _ref$style=_ref.style,style=void 0===_ref$style?{}:_ref$style,_ref$fill=_ref.fill,fill=void 0===_ref$fill?'#7C7B7B"':_ref$fill,_ref$width=_ref.width,width=void 0===_ref$width?29:_ref$width,_ref$height=_ref.height,height=void 0===_ref$height?29:_ref$height,_ref$className=_ref.className,className=void 0===_ref$className?"":_ref$className,_ref$viewBox=_ref.viewBox,viewBox=void 0===_ref$viewBox?"0 0 1024 1024":_ref$viewBox;return Object(jsx_runtime.jsx)("svg",{className:"svg-icon "+(className||""),style:style,viewBox:viewBox,version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:width,height:height,children:Object(jsx_runtime.jsx)("path",{fill:fill,d:"M518.8 512.7c0-178.9 116.1-330.9 278.5-389.1-45.6-16.3-94.6-25.7-145.9-25.7C417 97.9 227 283.7 227 512.7c0 229.1 190 414.8 424.5 414.8 51.4 0 100.3-9.4 145.9-25.7-162.5-58.1-278.6-210.1-278.6-389.1z"})})};Moon_SVG.displayName="SVG";var icon_Moon=Moon_SVG;try{Moon.displayName="Moon",Moon.__docgenInfo={description:"",displayName:"Moon",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},style:{defaultValue:{value:"{}"},description:"",name:"style",required:!1,type:{name:"object"}},fill:{defaultValue:{value:'#7C7B7B"'},description:"",name:"fill",required:!1,type:{name:"string"}},width:{defaultValue:{value:"29"},description:"",name:"width",required:!1,type:{name:"string | number"}},height:{defaultValue:{value:"29"},description:"",name:"height",required:!1,type:{name:"string | number"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},viewBox:{defaultValue:{value:"0 0 1024 1024"},description:"",name:"viewBox",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icon/Moon.tsx#Moon"]={docgenInfo:Moon.__docgenInfo,name:"Moon",path:"src/components/icon/Moon.tsx#Moon"})}catch(__react_docgen_typescript_loader_error){}var Sun_SVG=function SVG(_ref){var _ref$style=_ref.style,style=void 0===_ref$style?{}:_ref$style,_ref$fill=_ref.fill,fill=void 0===_ref$fill?'#7C7B7B"':_ref$fill,_ref$width=_ref.width,width=void 0===_ref$width?29:_ref$width,_ref$height=_ref.height,height=void 0===_ref$height?29:_ref$height,_ref$className=_ref.className,className=void 0===_ref$className?"":_ref$className,_ref$viewBox=_ref.viewBox,viewBox=void 0===_ref$viewBox?"0 0 1024 1024":_ref$viewBox;return Object(jsx_runtime.jsx)("svg",{className:"svg-icon "+(className||""),style:style,viewBox:viewBox,version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:width,height:height,children:Object(jsx_runtime.jsx)("path",{fill:fill,d:"M298.7 676.2l-52.3 52.3c-9.6 9.6-9.6 25.3 0 34.9 9.6 9.6 25.3 9.6 34.9 0l52.3-52.3c9.6-9.6 9.6-25.3 0-34.9-9.6-9.6-25.3-9.6-34.9 0z m-15-372.7c9.7 9.7 25.5 9.7 35.2 0 9.7-9.7 9.7-25.5 0-35.2l-52.8-52.8c-9.7-9.7-25.5-9.7-35.2 0-9.7 9.7-9.7 25.5 0 35.2l52.8 52.8z m-69.9 168.8h-74.7c-13.8 0-24.9 11.1-24.9 24.9 0 13.8 11.2 24.9 24.9 24.9h74.7c13.8 0 24.9-11.1 24.9-24.9 0-13.7-11.2-24.9-24.9-24.9z m298.8-249c13.8 0 24.9-11.1 24.9-24.9v-74.7c0-13.8-11.1-24.9-24.9-24.9s-24.9 11.1-24.9 24.9v74.7c0 13.8 11.2 24.9 24.9 24.9z m239.6 69.2l52.3-52.3c9.6-9.6 9.6-25.3 0-34.9-9.6-9.6-25.3-9.6-34.9 0l-52.3 52.3c-9.6 9.6-9.6 25.3 0 34.9 9.6 9.7 25.3 9.7 34.9 0z m133.9 179.8h-74.7c-13.8 0-24.9 11.1-24.9 24.9 0 13.8 11.1 24.9 24.9 24.9h74.7c13.8 0 24.9-11.1 24.9-24.9 0-13.7-11.1-24.9-24.9-24.9zM741.5 690.9c-9.7-9.7-25.5-9.7-35.2 0-9.7 9.7-9.7 25.5 0 35.2l52.8 52.8c9.7 9.7 25.5 9.7 35.2 0 9.7-9.7 9.7-25.5 0-35.2l-52.8-52.8zM512.6 273c-123.9 0-224.3 100.4-224.3 224.3s100.4 224.3 224.3 224.3 224.3-100.4 224.3-224.3S636.5 273 512.6 273z m0 498.1c-13.8 0-24.9 11.1-24.9 24.9v74.7c0 13.8 11.1 24.9 24.9 24.9s24.9-11.1 24.9-24.9V796c0-13.7-11.1-24.9-24.9-24.9z"})})};Sun_SVG.displayName="SVG";var icon_Sun=Sun_SVG;try{Sun.displayName="Sun",Sun.__docgenInfo={description:"",displayName:"Sun",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},style:{defaultValue:{value:"{}"},description:"",name:"style",required:!1,type:{name:"object"}},fill:{defaultValue:{value:'#7C7B7B"'},description:"",name:"fill",required:!1,type:{name:"string"}},width:{defaultValue:{value:"29"},description:"",name:"width",required:!1,type:{name:"string | number"}},height:{defaultValue:{value:"29"},description:"",name:"height",required:!1,type:{name:"string | number"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},viewBox:{defaultValue:{value:"0 0 1024 1024"},description:"",name:"viewBox",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icon/Sun.tsx#Sun"]={docgenInfo:Sun.__docgenInfo,name:"Sun",path:"src/components/icon/Sun.tsx#Sun"})}catch(__react_docgen_typescript_loader_error){}var Next_SVG=function SVG(_ref){var _ref$style=_ref.style,style=void 0===_ref$style?{}:_ref$style,_ref$fill=_ref.fill,fill=void 0===_ref$fill?'#7C7B7B"':_ref$fill,_ref$width=_ref.width,width=void 0===_ref$width?29:_ref$width,_ref$height=_ref.height,height=void 0===_ref$height?29:_ref$height,_ref$className=_ref.className,className=void 0===_ref$className?"":_ref$className,_ref$viewBox=_ref.viewBox,viewBox=void 0===_ref$viewBox?"0 0 1024 1024":_ref$viewBox;return Object(jsx_runtime.jsx)("svg",{className:"svg-icon "+(className||""),style:style,viewBox:viewBox,version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:width,height:height,children:Object(jsx_runtime.jsx)("path",{fill:fill,d:"M758.528 512L384 886.528l-60.330667-60.330667 313.984-314.453333-310.954666-310.912L386.986667 140.501333z"})})};Next_SVG.displayName="SVG";var icon_Next=Next_SVG;try{Next.displayName="Next",Next.__docgenInfo={description:"",displayName:"Next",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},style:{defaultValue:{value:"{}"},description:"",name:"style",required:!1,type:{name:"object"}},fill:{defaultValue:{value:'#7C7B7B"'},description:"",name:"fill",required:!1,type:{name:"string"}},width:{defaultValue:{value:"29"},description:"",name:"width",required:!1,type:{name:"string | number"}},height:{defaultValue:{value:"29"},description:"",name:"height",required:!1,type:{name:"string | number"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},viewBox:{defaultValue:{value:"0 0 1024 1024"},description:"",name:"viewBox",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icon/Next.tsx#Next"]={docgenInfo:Next.__docgenInfo,name:"Next",path:"src/components/icon/Next.tsx#Next"})}catch(__react_docgen_typescript_loader_error){}var Prev_SVG=function SVG(_ref){var _ref$style=_ref.style,style=void 0===_ref$style?{}:_ref$style,_ref$fill=_ref.fill,fill=void 0===_ref$fill?'#7C7B7B"':_ref$fill,_ref$width=_ref.width,width=void 0===_ref$width?29:_ref$width,_ref$height=_ref.height,height=void 0===_ref$height?29:_ref$height,_ref$className=_ref.className,className=void 0===_ref$className?"":_ref$className,_ref$viewBox=_ref.viewBox,viewBox=void 0===_ref$viewBox?"0 0 1024 1024":_ref$viewBox;return Object(jsx_runtime.jsx)("svg",{className:"svg-icon "+(className||""),style:style,viewBox:viewBox,version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:width,height:height,children:Object(jsx_runtime.jsx)("path",{fill:fill,d:"M238.336 512l374.528 374.528 60.330667-60.330667-313.984-314.453333 310.954666-310.912-60.330666-60.330667z"})})};Prev_SVG.displayName="SVG";var icon_Prev=Prev_SVG;try{Prev.displayName="Prev",Prev.__docgenInfo={description:"",displayName:"Prev",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},style:{defaultValue:{value:"{}"},description:"",name:"style",required:!1,type:{name:"object"}},fill:{defaultValue:{value:'#7C7B7B"'},description:"",name:"fill",required:!1,type:{name:"string"}},width:{defaultValue:{value:"29"},description:"",name:"width",required:!1,type:{name:"string | number"}},height:{defaultValue:{value:"29"},description:"",name:"height",required:!1,type:{name:"string | number"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},viewBox:{defaultValue:{value:"0 0 1024 1024"},description:"",name:"viewBox",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icon/Prev.tsx#Prev"]={docgenInfo:Prev.__docgenInfo,name:"Prev",path:"src/components/icon/Prev.tsx#Prev"})}catch(__react_docgen_typescript_loader_error){}var Attach_SVG=function SVG(_ref){var _ref$style=_ref.style,style=void 0===_ref$style?{}:_ref$style,_ref$width=_ref.width,width=void 0===_ref$width?29:_ref$width,_ref$height=_ref.height,height=void 0===_ref$height?29:_ref$height,_ref$className=_ref.className,className=void 0===_ref$className?"":_ref$className,_ref$viewBox=_ref.viewBox,viewBox=void 0===_ref$viewBox?"0 0 1024 1024":_ref$viewBox;return Object(jsx_runtime.jsxs)("svg",{className:"svg-icon "+(className||""),style:style,viewBox:viewBox,version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:width,height:height,children:[Object(jsx_runtime.jsx)("path",{d:"M145.6 0C100.8 0 64 35.2 64 80v862.4C64 987.2 100.8 1024 145.6 1024h732.8c44.8 0 81.6-36.8 81.6-81.6V324.8L657.6 0h-512z",fill:"#8199AF","p-id":"2680"}),Object(jsx_runtime.jsx)("path",{d:"M960 326.4v16H755.2s-100.8-20.8-99.2-108.8c0 0 4.8 92.8 97.6 92.8H960z",fill:"#617F9B","p-id":"2681"}),Object(jsx_runtime.jsx)("path",{d:"M657.6 0v233.6c0 25.6 17.6 92.8 97.6 92.8H960L657.6 0z",fill:"#FFFFFF",opacity:".5","p-id":"2682"}),Object(jsx_runtime.jsx)("path",{d:"M489.6 664c17.6-19.2 17.6-48 0-67.2s-48-17.6-65.6 0l-147.2 147.2c-17.6 17.6-17.6 48 0 65.6s48 19.2 65.6 0l91.2-89.6c4.8-4.8 4.8-12.8 0-17.6s-14.4-6.4-19.2 0l-57.6 56c-8 8-19.2 8-27.2 0s-8-20.8 0-28.8l56-56c20.8-20.8 54.4-20.8 75.2 0 20.8 20.8 20.8 54.4 0 75.2l-89.6 89.6c-33.6 33.6-88 33.6-123.2 0-33.6-33.6-33.6-88 0-121.6l147.2-147.2c33.6-33.6 89.6-33.6 123.2 0 33.6 33.6 33.6 88 0 121.6l-14.4 14.4c-1.6-14.4-6.4-28.8-16-41.6h1.6z",fill:"#FFFFFF","p-id":"2683"})]})};Attach_SVG.displayName="SVG";var icon_Attach=Attach_SVG;try{Attach.displayName="Attach",Attach.__docgenInfo={description:"",displayName:"Attach",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},style:{defaultValue:{value:"{}"},description:"",name:"style",required:!1,type:{name:"object"}},fill:{defaultValue:null,description:"",name:"fill",required:!1,type:{name:"string"}},width:{defaultValue:{value:"29"},description:"",name:"width",required:!1,type:{name:"string | number"}},height:{defaultValue:{value:"29"},description:"",name:"height",required:!1,type:{name:"string | number"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},viewBox:{defaultValue:{value:"0 0 1024 1024"},description:"",name:"viewBox",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icon/Attach.tsx#Attach"]={docgenInfo:Attach.__docgenInfo,name:"Attach",path:"src/components/icon/Attach.tsx#Attach"})}catch(__react_docgen_typescript_loader_error){}var Collapse_SVG=function SVG(_ref){var _ref$style=_ref.style,style=void 0===_ref$style?{}:_ref$style,_ref$fill=_ref.fill,fill=void 0===_ref$fill?'#7C7B7B"':_ref$fill,_ref$width=_ref.width,width=void 0===_ref$width?29:_ref$width,_ref$height=_ref.height,height=void 0===_ref$height?29:_ref$height,_ref$className=_ref.className,className=void 0===_ref$className?"":_ref$className,_ref$viewBox=_ref.viewBox,viewBox=void 0===_ref$viewBox?"0 0 1024 1024":_ref$viewBox;return Object(jsx_runtime.jsx)("svg",{className:"svg-icon "+(className||""),style:style,viewBox:viewBox,version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:width,height:height,children:Object(jsx_runtime.jsx)("path",{fill:fill,d:"M475.648 728.064L236.032 473.6c-14.848-15.872-18.944-38.912-11.264-59.392 8.192-20.48 26.624-33.792 47.616-33.792h479.744c20.992 0 39.424 13.312 47.616 33.792 2.56 6.656 4.096 13.824 4.096 20.992 0 14.336-5.12 28.16-15.36 38.4l-239.616 254.464c-9.728 10.24-23.04 15.872-36.352 15.872-14.336 0-27.136-5.632-36.864-15.872z"})})};Collapse_SVG.displayName="SVG";var icon_Collapse=Collapse_SVG;try{Collapse.displayName="Collapse",Collapse.__docgenInfo={description:"",displayName:"Collapse",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},style:{defaultValue:{value:"{}"},description:"",name:"style",required:!1,type:{name:"object"}},fill:{defaultValue:{value:'#7C7B7B"'},description:"",name:"fill",required:!1,type:{name:"string"}},width:{defaultValue:{value:"29"},description:"",name:"width",required:!1,type:{name:"string | number"}},height:{defaultValue:{value:"29"},description:"",name:"height",required:!1,type:{name:"string | number"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},viewBox:{defaultValue:{value:"0 0 1024 1024"},description:"",name:"viewBox",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icon/Collapse.tsx#Collapse"]={docgenInfo:Collapse.__docgenInfo,name:"Collapse",path:"src/components/icon/Collapse.tsx#Collapse"})}catch(__react_docgen_typescript_loader_error){}var Collapsed_SVG=function SVG(_ref){var _ref$style=_ref.style,style=void 0===_ref$style?{}:_ref$style,_ref$fill=_ref.fill,fill=void 0===_ref$fill?'#7C7B7B"':_ref$fill,_ref$width=_ref.width,width=void 0===_ref$width?29:_ref$width,_ref$height=_ref.height,height=void 0===_ref$height?29:_ref$height,_ref$className=_ref.className,className=void 0===_ref$className?"":_ref$className,_ref$viewBox=_ref.viewBox,viewBox=void 0===_ref$viewBox?"0 0 1024 1024":_ref$viewBox;return Object(jsx_runtime.jsx)("svg",{className:"svg-icon "+(className||""),style:style,viewBox:viewBox,version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:width,height:height,children:Object(jsx_runtime.jsx)("path",{fill:fill,d:"M677.888 598.528l-254.464 239.616c-15.872 14.848-38.912 18.944-59.392 11.264-20.48-8.192-33.792-26.624-33.792-47.616V322.56c0-20.992 13.312-39.424 33.792-47.616 6.656-2.56 13.824-4.096 20.992-4.096 14.336 0 28.16 5.12 38.4 15.36l254.464 239.616c10.24 9.728 15.872 23.04 15.872 36.352 0.512 13.824-5.632 26.624-15.872 36.352z"})})};Collapsed_SVG.displayName="SVG";var icon_Collapsed=Collapsed_SVG;try{Collapsed.displayName="Collapsed",Collapsed.__docgenInfo={description:"",displayName:"Collapsed",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},style:{defaultValue:{value:"{}"},description:"",name:"style",required:!1,type:{name:"object"}},fill:{defaultValue:{value:'#7C7B7B"'},description:"",name:"fill",required:!1,type:{name:"string"}},width:{defaultValue:{value:"29"},description:"",name:"width",required:!1,type:{name:"string | number"}},height:{defaultValue:{value:"29"},description:"",name:"height",required:!1,type:{name:"string | number"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},viewBox:{defaultValue:{value:"0 0 1024 1024"},description:"",name:"viewBox",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icon/Collapsed.tsx#Collapsed"]={docgenInfo:Collapsed.__docgenInfo,name:"Collapsed",path:"src/components/icon/Collapsed.tsx#Collapsed"})}catch(__react_docgen_typescript_loader_error){}var More_SVG=function SVG(_ref){var _ref$style=_ref.style,style=void 0===_ref$style?{}:_ref$style,_ref$fill=_ref.fill,fill=void 0===_ref$fill?'#7C7B7B"':_ref$fill,_ref$width=_ref.width,width=void 0===_ref$width?29:_ref$width,_ref$height=_ref.height,height=void 0===_ref$height?29:_ref$height,_ref$className=_ref.className,className=void 0===_ref$className?"":_ref$className,_ref$viewBox=_ref.viewBox,viewBox=void 0===_ref$viewBox?"0 0 1024 1024":_ref$viewBox;return Object(jsx_runtime.jsxs)("svg",{className:"svg-icon "+(className||""),style:style,viewBox:viewBox,version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:width,height:height,children:[Object(jsx_runtime.jsx)("path",{d:"M522.666667 522.666667m-53.333334 0a53.333333 53.333333 0 1 0 106.666667 0 53.333333 53.333333 0 1 0-106.666667 0Z",fill:fill}),Object(jsx_runtime.jsx)("path",{d:"M266.666667 522.666667m-53.333334 0a53.333333 53.333333 0 1 0 106.666667 0 53.333333 53.333333 0 1 0-106.666667 0Z",fill:fill}),Object(jsx_runtime.jsx)("path",{d:"M778.666667 522.666667m-53.333334 0a53.333333 53.333333 0 1 0 106.666667 0 53.333333 53.333333 0 1 0-106.666667 0Z",fill:fill})]})};More_SVG.displayName="SVG";var icon_More=More_SVG;try{More.displayName="More",More.__docgenInfo={description:"",displayName:"More",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},style:{defaultValue:{value:"{}"},description:"",name:"style",required:!1,type:{name:"object"}},fill:{defaultValue:{value:'#7C7B7B"'},description:"",name:"fill",required:!1,type:{name:"string"}},width:{defaultValue:{value:"29"},description:"",name:"width",required:!1,type:{name:"string | number"}},height:{defaultValue:{value:"29"},description:"",name:"height",required:!1,type:{name:"string | number"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},viewBox:{defaultValue:{value:"0 0 1024 1024"},description:"",name:"viewBox",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icon/More.tsx#More"]={docgenInfo:More.__docgenInfo,name:"More",path:"src/components/icon/More.tsx#More"})}catch(__react_docgen_typescript_loader_error){}var Preview_SVG=function SVG(_ref){var _ref$style=_ref.style,style=void 0===_ref$style?{}:_ref$style,_ref$fill=_ref.fill,fill=void 0===_ref$fill?'#7C7B7B"':_ref$fill,_ref$width=_ref.width,width=void 0===_ref$width?29:_ref$width,_ref$height=_ref.height,height=void 0===_ref$height?29:_ref$height,_ref$className=_ref.className,className=void 0===_ref$className?"":_ref$className,_ref$viewBox=_ref.viewBox,viewBox=void 0===_ref$viewBox?"0 0 1024 1024":_ref$viewBox;return Object(jsx_runtime.jsx)("svg",{className:"svg-icon "+(className||""),style:style,viewBox:viewBox,version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:width,height:height,children:Object(jsx_runtime.jsx)("path",{fill:fill,d:"M938.64603 886.273219l-173.071777-173.074847c53.665247-63.987337 86.075401-146.400325 86.075401-236.446154 0-203.406666-164.895561-368.298134-368.301204-368.298134-203.409736 0-368.302227 164.892491-368.302227 368.298134 0 203.409736 164.892491 368.302227 368.302227 368.302227 89.246627 0 171.055864-31.767518 234.798631-84.579327l173.148525 173.148525c1.576915 1.576915 8.15575-2.443655 14.6957-8.979512l23.675212-23.675212C936.205445 894.428969 940.222945 887.850134 938.64603 886.273219zM483.347426 778.093381c-166.425404 0-301.338093-134.912689-301.338093-301.338093s134.912689-301.338093 301.338093-301.338093S784.685519 310.329884 784.685519 476.755288 649.773853 778.093381 483.347426 778.093381z"})})};Preview_SVG.displayName="SVG";var icon_Preview=Preview_SVG;try{Preview.displayName="Preview",Preview.__docgenInfo={description:"",displayName:"Preview",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},style:{defaultValue:{value:"{}"},description:"",name:"style",required:!1,type:{name:"object"}},fill:{defaultValue:{value:'#7C7B7B"'},description:"",name:"fill",required:!1,type:{name:"string"}},width:{defaultValue:{value:"29"},description:"",name:"width",required:!1,type:{name:"string | number"}},height:{defaultValue:{value:"29"},description:"",name:"height",required:!1,type:{name:"string | number"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},viewBox:{defaultValue:{value:"0 0 1024 1024"},description:"",name:"viewBox",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icon/Preview.tsx#Preview"]={docgenInfo:Preview.__docgenInfo,name:"Preview",path:"src/components/icon/Preview.tsx#Preview"})}catch(__react_docgen_typescript_loader_error){}var Plus_SVG=function SVG(_ref){var _ref$style=_ref.style,style=void 0===_ref$style?{}:_ref$style,_ref$fill=_ref.fill,fill=void 0===_ref$fill?'#7C7B7B"':_ref$fill,_ref$width=_ref.width,width=void 0===_ref$width?29:_ref$width,_ref$height=_ref.height,height=void 0===_ref$height?29:_ref$height,_ref$className=_ref.className,className=void 0===_ref$className?"":_ref$className,_ref$viewBox=_ref.viewBox,viewBox=void 0===_ref$viewBox?"0 0 1024 1024":_ref$viewBox;return Object(jsx_runtime.jsx)("svg",{className:"svg-icon "+(className||""),style:style,viewBox:viewBox,version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:width,height:height,children:Object(jsx_runtime.jsx)("path",{fill:fill,d:"M576 64H448v384H64v128h384v384h128V576h384V448H576z"})})};Plus_SVG.displayName="SVG";var icon_Plus=Plus_SVG;try{Plus.displayName="Plus",Plus.__docgenInfo={description:"",displayName:"Plus",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},style:{defaultValue:{value:"{}"},description:"",name:"style",required:!1,type:{name:"object"}},fill:{defaultValue:{value:'#7C7B7B"'},description:"",name:"fill",required:!1,type:{name:"string"}},width:{defaultValue:{value:"29"},description:"",name:"width",required:!1,type:{name:"string | number"}},height:{defaultValue:{value:"29"},description:"",name:"height",required:!1,type:{name:"string | number"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},viewBox:{defaultValue:{value:"0 0 1024 1024"},description:"",name:"viewBox",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icon/Plus.tsx#Plus"]={docgenInfo:Plus.__docgenInfo,name:"Plus",path:"src/components/icon/Plus.tsx#Plus"})}catch(__react_docgen_typescript_loader_error){}var Pack_SVG=function SVG(_ref){var _ref$style=_ref.style,style=void 0===_ref$style?{}:_ref$style,_ref$width=_ref.width,width=void 0===_ref$width?22:_ref$width,_ref$height=_ref.height,height=void 0===_ref$height?18.7:_ref$height,_ref$className=_ref.className,className=void 0===_ref$className?"":_ref$className,_ref$viewBox=_ref.viewBox,viewBox=void 0===_ref$viewBox?"0 0 18 16":_ref$viewBox;return Object(jsx_runtime.jsx)("svg",{className:"svg-icon "+(className||""),style:style,viewBox:viewBox,version:"1.1",preserveAspectRatio:"xMinYMin meet",width:width,height:height,children:Object(jsx_runtime.jsx)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:Object(jsx_runtime.jsxs)("g",{transform:"translate(0.000000, 0.000007)",children:[Object(jsx_runtime.jsx)("path",{d:"M15.8396584,2.58289418 L8.61752011,2.58289418 L6.1696488,0.130509602 C6.08473826,0.0462875302 5.96976481,-0.000681000602 5.85012509,-4.4408921e-15 L2.25037734,-4.4408921e-15 C1.00777667,-4.4408921e-15 0.000477621947,1.007383 0.000477621947,2.24990718 L0.000477621947,13.0493034 C-0.024613059,14.2668134 0.941990125,15.2741125 2.15942362,15.2992032 L2.16034157,15.2992032 L15.8396584,15.2992032 C17.0570919,15.2746479 18.0240776,14.2677314 17.9995224,13.0502979 L17.9995224,13.0493034 L17.9995224,4.83279389 C18.0246131,3.6152839 17.0580099,2.60798486 15.8405764,2.58289418 L15.8396584,2.58289418 Z",fill:"#7264C7"}),Object(jsx_runtime.jsx)("path",{d:"M5.02500122,3.90995406 C5.51319856,3.90995406 5.90898875,4.30566776 5.90898875,4.79386509 C5.90898875,5.13142591 5.71976385,5.42480743 5.44160487,5.57371884 L5.44109019,7.78495406 L12.4856515,7.78458737 C12.6301575,7.49311204 12.9307285,7.29272862 13.2780452,7.29272862 C13.7662426,7.29272862 14.1620328,7.68851881 14.1620328,8.17671615 C14.1620328,8.66491348 13.7662426,9.06070368 13.2780452,9.06070368 C12.9236883,9.06070368 12.6179914,8.85211427 12.4770572,8.5510087 L5.44109019,8.54995406 L5.44149123,10.9547212 C5.44149123,11.2319426 5.66707787,11.4575292 5.94429929,11.4575292 L12.4266114,11.4572917 C12.5306129,11.0848093 12.8724551,10.8115436 13.2780452,10.8115436 C13.7662426,10.8115436 14.1620328,11.2073338 14.1620328,11.6955312 C14.1620328,12.1837285 13.7662426,12.5795187 13.2780452,12.5795187 C12.987737,12.5795187 12.7300882,12.4395183 12.5689396,12.2233421 L5.94429929,12.222489 C5.24527904,12.222489 4.67653144,11.6537414 4.67653144,10.9547212 L4.67588826,5.60621629 C4.36134998,5.47082409 4.14109019,5.15805717 4.14109019,4.79386509 C4.14109019,4.30566776 4.53688038,3.90995406 5.02500122,3.90995406 Z",fill:"#FFFFFF"})]})})})};Pack_SVG.displayName="SVG";var icon_Pack=Pack_SVG;try{Pack.displayName="Pack",Pack.__docgenInfo={description:"",displayName:"Pack",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},style:{defaultValue:{value:"{}"},description:"",name:"style",required:!1,type:{name:"object"}},fill:{defaultValue:null,description:"",name:"fill",required:!1,type:{name:"string"}},width:{defaultValue:{value:"22"},description:"",name:"width",required:!1,type:{name:"string | number"}},height:{defaultValue:{value:"18.7"},description:"",name:"height",required:!1,type:{name:"string | number"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},viewBox:{defaultValue:{value:"0 0 18 16"},description:"",name:"viewBox",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icon/Pack.tsx#Pack"]={docgenInfo:Pack.__docgenInfo,name:"Pack",path:"src/components/icon/Pack.tsx#Pack"})}catch(__react_docgen_typescript_loader_error){}var Fav_SVG=function SVG(_ref){var _ref$style=_ref.style,style=void 0===_ref$style?{}:_ref$style,_ref$width=_ref.width,width=void 0===_ref$width?22:_ref$width,_ref$height=_ref.height,height=void 0===_ref$height?22:_ref$height,_ref$className=_ref.className,className=void 0===_ref$className?"":_ref$className,_ref$viewBox=_ref.viewBox,viewBox=void 0===_ref$viewBox?"0 0 1024 1024":_ref$viewBox;return Object(jsx_runtime.jsx)("svg",{className:"svg-icon "+(className||""),style:style,viewBox:viewBox,version:"1.1",preserveAspectRatio:"xMinYMin meet",width:width,height:height,children:Object(jsx_runtime.jsx)("path",{d:"M565.228999 34.689634l112.062243 237.506364c8.702621 18.317097 25.411973 31.05108 44.816898 33.994614l250.736267 38.073966c48.688285 7.406826 68.213191 70.036902 32.930782 105.95921L824.307945 635.130487c-13.997782 14.237744-20.348775 34.810484-17.053298 54.927296l42.809217 261.086627c8.342678 50.687968-42.633244 89.441827-86.210339 65.50962l-224.276461-123.252469a57.030963 57.030963 0 0 0-55.271241 0l-224.276461 123.260467c-43.577095 23.91621-94.553017-14.82965-86.20234-65.509619l42.809216-261.094626c3.319474-20.116812-3.095509-40.697551-17.085293-54.927296L18.147691 450.223788C-17.126719 414.30148 2.326198 351.671404 51.070474 344.264578l250.704273-38.073966c19.348934-2.943534 36.074284-15.677516 44.752908-33.994614L458.63789 34.689634c21.820542-46.152687 84.826558-46.152687 106.58311 0z",fill:"#FFB11B"})})};Fav_SVG.displayName="SVG";var icon_Fav=Fav_SVG;try{Fav.displayName="Fav",Fav.__docgenInfo={description:"",displayName:"Fav",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},style:{defaultValue:{value:"{}"},description:"",name:"style",required:!1,type:{name:"object"}},fill:{defaultValue:null,description:"",name:"fill",required:!1,type:{name:"string"}},width:{defaultValue:{value:"22"},description:"",name:"width",required:!1,type:{name:"string | number"}},height:{defaultValue:{value:"22"},description:"",name:"height",required:!1,type:{name:"string | number"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},viewBox:{defaultValue:{value:"0 0 1024 1024"},description:"",name:"viewBox",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icon/Fav.tsx#Fav"]={docgenInfo:Fav.__docgenInfo,name:"Fav",path:"src/components/icon/Fav.tsx#Fav"})}catch(__react_docgen_typescript_loader_error){}var LineCollapse_SVG=function SVG(_ref){var _ref$style=_ref.style,style=void 0===_ref$style?{}:_ref$style,_ref$fill=_ref.fill,fill=void 0===_ref$fill?'#7C7B7B"':_ref$fill,_ref$width=_ref.width,width=void 0===_ref$width?20:_ref$width,_ref$height=_ref.height,height=void 0===_ref$height?20:_ref$height,_ref$className=_ref.className,className=void 0===_ref$className?"":_ref$className,_ref$viewBox=_ref.viewBox,viewBox=void 0===_ref$viewBox?"0 0 20 20":_ref$viewBox;return Object(jsx_runtime.jsx)("svg",{className:"svg-icon "+(className||""),style:style,viewBox:viewBox,version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:width,height:height,children:Object(jsx_runtime.jsx)("path",{d:"M7.84 14.955c.206 0 .37-.07.505-.21l4.277-4.179a.787.787 0 00.264-.574.78.78 0 00-.258-.574L8.35 5.24a.695.695 0 00-.51-.21.721.721 0 00-.498 1.247l3.814 3.721-3.814 3.709a.721.721 0 00.498 1.248z",fill:fill,fillRule:"nonzero"})})};LineCollapse_SVG.displayName="SVG";var icon_LineCollapse=LineCollapse_SVG;try{LineCollapse.displayName="LineCollapse",LineCollapse.__docgenInfo={description:"",displayName:"LineCollapse",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},style:{defaultValue:{value:"{}"},description:"",name:"style",required:!1,type:{name:"object"}},fill:{defaultValue:{value:'#7C7B7B"'},description:"",name:"fill",required:!1,type:{name:"string"}},width:{defaultValue:{value:"20"},description:"",name:"width",required:!1,type:{name:"string | number"}},height:{defaultValue:{value:"20"},description:"",name:"height",required:!1,type:{name:"string | number"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},viewBox:{defaultValue:{value:"0 0 20 20"},description:"",name:"viewBox",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icon/LineCollapse.tsx#LineCollapse"]={docgenInfo:LineCollapse.__docgenInfo,name:"LineCollapse",path:"src/components/icon/LineCollapse.tsx#LineCollapse"})}catch(__react_docgen_typescript_loader_error){}var Dot_SVG=function SVG(_ref){var _ref$style=_ref.style,style=void 0===_ref$style?{}:_ref$style,_ref$fill=_ref.fill,fill=void 0===_ref$fill?'#7C7B7B"':_ref$fill,_ref$width=_ref.width,width=void 0===_ref$width?29:_ref$width,_ref$height=_ref.height,height=void 0===_ref$height?29:_ref$height,_ref$className=_ref.className,className=void 0===_ref$className?"":_ref$className,_ref$viewBox=_ref.viewBox,viewBox=void 0===_ref$viewBox?"0 0 1024 1024":_ref$viewBox;return Object(jsx_runtime.jsx)("svg",{className:"svg-icon "+(className||""),style:style,viewBox:viewBox,version:"1.1",preserveAspectRatio:"xMinYMin meet",width:width,height:height,children:Object(jsx_runtime.jsx)("path",{d:"M512 298.666667c117.333333 0 213.333333 96 213.333333 213.333333s-96 213.333333-213.333333 213.333333-213.333333-96-213.333333-213.333333S394.666667 298.666667 512 298.666667z",fill:fill})})};Dot_SVG.displayName="SVG";var icon_Dot=Dot_SVG;try{Dot.displayName="Dot",Dot.__docgenInfo={description:"",displayName:"Dot",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},style:{defaultValue:{value:"{}"},description:"",name:"style",required:!1,type:{name:"object"}},fill:{defaultValue:{value:'#7C7B7B"'},description:"",name:"fill",required:!1,type:{name:"string"}},width:{defaultValue:{value:"29"},description:"",name:"width",required:!1,type:{name:"string | number"}},height:{defaultValue:{value:"29"},description:"",name:"height",required:!1,type:{name:"string | number"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},viewBox:{defaultValue:{value:"0 0 1024 1024"},description:"",name:"viewBox",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icon/Dot.tsx#Dot"]={docgenInfo:Dot.__docgenInfo,name:"Dot",path:"src/components/icon/Dot.tsx#Dot"})}catch(__react_docgen_typescript_loader_error){}var components_icon=function Icon(props){switch(props.name){case"play":return Object(jsx_runtime.jsx)(icon_Play,Object.assign({},props));case"moon":return Object(jsx_runtime.jsx)(icon_Moon,Object.assign({},props));case"sun":return Object(jsx_runtime.jsx)(icon_Sun,Object.assign({},props));case"next":return Object(jsx_runtime.jsx)(icon_Next,Object.assign({},props));case"prev":return Object(jsx_runtime.jsx)(icon_Prev,Object.assign({},props));case"attach":return Object(jsx_runtime.jsx)(icon_Attach,Object.assign({},props));case"collapse":return Object(jsx_runtime.jsx)(icon_Collapse,Object.assign({},props));case"collapsed":return Object(jsx_runtime.jsx)(icon_Collapsed,Object.assign({},props));case"more":return Object(jsx_runtime.jsx)(icon_More,Object.assign({},props));case"preview":return Object(jsx_runtime.jsx)(icon_Preview,Object.assign({},props));case"plus":return Object(jsx_runtime.jsx)(icon_Plus,Object.assign({},props));case"pack":return Object(jsx_runtime.jsx)(icon_Pack,Object.assign({},props));case"fav":return Object(jsx_runtime.jsx)(icon_Fav,Object.assign({},props));case"lineCollapse":return Object(jsx_runtime.jsx)(icon_LineCollapse,Object.assign({},props));case"dot":return Object(jsx_runtime.jsx)(icon_Dot,Object.assign({},props));default:return null}};try{icon.displayName="icon",icon.__docgenInfo={description:"",displayName:"icon",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"object"}},fill:{defaultValue:null,description:"",name:"fill",required:!1,type:{name:"string"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"string | number"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"string | number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},viewBox:{defaultValue:null,description:"",name:"viewBox",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icon/index.tsx#icon"]={docgenInfo:icon.__docgenInfo,name:"icon",path:"src/components/icon/index.tsx#icon"})}catch(__react_docgen_typescript_loader_error){}function MenuItem_slicedToArray(arr,i){return function MenuItem_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function MenuItem_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function MenuItem_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return MenuItem_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MenuItem_arrayLikeToArray(o,minLen)}(arr,i)||function MenuItem_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MenuItem_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var MenuItem_composing=!1,nodeItem_MenuItem=function TreeNode(_ref){var node=_ref.node,indent=_ref.indent,selectedBackgroundColor=_ref.selectedBackgroundColor,dragLineColor=_ref.dragLineColor,color=_ref.color,selectedColor=_ref.selectedColor,hoverColor=_ref.hoverColor,hoverBackgroundColor=_ref.hoverBackgroundColor,cutColor=_ref.cutColor,BLOCK_HEIGHT=_ref.BLOCK_HEIGHT,FONT_SIZE=_ref.FONT_SIZE,selected=_ref.selected,showIcon=_ref.showIcon,disabled=_ref.disabled,showChildNum=_ref.showChildNum,showMoreButton=_ref.showMoreButton,handleClickNode=_ref.handleClickNode,handleDbClickNode=_ref.handleDbClickNode,handleClickExpand=_ref.handleClickExpand,handleClickIcon=_ref.handleClickIcon,clickMore=_ref.clickMore,showInput=_ref.showInput,handleChangeNodeText=_ref.handleChangeNodeText,handleDrag=_ref.handleDrag,handleDrop=_ref.handleDrop,pasteNodeKey=_ref.pasteNodeKey,compId=_ref.compId,collapseMode=_ref.collapseMode,collapseModeCollapsed=_ref.collapseModeCollapsed,draggable=_ref.draggable,storageData=_ref.storageData,startAdornment=_ref.startAdornment,customActionButtons=_ref.customActionButtons,containerRef=Object(react.useRef)(null),_useState2=MenuItem_slicedToArray(Object(react.useState)(!1),2),hover=_useState2[0],sethover=_useState2[1],_useState4=MenuItem_slicedToArray(Object(react.useState)(node.name),2),value=_useState4[0],setValue=_useState4[1],_useState6=MenuItem_slicedToArray(Object(react.useState)(!1),2),dragStarted=_useState6[0],setDragStarted=_useState6[1],_useState8=MenuItem_slicedToArray(Object(react.useState)(!1),2),isDragOver=_useState8[0],setIsDragOver=_useState8[1],_useState10=MenuItem_slicedToArray(Object(react.useState)(!1),2),isDragIn=_useState10[0],setIsDragIn=_useState10[1],iconIsEmoji=Object(react.useMemo)((function(){return isEmoji(node.icon)}),[node.icon]);var collapsed,storagedData,nodeRectClassName=function rectClassName(node){return selected===node._key?"selected":""}(node),nameLinkArr=[];if(urlReg.test(node.name)){var arr1=[],matchList=node.name.match(urlReg);if(matchList){for(var textList,tempText=node.name,index=0;index<matchList.length;index++){var element=matchList[index];tempText=tempText.replace(element,"!@#")}textList=tempText.split("!@#");for(var _index=0;_index<textList.length;_index++){var text=textList[_index];arr1.push(text),matchList[_index]&&arr1.push(matchList[_index])}}var marginLeft=0,count=0;if(arr1&&arr1.length)for(var _index2=0;_index2<arr1.length;_index2++){var name=arr1[_index2];0!==_index2&&(marginLeft+=textWidthAll(FONT_SIZE,arr1[_index2-1]));var type=urlReg.test(name)?"link":"text",shortedName="";if(node.shorted){for(var _index3=0;_index3<name.length&&count<28;_index3++){var _char=name[_index3];_char.match(/[^\x00-\xff]/g)?count++:count+=.5,shortedName+=_char}count>=28&&(shortedName+="...")}if(count>=28){nameLinkArr.push({text:name,shortedName:shortedName,type:type,marginLeft:marginLeft});break}nameLinkArr.push({text:name,type:type,marginLeft:marginLeft})}}if(collapsed=collapseMode?collapseModeCollapsed:node.contract,storageData){for(var temp={},_index4=0;_index4<storageData.length;_index4++){var fieldName=storageData[_index4];temp[fieldName]=node[fieldName]}storagedData=JSON.stringify(temp)}return node.x&&node.y?Object(jsx_runtime.jsxs)("div",{id:"menu-item-"+node._key,className:"menu-item",onClick:function onClick(e){e.stopPropagation(),handleClickNode(node)},onDoubleClick:function onDoubleClick(e){e.stopPropagation(),handleDbClickNode(node)},onMouseEnter:function onMouseEnter(){return sethover(!0)},onMouseLeave:function onMouseLeave(){return sethover(!1)},style:{width:"100%",height:BLOCK_HEIGHT+"px",display:"flex",alignItems:"center",userSelect:"none",cursor:hover?"pointer":"default",paddingLeft:node.x-indent+"px",fontSize:FONT_SIZE+"px",boxSizing:"border-box",backgroundColor:hover?hoverBackgroundColor:"selected"===nodeRectClassName?selectedBackgroundColor:"unset",borderStyle:"solid",borderColor:dragLineColor,borderWidth:isDragOver?isDragIn?"3px":"0 0 2px 0":0},draggable:!!draggable&&!(showInput||disabled||node.disabled),onDragStart:function handleDragStart(e){e.dataTransfer.dropEffect="move",setDragStarted(!0),sessionStorage.setItem("dragNodeId",node._key),sessionStorage.setItem("cross-comp-drag",node._key),sessionStorage.setItem("cross-drag-compId",compId),handleDrag&&handleDrag(node,e)},onDragOver:function handleDragOver(e){node.disabled||e.preventDefault(),isDragOver||setIsDragOver(!0),BLOCK_HEIGHT-e.nativeEvent.offsetY>5?setIsDragIn(!0):setIsDragIn(!1)},onDragLeave:function handleDragLeave(){setIsDragOver(!1)},onDrop:function handleDropNode(event){setIsDragOver(!1),sessionStorage.setItem("dropNodeId",node._key),sessionStorage.setItem("placement",isDragIn?"in":"down"),handleDrop(event),sessionStorage.removeItem("cross-comp-drag"),sessionStorage.removeItem("cross-drag-compId")},onDragEnd:function handleDragEnd(){setDragStarted(!1)},ref:containerRef,"data-detail":storagedData,children:[Object(jsx_runtime.jsx)("div",{style:{width:"20px",marginRight:"4px"},children:node.sortList&&node.sortList.length?Object(jsx_runtime.jsx)("div",{onClick:function handleClick(e){e.stopPropagation(),handleClickExpand(node)},style:{transform:collapsed?"unset":"rotate(90deg)",transition:"transform 0.3s",WebkitTransform:"transform 0.3s",lineHeight:"100%"},children:Object(jsx_runtime.jsx)(components_icon,{name:"lineCollapse",width:20,height:20,fill:pasteNodeKey===node._key?cutColor:"selected"===nodeRectClassName?selectedColor:hover?hoverColor:color})}):Object(jsx_runtime.jsx)("div",{style:{width:20,display:"flex",justifyContent:"center",alignItems:"center"},children:Object(jsx_runtime.jsx)(components_icon,{name:"dot",width:10,height:10,fill:pasteNodeKey===node._key?cutColor:"selected"===nodeRectClassName?selectedColor:hover?hoverColor:color})})}),startAdornment?startAdornment(node,"selected"===nodeRectClassName,hover):null,showIcon&&node.icon?iconIsEmoji?Object(jsx_runtime.jsx)("div",{style:{width:"22px",height:"22px",lineHeight:"22px"},children:node.icon}):Object(jsx_runtime.jsx)("div",{className:"menu-item-icon-"+(node.type||"node"),style:{width:"22px",height:"22px",backgroundImage:'url("'+node.icon+'")',backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat",marginRight:"4px",flexShrink:0},onClick:function onClick(){return handleClickIcon(node)}}):null,showInput?Object(jsx_runtime.jsx)(ClickOutside,{onClickOutside:function handleClickoutside(){selected&&value&&handleChangeNodeText(selected,value)},children:Object(jsx_runtime.jsx)("input",{autoFocus:!0,placeholder:"untitled",value:value,style:{boxSizing:"border-box",border:"1px solid #000000",outline:"none"},onChange:function onChange(e){return setValue(e.target.value)},onKeyDown:function onKeyDown(e){return function handleCommit(event){MenuItem_composing||"Enter"===event.key&&selected&&handleChangeNodeText(selected,value)}(e)},onBlur:function onBlur(){return handleChangeNodeText(selected,value)},onMouseDown:function onMouseDown(e){return e.stopPropagation()},onContextMenu:function onContextMenu(e){return e.stopPropagation()},onCompositionStart:function onCompositionStart(){return MenuItem_composing=!0},onCompositionEnd:function onCompositionEnd(){return MenuItem_composing=!1}})}):nameLinkArr.length?Object(jsx_runtime.jsxs)("span",{style:{fontSize:FONT_SIZE+"px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",display:"flex"},children:[nameLinkArr.map((function(name,index){return Object(jsx_runtime.jsx)("span",{style:{color:pasteNodeKey===node._key?cutColor:"selected"===nodeRectClassName?selectedColor:hover?hoverColor:color,textDecoration:"link"===name.type?"underline":"unset",fontWeight:"selected"===nodeRectClassName?"bold":"normal"},onClick:function onClick(){return function handleClickLink(type,url){"link"===type&&(url.includes("http")?window.open(url,"_blank"):window.open("http://"+url,"_blank"))}(name.type,name.text)},children:name.text||""},index)})),showChildNum?Object(jsx_runtime.jsx)("span",{style:{color:pasteNodeKey===node._key?cutColor:"selected"===nodeRectClassName?selectedColor:hover?hoverColor:color,fontWeight:"selected"===nodeRectClassName?"bold":"normal"},children:" ("+(node.childNum||node.sortList.length)+")"}):null]}):Object(jsx_runtime.jsx)("span",{style:{fontSize:FONT_SIZE+"px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",color:pasteNodeKey===node._key?cutColor:"selected"===nodeRectClassName?selectedColor:hover?hoverColor:color,fontWeight:"selected"===nodeRectClassName?800:"normal"},children:(node.name||"")+(showChildNum?" ("+(node.childNum||node.sortList.length)+")":"")}),Object(jsx_runtime.jsx)("div",{style:{flex:1}}),customActionButtons&&hover?customActionButtons(node,"selected"===nodeRectClassName,hover):null,showMoreButton?Object(jsx_runtime.jsx)("div",{onClick:function handleClickMore(e){clickMore(node,e)},style:{opacity:hover&&!dragStarted?1:0,height:"100%",display:"flex",alignItems:"center"},children:Object(jsx_runtime.jsx)("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:BLOCK_HEIGHT,height:BLOCK_HEIGHT-8,children:Object(jsx_runtime.jsx)("path",{d:"M426.666667 512a85.333333 85.333333 0 1 1 170.709333 0.042667A85.333333 85.333333 0 0 1 426.666667 512z m0 298.666667a85.333333 85.333333 0 1 1 170.709333 0.042666A85.333333 85.333333 0 0 1 426.666667 810.666667z m0-597.333334a85.333333 85.333333 0 1 1 170.709333 0.042667A85.333333 85.333333 0 0 1 426.666667 213.333333z",fill:hoverColor})})}):null]}):null};try{MenuItem.displayName="MenuItem",MenuItem.__docgenInfo={description:"",displayName:"MenuItem",props:{node:{defaultValue:null,description:"",name:"node",required:!0,type:{name:"CNode"}},startId:{defaultValue:null,description:"",name:"startId",required:!0,type:{name:"string"}},indent:{defaultValue:null,description:"",name:"indent",required:!0,type:{name:"number"}},selectedBackgroundColor:{defaultValue:null,description:"",name:"selectedBackgroundColor",required:!0,type:{name:"string"}},dragLineColor:{defaultValue:null,description:"",name:"dragLineColor",required:!0,type:{name:"string"}},selectedColor:{defaultValue:null,description:"",name:"selectedColor",required:!0,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"string"}},hoverColor:{defaultValue:null,description:"",name:"hoverColor",required:!0,type:{name:"string"}},hoverBackgroundColor:{defaultValue:null,description:"",name:"hoverBackgroundColor",required:!0,type:{name:"string"}},cutColor:{defaultValue:null,description:"",name:"cutColor",required:!0,type:{name:"string"}},BLOCK_HEIGHT:{defaultValue:null,description:"",name:"BLOCK_HEIGHT",required:!0,type:{name:"number"}},FONT_SIZE:{defaultValue:null,description:"",name:"FONT_SIZE",required:!0,type:{name:"number"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"string | null"}},showMoreButton:{defaultValue:null,description:"",name:"showMoreButton",required:!0,type:{name:"boolean"}},showIcon:{defaultValue:null,description:"",name:"showIcon",required:!0,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!0,type:{name:"boolean"}},showChildNum:{defaultValue:null,description:"",name:"showChildNum",required:!0,type:{name:"boolean"}},handleClickNode:{defaultValue:null,description:"",name:"handleClickNode",required:!0,type:{name:"Function"}},handleDbClickNode:{defaultValue:null,description:"",name:"handleDbClickNode",required:!0,type:{name:"Function"}},handleClickExpand:{defaultValue:null,description:"",name:"handleClickExpand",required:!0,type:{name:"Function"}},handleClickIcon:{defaultValue:null,description:"",name:"handleClickIcon",required:!0,type:{name:"Function"}},clickMore:{defaultValue:null,description:"",name:"clickMore",required:!0,type:{name:"Function"}},showInput:{defaultValue:null,description:"",name:"showInput",required:!0,type:{name:"boolean"}},handleChangeNodeText:{defaultValue:null,description:"",name:"handleChangeNodeText",required:!0,type:{name:"Function"}},handleDrag:{defaultValue:null,description:"",name:"handleDrag",required:!1,type:{name:"((node: CNode, event: DragEvent<Element>) => void)"}},handleDrop:{defaultValue:null,description:"",name:"handleDrop",required:!0,type:{name:"Function"}},pasteNodeKey:{defaultValue:null,description:"",name:"pasteNodeKey",required:!0,type:{name:"string | null"}},compId:{defaultValue:null,description:"",name:"compId",required:!0,type:{name:"string"}},collapseMode:{defaultValue:null,description:"",name:"collapseMode",required:!1,type:{name:"boolean"}},collapseModeCollapsed:{defaultValue:null,description:"",name:"collapseModeCollapsed",required:!1,type:{name:"boolean"}},draggable:{defaultValue:null,description:"",name:"draggable",required:!0,type:{name:"boolean"}},storageData:{defaultValue:null,description:"",name:"storageData",required:!1,type:{name:"string[]"}},startAdornment:{defaultValue:null,description:"",name:"startAdornment",required:!1,type:{name:"((node: CNode, selected: boolean, hover: boolean) => ReactNode)"}},customActionButtons:{defaultValue:null,description:"",name:"customActionButtons",required:!1,type:{name:"((node: CNode, selected: boolean, hover: boolean) => ReactNode)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/nodeItem/MenuItem.tsx#MenuItem"]={docgenInfo:MenuItem.__docgenInfo,name:"MenuItem",path:"src/components/nodeItem/MenuItem.tsx#MenuItem"})}catch(__react_docgen_typescript_loader_error){}function MenuTree_slicedToArray(arr,i){return function MenuTree_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function MenuTree_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function MenuTree_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return MenuTree_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MenuTree_arrayLikeToArray(o,minLen)}(arr,i)||function MenuTree_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MenuTree_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var MenuTree_isMac=/macintosh|mac os x/i.test(navigator.userAgent),MenuTree_MenuTree=react_default.a.forwardRef((function(_ref,ref){var clickTimeId,nodes=_ref.nodes,startId=_ref.startId,backgroundColor=_ref.backgroundColor,selectedBackgroundColor=_ref.selectedBackgroundColor,dragLineColor=_ref.dragLineColor,color=_ref.color,selectedColor=_ref.selectedColor,hoverColor=_ref.hoverColor,_ref$hoverBackgroundC=_ref.hoverBackgroundColor,hoverBackgroundColor=void 0===_ref$hoverBackgroundC?"#4d4d4d":_ref$hoverBackgroundC,cutColor=_ref.cutColor,defaultSelectedId=_ref.defaultSelectedId,uncontrolled=_ref.uncontrolled,itemHeight=_ref.itemHeight,_ref$topBottomMargin=_ref.topBottomMargin,topBottomMargin=void 0===_ref$topBottomMargin?5:_ref$topBottomMargin,_ref$lineHeight=_ref.lineHeight,lineHeight=void 0===_ref$lineHeight?20:_ref$lineHeight,fontSize=_ref.fontSize,_ref$indent=_ref.indent,indent=void 0===_ref$indent?18:_ref$indent,disableShortcut=_ref.disableShortcut,disabled=_ref.disabled,showMoreButton=_ref.showMoreButton,showIcon=_ref.showIcon,_ref$showChildNum=_ref.showChildNum,showChildNum=void 0!==_ref$showChildNum&&_ref$showChildNum,startAdornment=_ref.startAdornment,customActionButtons=_ref.customActionButtons,handleClickExpand=_ref.handleClickExpand,handleClickNode=_ref.handleClickNode,handleDbClickNode=_ref.handleDbClickNode,handleClickIcon=_ref.handleClickIcon,handleChangeNodeText=_ref.handleChangeNodeText,handleAddNext=_ref.handleAddNext,handleAddChild=_ref.handleAddChild,handleDeleteNode=_ref.handleDeleteNode,handleClickMoreButton=_ref.handleClickMoreButton,handleShiftUpDown=_ref.handleShiftUpDown,handlePaste=_ref.handlePaste,handleDragStart=_ref.handleDragStart,handleDrag=_ref.handleDrag,collapseMode=_ref.collapseMode,_ref$draggable=_ref.draggable,draggable=void 0===_ref$draggable||_ref$draggable,storageData=_ref.storageData,hideRoot=_ref.hideRoot,_ref$paddingLeft=_ref.paddingLeft,paddingLeft=void 0===_ref$paddingLeft?0:_ref$paddingLeft,ITEM_HEIGHT=itemHeight||32,BLOCK_HEIGHT=2*topBottomMargin+lineHeight,FONT_SIZE=fontSize||14,UNCONTROLLED=void 0===uncontrolled||uncontrolled,SHOW_ICON=void 0===showIcon||showIcon,_useState2=MenuTree_slicedToArray(Object(react.useState)(nodes),2),nodeMap=_useState2[0],setNodeMap=_useState2[1],_useState4=MenuTree_slicedToArray(Object(react.useState)([]),2),cnodes=_useState4[0],setcnodes=_useState4[1],_useState6=MenuTree_slicedToArray(Object(react.useState)(null),2),selectedId=_useState6[0],setselectedId=_useState6[1],_useState8=MenuTree_slicedToArray(Object(react.useState)(!1),2),showInput=_useState8[0],setshowInput=_useState8[1],_useState10=MenuTree_slicedToArray(Object(react.useState)(!1),2),showNewInput=_useState10[0],setshowNewInput=_useState10[1],_useState12=MenuTree_slicedToArray(Object(react.useState)(null),2),pasteNodeKey=_useState12[0],setPasteNodeKey=_useState12[1],_useState14=MenuTree_slicedToArray(Object(react.useState)(null),2),pasteType=_useState14[0],setPasteType=_useState14[1],_useState16=MenuTree_slicedToArray(Object(react.useState)(""),2),compId=_useState16[0],setCompId=_useState16[1],containerRef=Object(react.useRef)(null),_useState18=MenuTree_slicedToArray(Object(react.useState)(startId),2),expandedNodeKey=_useState18[0],setExpandedNodeKey=_useState18[1],_useState20=MenuTree_slicedToArray(Object(react.useState)([]),2),ancestorList=_useState20[0],setAncestorList=_useState20[1];function clickNode(node){clearTimeout(clickTimeId),clickTimeId=setTimeout((function(){setselectedId(node._key),handleClickNode&&handleClickNode(node)}),250)}function dbClickNode(node){disabled||node.disabled||(clearTimeout(clickTimeId),setselectedId(node._key),setshowInput(!0),handleDbClickNode&&handleDbClickNode(node))}function handleExpand(node){if(collapseMode)expandedNodeKey===node._key?setExpandedNodeKey(node.father||null):(setExpandedNodeKey(node._key),handleClickExpand&&node.contract&&handleClickExpand(node));else{if(UNCONTROLLED){var _nodes=util_dot(nodeMap,node._key);setNodeMap(_nodes)}handleClickExpand&&handleClickExpand(node)}}function clickIcon(node){handleClickIcon&&handleClickIcon(node)}function changeText(nodeId,text){if(setshowInput(!1),setshowNewInput(!1),UNCONTROLLED){var _nodes2=changeNodeText(nodeMap,nodeId,text);setNodeMap(_nodes2)}handleChangeNodeText&&handleChangeNodeText(nodeId,text),containerRef&&containerRef.current&&containerRef.current.focus()}function addNext(){if(selectedId){if(selectedId===startId)return alert("根节点无法添加兄弟节点！");if(UNCONTROLLED){var res=addNextNode(nodeMap,selectedId);handleAddNext&&handleAddNext(selectedId,res.addedNode),setselectedId(res.addedNode._key),setNodeMap(res.nodes),setshowInput(!0)}else handleAddNext&&handleAddNext(selectedId)}}function addChild(){if(selectedId)if(UNCONTROLLED){var res=addChildNode(nodeMap,selectedId);handleAddChild&&handleAddChild(selectedId,res.addedNode),setExpandedNodeKey(selectedId),setselectedId(res.addedNode._key),setNodeMap(res.nodes),setshowInput(!0)}else handleAddChild&&handleAddChild(selectedId)}function deletenode(){if(selectedId){if(selectedId===startId)return alert("根节点不允许删除！");if(UNCONTROLLED){var res=deleteNode(nodeMap,selectedId);handleDeleteNode&&handleDeleteNode(selectedId),setselectedId(null),setNodeMap(res.nodes)}else handleDeleteNode&&handleDeleteNode(selectedId)}}function saveNodes(){return nodeMap}function handleKeyDown(event){if(!(disabled||disableShortcut||showInput||showNewInput)){event.preventDefault();var commandKey=MenuTree_isMac?event.metaKey:event.ctrlKey;switch(event.key){case"Enter":addNext();break;case"Tab":addChild();break;case"Delete":case"Backspace":deletenode();break;case"ArrowUp":event.shiftKey&&function shiftUp(){if(selectedId){var res=changeSortList(nodeMap,selectedId,"up");res&&(UNCONTROLLED?setNodeMap(res.nodes):handleShiftUpDown&&handleShiftUpDown(selectedId,res.brotherKeys,"up"))}}();break;case"ArrowDown":event.shiftKey&&function shiftDown(){if(selectedId){var res=changeSortList(nodeMap,selectedId,"down");res&&(UNCONTROLLED?setNodeMap(res.nodes):handleShiftUpDown&&handleShiftUpDown(selectedId,res.brotherKeys,"down"))}}();break;case"c":commandKey&&selectedId&&(setPasteNodeKey(selectedId),setPasteType("copy"));break;case"x":if(commandKey&&selectedId){if(selectedId===startId)return setPasteNodeKey(null),void setPasteType(null);setPasteNodeKey(selectedId),setPasteType("cut")}break;case"v":if(commandKey&&pasteType&&pasteNodeKey&&selectedId){if(UNCONTROLLED){var res=pasteNode(nodeMap,pasteNodeKey,pasteType,selectedId);res&&setNodeMap(res)}else handlePaste&&handlePaste(pasteNodeKey,pasteType,selectedId);setPasteNodeKey(null),setPasteType(null)}}}}function handleClickMore(node,event){handleClickMoreButton&&handleClickMoreButton(node,event.currentTarget)}function handleDrop(event){var dragNodeId=sessionStorage.getItem("dragNodeId"),dropNodeId=sessionStorage.getItem("dropNodeId"),placement=sessionStorage.getItem("placement");if(dropNodeId){var dragInfo={dragNodeId:dragNodeId||"",dropNodeId:dropNodeId,placement:placement};if(UNCONTROLLED){var res=dragSort(nodeMap,dragNodeId||"",dropNodeId,dragInfo.placement);res&&setNodeMap(res)}else handleDrag&&handleDrag(dragNodeId||"",dragInfo,event)}}return Object(react.useImperativeHandle)(ref,(function(){return{deleteNode:deletenode,saveNodes:saveNodes,addNext:addNext,addChild:addChild,rename:function rename(){selectedId&&setshowInput(!0)},clearSelect:function clearSelect(){setselectedId(null)}}})),Object(react.useEffect)((function(){setCompId(guid(8,16))}),[]),Object(react.useEffect)((function(){setNodeMap(nodes)}),[nodes]),Object(react.useEffect)((function(){if(console.log("根据nodeMap计算渲染所需数据"),nodeMap[startId]){var cal=calculate(nodeMap,startId,!0,ITEM_HEIGHT,topBottomMargin,lineHeight,indent,FONT_SIZE,3e3,SHOW_ICON,!1,11,1,1,paddingLeft+indent,0,0,collapseMode,expandedNodeKey,void 0,hideRoot);cal&&(cal.nodes.sort((function(a,b){return a.y-b.y})),setcnodes(cal.nodes))}}),[nodeMap,startId,expandedNodeKey]),Object(react.useEffect)((function(){if(collapseMode&&expandedNodeKey&&nodeMap[expandedNodeKey]){var _ancestorList=getAncestor(nodes[expandedNodeKey],nodes,!0);setAncestorList(_ancestorList)}}),[nodeMap,expandedNodeKey]),Object(react.useEffect)((function(){defaultSelectedId&&(setselectedId(defaultSelectedId),nodeMap&&nodeMap[defaultSelectedId]&&setExpandedNodeKey(defaultSelectedId))}),[defaultSelectedId]),Object(jsx_runtime.jsx)("div",{className:"menu-wrapper",style:{position:"relative",outline:"none",width:"100%",backgroundColor:backgroundColor||"#333333"},tabIndex:-1,ref:containerRef,onKeyDown:function onKeyDown(e){return handleKeyDown(e)},children:cnodes.map((function(node,index){return Object(jsx_runtime.jsx)(nodeItem_MenuItem,{startId:startId,indent:indent,node:node,BLOCK_HEIGHT:BLOCK_HEIGHT,FONT_SIZE:FONT_SIZE,selectedBackgroundColor:selectedBackgroundColor||"#00CDD3",dragLineColor:dragLineColor||"#00CDD3",color:color||"#CDD0D2",selectedColor:selectedColor||"#FFF",hoverColor:hoverColor||"#FFF",hoverBackgroundColor:hoverBackgroundColor,selected:selectedId,showIcon:SHOW_ICON,disabled:disabled||!1,showChildNum:showChildNum,cutColor:cutColor||"rgba(255,255,255,0.5)",pasteNodeKey:"cut"===pasteType?pasteNodeKey:null,showMoreButton:!(!showMoreButton||disabled),handleClickNode:clickNode,handleDbClickNode:dbClickNode,clickMore:handleClickMore,handleClickExpand:handleExpand,showInput:(showInput||showNewInput)&&selectedId===node._key,handleChangeNodeText:changeText,handleClickIcon:clickIcon,handleDrag:handleDragStart,handleDrop:handleDrop,compId:compId,collapseMode:collapseMode,collapseModeCollapsed:collapseMode?!expandedNodeKey||!ancestorList.includes(node._key):void 0,draggable:draggable,storageData:storageData,startAdornment:startAdornment,customActionButtons:customActionButtons},index+"_"+node._key)}))})}));try{MenuTree_MenuTree.displayName="MenuTree",MenuTree_MenuTree.__docgenInfo={description:"",displayName:"MenuTree",props:{nodes:{defaultValue:null,description:"",name:"nodes",required:!0,type:{name:"NodeMap"}},startId:{defaultValue:null,description:"",name:"startId",required:!0,type:{name:"string"}},defaultSelectedId:{defaultValue:null,description:"",name:"defaultSelectedId",required:!1,type:{name:"string"}},uncontrolled:{defaultValue:null,description:"",name:"uncontrolled",required:!1,type:{name:"boolean"}},itemHeight:{defaultValue:null,description:"",name:"itemHeight",required:!1,type:{name:"number"}},topBottomMargin:{defaultValue:{value:"5"},description:"",name:"topBottomMargin",required:!1,type:{name:"number"}},lineHeight:{defaultValue:{value:"20"},description:"",name:"lineHeight",required:!1,type:{name:"number"}},fontSize:{defaultValue:null,description:"",name:"fontSize",required:!1,type:{name:"number"}},indent:{defaultValue:{value:"18"},description:"",name:"indent",required:!1,type:{name:"number"}},avatarWidth:{defaultValue:null,description:"",name:"avatarWidth",required:!1,type:{name:"number"}},checkBoxWidth:{defaultValue:null,description:"",name:"checkBoxWidth",required:!1,type:{name:"number"}},disableShortcut:{defaultValue:null,description:"",name:"disableShortcut",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},showIcon:{defaultValue:null,description:"",name:"showIcon",required:!1,type:{name:"boolean"}},backgroundColor:{defaultValue:null,description:"",name:"backgroundColor",required:!1,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}},selectedBackgroundColor:{defaultValue:null,description:"",name:"selectedBackgroundColor",required:!1,type:{name:"string"}},paddingLeft:{defaultValue:{value:"0"},description:"",name:"paddingLeft",required:!1,type:{name:"number"}},handleClickExpand:{defaultValue:null,description:"",name:"handleClickExpand",required:!1,type:{name:"Function"}},handleClickNode:{defaultValue:null,description:"",name:"handleClickNode",required:!1,type:{name:"Function"}},handleDbClickNode:{defaultValue:null,description:"",name:"handleDbClickNode",required:!1,type:{name:"Function"}},handleChangeNodeText:{defaultValue:null,description:"",name:"handleChangeNodeText",required:!1,type:{name:"Function"}},handleAddNext:{defaultValue:null,description:"",name:"handleAddNext",required:!1,type:{name:"Function"}},handleAddChild:{defaultValue:null,description:"",name:"handleAddChild",required:!1,type:{name:"Function"}},handleDeleteNode:{defaultValue:null,description:"",name:"handleDeleteNode",required:!1,type:{name:"Function"}},handleShiftUpDown:{defaultValue:null,description:"",name:"handleShiftUpDown",required:!1,type:{name:"Function"}},handleDrag:{defaultValue:null,description:"",name:"handleDrag",required:!1,type:{name:"((dragId: string, dragInfo: DragInfo, event: DragEvent<Element>) => void)"}},handlePaste:{defaultValue:null,description:"",name:"handlePaste",required:!1,type:{name:"Function"}},dragLineColor:{defaultValue:null,description:"",name:"dragLineColor",required:!1,type:{name:"string"}},selectedColor:{defaultValue:null,description:"",name:"selectedColor",required:!1,type:{name:"string"}},hoverColor:{defaultValue:null,description:"",name:"hoverColor",required:!1,type:{name:"string"}},hoverBackgroundColor:{defaultValue:{value:"#4d4d4d"},description:"",name:"hoverBackgroundColor",required:!1,type:{name:"string"}},cutColor:{defaultValue:null,description:"",name:"cutColor",required:!1,type:{name:"string"}},showMoreButton:{defaultValue:null,description:"",name:"showMoreButton",required:!1,type:{name:"boolean"}},showChildNum:{defaultValue:{value:"false"},description:"",name:"showChildNum",required:!1,type:{name:"boolean"}},startAdornment:{defaultValue:null,description:"",name:"startAdornment",required:!1,type:{name:"((node: CNode, selected: boolean, hover: boolean) => ReactNode)"}},customActionButtons:{defaultValue:null,description:"",name:"customActionButtons",required:!1,type:{name:"((node: CNode, selected: boolean, hover: boolean) => ReactNode)"}},handleClickIcon:{defaultValue:null,description:"",name:"handleClickIcon",required:!1,type:{name:"Function"}},handleClickMoreButton:{defaultValue:null,description:"",name:"handleClickMoreButton",required:!1,type:{name:"NodeClickFunc"}},handleDragStart:{defaultValue:null,description:"",name:"handleDragStart",required:!1,type:{name:"((node: CNode, event: DragEvent<Element>) => void)"}},collapseMode:{defaultValue:null,description:"",name:"collapseMode",required:!1,type:{name:"boolean"}},draggable:{defaultValue:{value:"true"},description:"",name:"draggable",required:!1,type:{name:"boolean"}},storageData:{defaultValue:null,description:"",name:"storageData",required:!1,type:{name:"string[]"}},hideRoot:{defaultValue:null,description:"",name:"hideRoot",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/MenuTree.tsx#MenuTree"]={docgenInfo:MenuTree_MenuTree.__docgenInfo,name:"MenuTree",path:"src/MenuTree.tsx#MenuTree"})}catch(__react_docgen_typescript_loader_error){}function MiniMenu_slicedToArray(arr,i){return function MiniMenu_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function MiniMenu_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function MiniMenu_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return MiniMenu_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MiniMenu_arrayLikeToArray(o,minLen)}(arr,i)||function MiniMenu_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MiniMenu_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var ThemeContext=react_default.a.createContext({}),MiniMenu_MiniMenu=function MiniMenu(_ref){var nodes=_ref.nodes,startId=_ref.startId,dropdownNodeKeyList=_ref.dropdownNodeKeyList,width=_ref.width,backgroundColor=_ref.backgroundColor,selectedBackgroundColor=_ref.selectedBackgroundColor,color=_ref.color,itemHeight=_ref.itemHeight,fontSize=_ref.fontSize,columnSpacing=_ref.columnSpacing,borderRadius=_ref.borderRadius,normalFirstLevel=_ref.normalFirstLevel,handleClickNode=_ref.handleClickNode,handleClickExpand=_ref.handleClickExpand,handleMouseEnter=_ref.handleMouseEnter,handleMouseLeave=_ref.handleMouseLeave,handleCrossCompDrag=_ref.handleCrossCompDrag,tools=_ref.tools,WIDTH=width||48,ITEM_HEIGHT=itemHeight||48,rootNode=nodes[startId],BKCOLOR=backgroundColor||"rgb(51, 51, 51)",SEL_BKCOLOR=selectedBackgroundColor||"rgb(0, 205, 211)",COLOR=color||"rgb(205, 208, 210)",FONT_SIZE=fontSize||14,_useState2=MiniMenu_slicedToArray(Object(react.useState)(""),2),compId=_useState2[0],setCompId=_useState2[1];Object(react.useEffect)((function(){setCompId(guid(8,16))}),[]);var keyList=dropdownNodeKeyList||(rootNode&&rootNode.sortList?rootNode.sortList:[]);return Object(jsx_runtime.jsx)("div",{style:{width:(normalFirstLevel?180:WIDTH)+"px",color:COLOR,fontSize:FONT_SIZE+"px",backgroundColor:BKCOLOR},children:Object(jsx_runtime.jsx)(ThemeContext.Provider,{value:{nodes:nodes,width:WIDTH,height:ITEM_HEIGHT,backgroundColor:BKCOLOR,color:COLOR,handleClickNode:handleClickNode,selectedBackgroundColor:SEL_BKCOLOR,handleClickExpand:handleClickExpand,handleMouseEnter:handleMouseEnter,handleMouseLeave:handleMouseLeave,handleCrossCompDrag:handleCrossCompDrag},children:keyList.map((function(key,index){return nodes[key]?Object(jsx_runtime.jsx)(MiniMenu_MenuItem,{node:nodes[key],firstLevel:!normalFirstLevel,columnSpacing:columnSpacing,borderRadius:borderRadius,compId:compId,tools:tools},index+"_"+key):null}))})})};MiniMenu_MiniMenu.displayName="MiniMenu";var MiniMenu_MenuItem=function MenuItem(_ref2){var node=_ref2.node,firstLevel=_ref2.firstLevel,columnSpacing=_ref2.columnSpacing,borderRadius=_ref2.borderRadius,compId=_ref2.compId,tools=_ref2.tools,configProps=Object(react.useContext)(ThemeContext),_useState4=MiniMenu_slicedToArray(Object(react.useState)(!1),2),hover=_useState4[0],setHover=_useState4[1],nodes=configProps.nodes,width=configProps.width,height=configProps.height,backgroundColor=configProps.backgroundColor,color=configProps.color,iconIsEmoji=Object(react.useMemo)((function(){return isEmoji(node.icon)}),[node.icon]);return Object(jsx_runtime.jsxs)("div",{style:{width:(firstLevel?width:180)+"px",height:height+"px",position:"relative",display:"flex",justifyContent:firstLevel?"center":"flex-start",alignItems:"center",cursor:"pointer",boxSizing:"border-box",padding:"0 15px",backgroundColor:hover?configProps.selectedBackgroundColor:"unset"},onMouseEnter:function handleMouseEnter(){setHover(!0),firstLevel&&configProps.handleMouseEnter&&configProps.handleMouseEnter()},onMouseLeave:function handleMouseLeave(){setHover(!1),firstLevel&&configProps.handleMouseLeave&&configProps.handleMouseLeave()},onClick:function onClick(e){return function handleClick(e){e.stopPropagation(),configProps.handleClickNode&&configProps.handleClickNode(node)}(e)},onMouseUp:function handleMouseUp(){var crossCompDragId=sessionStorage.getItem("cross-comp-drag"),crossDragCompId=sessionStorage.getItem("cross-drag-compId");crossCompDragId&&configProps.handleCrossCompDrag&&crossDragCompId!==compId&&(configProps.handleCrossCompDrag(crossCompDragId,node._key),sessionStorage.removeItem("cross-comp-drag"),sessionStorage.removeItem("cross-comp-drop"),sessionStorage.removeItem("cross-drag-compId"))},children:[node.icon?iconIsEmoji?Object(jsx_runtime.jsx)("div",{style:{marginRight:firstLevel?0:"8px",marginLeft:"-2px",fontSize:"18px"},children:node.icon}):Object(jsx_runtime.jsx)("i",{style:{width:"22px",height:"22px",backgroundImage:'url("'+node.icon+'")',backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat",marginRight:firstLevel?0:"8px",flexShrink:0}}):firstLevel?Object(jsx_runtime.jsx)("div",{children:node.name.substring(0,1)}):null,firstLevel?null:Object(jsx_runtime.jsx)("span",{style:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",color:hover?"#FFF":color},children:node.name||""}),Object(jsx_runtime.jsx)("div",{style:{flex:1}}),!firstLevel&&tools&&hover?tools(node._key):null,!firstLevel&&node&&node.sortList.length?Object(jsx_runtime.jsx)("div",{style:{position:"absolute",right:"3px"},onClick:function onClick(e){return function clickExpand(e){e.stopPropagation(),configProps.handleClickExpand&&configProps.handleClickExpand(node)}(e)},children:Object(jsx_runtime.jsx)("svg",{width:"12px",height:"12px",viewBox:"0 0 12 12",version:"1.1",children:Object(jsx_runtime.jsx)("g",{children:Object(jsx_runtime.jsx)("path",{d:"M 3 0 L 9 6 L 3 12 Z",fill:hover?"#FFF":color})})})}):null,hover?Object(jsx_runtime.jsx)("div",{className:"subMenuWrapper",style:{position:"absolute",top:0,left:(firstLevel?width:180)+"px",paddingLeft:(void 0===columnSpacing?1:columnSpacing)+"px"},children:Object(jsx_runtime.jsx)("div",{style:{backgroundColor:backgroundColor,borderRadius:void 0===borderRadius?"0":borderRadius},children:node&&node.sortList&&node.sortList.map((function(key,index){return nodes[key]?Object(jsx_runtime.jsx)(MenuItem,{node:nodes[key],columnSpacing:columnSpacing,borderRadius:borderRadius,compId:compId,tools:tools},index+"_"+key):null}))})}):null]})};MiniMenu_MenuItem.displayName="MenuItem";try{MiniMenu_MiniMenu.displayName="MiniMenu",MiniMenu_MiniMenu.__docgenInfo={description:"",displayName:"MiniMenu",props:{nodes:{defaultValue:null,description:"",name:"nodes",required:!0,type:{name:"NodeMap"}},startId:{defaultValue:null,description:"",name:"startId",required:!0,type:{name:"string"}},dropdownNodeKeyList:{defaultValue:null,description:"",name:"dropdownNodeKeyList",required:!1,type:{name:"string[]"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},backgroundColor:{defaultValue:null,description:"",name:"backgroundColor",required:!1,type:{name:"string"}},selectedBackgroundColor:{defaultValue:null,description:"",name:"selectedBackgroundColor",required:!1,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}},itemHeight:{defaultValue:null,description:"",name:"itemHeight",required:!1,type:{name:"number"}},fontSize:{defaultValue:null,description:"",name:"fontSize",required:!1,type:{name:"number"}},columnSpacing:{defaultValue:null,description:"",name:"columnSpacing",required:!1,type:{name:"number"}},borderRadius:{defaultValue:null,description:"",name:"borderRadius",required:!1,type:{name:"number"}},normalFirstLevel:{defaultValue:null,description:"",name:"normalFirstLevel",required:!1,type:{name:"boolean"}},handleClickNode:{defaultValue:null,description:"",name:"handleClickNode",required:!1,type:{name:"Function"}},handleClickExpand:{defaultValue:null,description:"",name:"handleClickExpand",required:!1,type:{name:"Function"}},handleMouseEnter:{defaultValue:null,description:"",name:"handleMouseEnter",required:!1,type:{name:"Function"}},handleMouseLeave:{defaultValue:null,description:"",name:"handleMouseLeave",required:!1,type:{name:"Function"}},handleCrossCompDrag:{defaultValue:null,description:"",name:"handleCrossCompDrag",required:!1,type:{name:"Function"}},tools:{defaultValue:null,description:"",name:"tools",required:!1,type:{name:"((nodeKey: string) => ReactNode)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/MiniMenu.tsx#MiniMenu"]={docgenInfo:MiniMenu_MiniMenu.__docgenInfo,name:"MiniMenu",path:"src/MiniMenu.tsx#MiniMenu"})}catch(__react_docgen_typescript_loader_error){}function CatalogItem_slicedToArray(arr,i){return function CatalogItem_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function CatalogItem_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function CatalogItem_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return CatalogItem_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CatalogItem_arrayLikeToArray(o,minLen)}(arr,i)||function CatalogItem_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CatalogItem_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var CatalogItem_CatalogItem=function CatalogItem(_ref){var node=_ref.node,indent=_ref.indent,color=_ref.color,hoverColor=_ref.hoverColor,BLOCK_HEIGHT=_ref.BLOCK_HEIGHT,FONT_SIZE=_ref.FONT_SIZE,fontWeight=_ref.fontWeight,handleClickNode=_ref.handleClickNode,handleClickExpand=_ref.handleClickExpand,info=_ref.info,_useState2=CatalogItem_slicedToArray(Object(react.useState)(!1),2),hover=_useState2[0],sethover=_useState2[1];return node.x&&node.y?Object(jsx_runtime.jsxs)("div",{onClick:function onClick(){return handleClickNode(node)},onMouseEnter:function onMouseEnter(){return sethover(!0)},onMouseLeave:function onMouseLeave(){return sethover(!1)},style:{width:"100%",height:BLOCK_HEIGHT+"px",display:"flex",alignItems:"center",color:hover?hoverColor:color,userSelect:"none",cursor:hover?"pointer":"default",paddingLeft:node.x-indent+"px",fontSize:FONT_SIZE+"px",boxSizing:"border-box"},children:[Object(jsx_runtime.jsx)("div",{style:{width:"12px",marginRight:"8px"},children:node.sortList&&node.sortList.length?Object(jsx_runtime.jsx)("div",{onClick:function handleClick(e){e.stopPropagation(),handleClickExpand()},children:Object(jsx_runtime.jsx)("svg",{width:12,height:12,viewBox:"0,0,12,12",children:node.contract?Object(jsx_runtime.jsx)("path",{d:"M 3 0 L 9 6 L 3 12 Z",fill:hover?hoverColor:color}):Object(jsx_runtime.jsx)("path",{d:"M 0 3 H 12 L 6 9 Z",fill:hover?hoverColor:color})})}):null}),Object(jsx_runtime.jsx)("span",{style:{fontWeight:fontWeight||"normal",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:node&&node.name||""}),Object(jsx_runtime.jsx)("div",{style:{position:"relative",flex:1,margin:"0 15px",minWidth:"50%"},children:Object(jsx_runtime.jsx)("div",{style:{width:"100%",borderBottom:"1px dashed #e8e8e8",position:"absolute",top:"50%",right:0}})}),info?Object(jsx_runtime.jsx)("div",{style:{flexShrink:0},children:info}):null]}):null},catalog_CatalogItem=CatalogItem_CatalogItem;try{CatalogItem_CatalogItem.displayName="CatalogItem",CatalogItem_CatalogItem.__docgenInfo={description:"",displayName:"CatalogItem",props:{node:{defaultValue:null,description:"",name:"node",required:!0,type:{name:"CNode"}},indent:{defaultValue:null,description:"",name:"indent",required:!0,type:{name:"number"}},color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"string"}},hoverColor:{defaultValue:null,description:"",name:"hoverColor",required:!0,type:{name:"string"}},BLOCK_HEIGHT:{defaultValue:null,description:"",name:"BLOCK_HEIGHT",required:!0,type:{name:"number"}},FONT_SIZE:{defaultValue:null,description:"",name:"FONT_SIZE",required:!0,type:{name:"number"}},fontWeight:{defaultValue:null,description:"",name:"fontWeight",required:!1,type:{name:'"-moz-initial" | "inherit" | "initial" | "revert" | "unset" | "normal" | "bold" | (number & {}) | "bolder" | "lighter"'}},handleClickNode:{defaultValue:null,description:"",name:"handleClickNode",required:!0,type:{name:"Function"}},handleClickExpand:{defaultValue:null,description:"",name:"handleClickExpand",required:!0,type:{name:"Function"}},info:{defaultValue:null,description:"",name:"info",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/catalog/CatalogItem.tsx#CatalogItem"]={docgenInfo:CatalogItem_CatalogItem.__docgenInfo,name:"CatalogItem",path:"src/components/catalog/CatalogItem.tsx#CatalogItem"})}catch(__react_docgen_typescript_loader_error){}function Catalog_slicedToArray(arr,i){return function Catalog_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function Catalog_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function Catalog_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return Catalog_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Catalog_arrayLikeToArray(o,minLen)}(arr,i)||function Catalog_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Catalog_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var Catalog_Catalog=function Catalog(_ref){var nodes=_ref.nodes,startId=_ref.startId,backgroundColor=_ref.backgroundColor,color=_ref.color,hoverColor=_ref.hoverColor,itemHeight=_ref.itemHeight,_ref$topBottomMargin=_ref.topBottomMargin,topBottomMargin=void 0===_ref$topBottomMargin?5:_ref$topBottomMargin,_ref$lineHeight=_ref.lineHeight,lineHeight=void 0===_ref$lineHeight?20:_ref$lineHeight,titleFontSize=_ref.titleFontSize,fontSize=_ref.fontSize,indent=_ref.indent,handleClickNode=_ref.handleClickNode,info=_ref.info,itemInfoMap=_ref.itemInfoMap,hideTitle=_ref.hideTitle,ITEM_HEIGHT=itemHeight||32,BLOCK_HEIGHT=2*topBottomMargin+lineHeight,FONT_SIZE=fontSize||14,INDENT=indent||18,_useState2=Catalog_slicedToArray(Object(react.useState)(nodes),2),nodeMap=_useState2[0],setNodeMap=_useState2[1],_useState4=Catalog_slicedToArray(Object(react.useState)([]),2),cnodes=_useState4[0],setcnodes=_useState4[1];function clickNode(node){handleClickNode&&handleClickNode(node)}return Object(react.useEffect)((function(){setNodeMap(nodes)}),[nodes]),Object(react.useEffect)((function(){if(console.log("根据nodeMap计算渲染所需数据"),nodeMap[startId]){var cal=calculate(nodeMap,startId,!0,ITEM_HEIGHT,topBottomMargin,lineHeight,INDENT,FONT_SIZE,3e3,!1,!1,11,1,1,0,0);cal&&(cal.nodes.sort((function(a,b){return a.y-b.y})),setcnodes(cal.nodes))}}),[nodeMap,startId]),Object(jsx_runtime.jsxs)("div",{className:"catalog-wrapper",style:{position:"relative",width:"100%",backgroundColor:backgroundColor||"unset"},children:[hideTitle?null:Object(jsx_runtime.jsx)("div",{style:{fontSize:(titleFontSize||24)+"px",width:"100%",textAlign:"center",margin:"25px 0"},children:nodeMap[startId].name}),info?Object(jsx_runtime.jsx)("div",{style:{width:"100%"},children:info}):null,cnodes.map((function(node,index){return node._key!==startId?Object(jsx_runtime.jsx)(catalog_CatalogItem,{node:node,indent:INDENT,BLOCK_HEIGHT:BLOCK_HEIGHT,FONT_SIZE:FONT_SIZE,fontWeight:node.father===startId?"bolder":void 0,color:color||"#595959",hoverColor:hoverColor||"#8c8c8c",handleClickNode:clickNode,handleClickExpand:function handleClickExpand(){return function handleExpand(node){var nodes=util_dot(nodeMap,node._key);setNodeMap(nodes)}(node)},info:itemInfoMap?itemInfoMap[node._key]:void 0},index+"_"+node._key):null}))]})};Catalog_Catalog.displayName="Catalog";try{Catalog_Catalog.displayName="Catalog",Catalog_Catalog.__docgenInfo={description:"",displayName:"Catalog",props:{nodes:{defaultValue:null,description:"",name:"nodes",required:!0,type:{name:"NodeMap"}},startId:{defaultValue:null,description:"",name:"startId",required:!0,type:{name:"string"}},backgroundColor:{defaultValue:null,description:"",name:"backgroundColor",required:!1,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}},hoverColor:{defaultValue:null,description:"",name:"hoverColor",required:!1,type:{name:"string"}},itemHeight:{defaultValue:null,description:"",name:"itemHeight",required:!1,type:{name:"number"}},topBottomMargin:{defaultValue:{value:"5"},description:"",name:"topBottomMargin",required:!1,type:{name:"number"}},lineHeight:{defaultValue:{value:"20"},description:"",name:"lineHeight",required:!1,type:{name:"number"}},titleFontSize:{defaultValue:null,description:"",name:"titleFontSize",required:!1,type:{name:"number"}},fontSize:{defaultValue:null,description:"",name:"fontSize",required:!1,type:{name:"number"}},indent:{defaultValue:null,description:"",name:"indent",required:!1,type:{name:"number"}},avatarWidth:{defaultValue:null,description:"",name:"avatarWidth",required:!1,type:{name:"number"}},handleClickNode:{defaultValue:null,description:"",name:"handleClickNode",required:!1,type:{name:"Function"}},info:{defaultValue:null,description:"",name:"info",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},itemInfoMap:{defaultValue:null,description:"",name:"itemInfoMap",required:!1,type:{name:"ItemInfoMap"}},hideTitle:{defaultValue:null,description:"",name:"hideTitle",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Catalog.tsx#Catalog"]={docgenInfo:Catalog_Catalog.__docgenInfo,name:"Catalog",path:"src/Catalog.tsx#Catalog"})}catch(__react_docgen_typescript_loader_error){}function Mind_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function Mind_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){Mind_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){Mind_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function Mind_slicedToArray(arr,i){return function Mind_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function Mind_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function Mind_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return Mind_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mind_arrayLikeToArray(o,minLen)}(arr,i)||function Mind_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mind_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var Mind_isMac=/macintosh|mac os x/i.test(navigator.userAgent),Mind_spaceKeyDown=!1,Mind_lastTime=0,Mind_changed=!1,Mind_Mind=react_default.a.forwardRef((function(_ref,ref){var clickTimeId,nodes=_ref.nodes,startId=_ref.startId,defaultSelectedId=_ref.defaultSelectedId,uncontrolled=_ref.uncontrolled,singleColumn=_ref.singleColumn,_ref$rowGap=_ref.rowGap,rowGap=void 0===_ref$rowGap?12:_ref$rowGap,_ref$topBottomMargin=_ref.topBottomMargin,topBottomMargin=void 0===_ref$topBottomMargin?5:_ref$topBottomMargin,_ref$lineHeight=_ref.lineHeight,lineHeight=void 0===_ref$lineHeight?20:_ref$lineHeight,_ref$textMaxWidth=_ref.textMaxWidth,textMaxWidth=void 0===_ref$textMaxWidth?300:_ref$textMaxWidth,fontSize=_ref.fontSize,indent=_ref.indent,pathWidth=_ref.pathWidth,pathColor=_ref.pathColor,_ref$nodeColor=_ref.nodeColor,nodeColor=void 0===_ref$nodeColor?"#f0f0f0":_ref$nodeColor,_ref$avatarRadius=_ref.avatarRadius,avatarRadius=void 0===_ref$avatarRadius?11:_ref$avatarRadius,disableShortcut=_ref.disableShortcut,disabled=_ref.disabled,showIcon=_ref.showIcon,showAvatar=_ref.showAvatar,hideHour=_ref.hideHour,root_zoom_ratio=_ref.root_zoom_ratio,second_zoom_ratio=_ref.second_zoom_ratio,backgroundColor=_ref.backgroundColor,color=_ref.color,hoverBorderColor=_ref.hoverBorderColor,selectedBorderColor=_ref.selectedBorderColor,selectedBackgroundColor=_ref.selectedBackgroundColor,quickCommandKey=_ref.quickCommandKey,_ref$paddingLeft=_ref.paddingLeft,paddingLeft=void 0===_ref$paddingLeft?50:_ref$paddingLeft,_ref$paddingTop=_ref.paddingTop,paddingTop=void 0===_ref$paddingTop?50:_ref$paddingTop,rainbowColor=_ref.rainbowColor,_ref$startNodeBg=_ref.startNodeBg,startNodeBg=void 0===_ref$startNodeBg?"#CB1B45":_ref$startNodeBg,customAdornment=_ref.customAdornment,handleClickExpand=_ref.handleClickExpand,handleCheck=_ref.handleCheck,handleClickAvatar=_ref.handleClickAvatar,handleClickStatus=_ref.handleClickStatus,handleClickNode=_ref.handleClickNode,handleDbClickNode=_ref.handleDbClickNode,handleChangeNodeText=_ref.handleChangeNodeText,handleAddNext=_ref.handleAddNext,handleAddChild=_ref.handleAddChild,handleDeleteNode=_ref.handleDeleteNode,handleClickPreviewButton=_ref.handleClickPreviewButton,handleClickDot=_ref.handleClickDot,handleShiftUpDown=_ref.handleShiftUpDown,handleDrag=_ref.handleDrag,handlePaste=_ref.handlePaste,dragEndFromOutside=_ref.dragEndFromOutside,handleMouseEnterAvatar=_ref.handleMouseEnterAvatar,handleMouseLeaveAvatar=_ref.handleMouseLeaveAvatar,handleCrossCompDrag=_ref.handleCrossCompDrag,handleChange=_ref.handleChange,showDeleteConform=_ref.showDeleteConform,handleMutiSelect=_ref.handleMutiSelect,handleFileChange=_ref.handleFileChange,handleQuickCommandOpen=_ref.handleQuickCommandOpen,handlePasteText=_ref.handlePasteText,handleContextMenu=_ref.handleContextMenu,handleClickNodeImage=_ref.handleClickNodeImage,handleResizeNodeImage=_ref.handleResizeNodeImage,rootZoomRatio=root_zoom_ratio||1.8,secondZoomRatio=second_zoom_ratio||1.4,FONT_SIZE=fontSize||14,INDENT=indent||35,PATH_WIDTH=pathWidth||2,PATH_COLOR=pathColor||"#535953",UNCONTROLLED=void 0===uncontrolled||uncontrolled,SHOW_ICON=void 0===showIcon||showIcon,SHOW_AVATAR=void 0!==showAvatar&&showAvatar,BACKGROUND_COLOR=backgroundColor||"unset",COLOR=color||"#595959",HOVER_BORDER_COLOR=hoverBorderColor||"#bed2fc",SELECTED_BORDER_COLOR=selectedBorderColor||"#35a6f8",SELECTED_BACKGROUND_COLOR=selectedBackgroundColor||"#e8e8e8",_useState2=Mind_slicedToArray(Object(react.useState)(nodes),2),nodeMap=_useState2[0],setNodeMap=_useState2[1],_useState4=Mind_slicedToArray(Object(react.useState)([]),2),cnodes=_useState4[0],setcnodes=_useState4[1],_useState6=Mind_slicedToArray(Object(react.useState)(0),2),maxY=_useState6[0],setmaxY=_useState6[1],_useState8=Mind_slicedToArray(Object(react.useState)(0),2),maxEnd=_useState8[0],setmaxEnd=_useState8[1],_useState10=Mind_slicedToArray(Object(react.useState)(null),2),selectedId=_useState10[0],_setselectedId=_useState10[1],_useState12=Mind_slicedToArray(Object(react.useState)([]),2),selectedNodes=_useState12[0],_setSelectedNodes=_useState12[1],_useState14=Mind_slicedToArray(Object(react.useState)(!1),2),showInput=_useState14[0],setshowInput=_useState14[1],_useState16=Mind_slicedToArray(Object(react.useState)(!1),2),showNewInput=_useState16[0],setshowNewInput=_useState16[1],_useState18=Mind_slicedToArray(Object(react.useState)(!1),2),inputEmpty=_useState18[0],setInputEmpty=_useState18[1],_useState20=Mind_slicedToArray(Object(react.useState)(!1),2),dragStarted=_useState20[0],setDragStarted=_useState20[1],_useState22=Mind_slicedToArray(Object(react.useState)(!1),2),frameSelectionStarted=_useState22[0],setFrameSelectionStarted=_useState22[1],_useState24=Mind_slicedToArray(Object(react.useState)(0),2),selectionX=_useState24[0],setselectionX=_useState24[1],_useState26=Mind_slicedToArray(Object(react.useState)(0),2),selectionY=_useState26[0],setselectionY=_useState26[1],_useState28=Mind_slicedToArray(Object(react.useState)(0),2),selectionWidth=_useState28[0],setselectionWidth=_useState28[1],_useState30=Mind_slicedToArray(Object(react.useState)(0),2),selectionHeight=_useState30[0],setselectionHeight=_useState30[1],_useState32=Mind_slicedToArray(Object(react.useState)(!1),2),showDragNode=_useState32[0],setShowDragNode=_useState32[1],_useState34=Mind_slicedToArray(Object(react.useState)(0),2),clickX=_useState34[0],setClickX=_useState34[1],_useState36=Mind_slicedToArray(Object(react.useState)(0),2),clickY=_useState36[0],setClickY=_useState36[1],_useState38=Mind_slicedToArray(Object(react.useState)(0),2),movedNodeX=_useState38[0],setMovedNodeX=_useState38[1],_useState40=Mind_slicedToArray(Object(react.useState)(0),2),movedNodeY=_useState40[0],setMovedNodeY=_useState40[1],_useState42=Mind_slicedToArray(Object(react.useState)(null),2),dragInfo=_useState42[0],setDragInfo=_useState42[1],_useState44=Mind_slicedToArray(Object(react.useState)(""),2),compId=_useState44[0],setCompId=_useState44[1],containerRef=Object(react.useRef)(null),block_height=2*topBottomMargin+lineHeight,_useState46=Mind_slicedToArray(Object(react.useState)(""),2),startExport=_useState46[0],setStartExport=_useState46[1];Object(react.useImperativeHandle)(ref,(function(){return{deleteNode:deletenode,saveNodes:saveNodes,addNext:addNext,addChild:addChild,updateNodeById:updateNodeById,updateNodesByIds:updateNodesByIds,rename:function rename(){selectedId&&setshowInput(!0)},renameById:function renameById(id,text){changeText(id,text)},getSelectedId:function getSelectedId(){return selectedId},getSelectedIds:function getSelectedIds(){for(var ids=[],index=0;index<selectedNodes.length;index++){var _node=selectedNodes[index];ids.push(_node._key)}return ids},setselectedId:function setselectedId(id){return _setselectedId(id)},setSelectedNodes:function setSelectedNodes(nodes){return _setSelectedNodes(nodes)},exportImage:function exportImage(type){window.postMessage({name:"export-status",message:"start"},"/"),setStartExport(type)}}}));var downloadImage=Object(react.useCallback)(Mind_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var name,svg,imageHrefRegex,imageMatches,hrefRegex,index,match,matches,href,base64;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!startExport){_context.next=29;break}if(name=nodeMap[startId].name,svg=document.getElementsByClassName("tree-svg")[0].outerHTML,imageHrefRegex=/<image\s[^>]*href="([^"]*)"/g,!(imageMatches=svg.match(imageHrefRegex))){_context.next=20;break}hrefRegex=/href="([^"]+)"/,index=0;case 8:if(!(index<imageMatches.length)){_context.next=20;break}if(match=imageMatches[index].toString(),!(matches=match.match(hrefRegex))){_context.next=17;break}return href=matches[1],_context.next=15,getImgData(href);case 15:(base64=_context.sent)&&(svg=svg.replace(href,base64));case 17:index++,_context.next=8;break;case 20:if("svg"===startExport&&download(createObjectUrl([svg],"image/svg"),name+".svg"),"png"!==startExport){_context.next=24;break}return _context.next=24,downloadSvgAsPng(svg,maxEnd+100,maxY,name);case 24:if("pdf"!==startExport){_context.next=27;break}return _context.next=27,downloadSvgAsPdf(svg,maxEnd+100,maxY,name);case 27:setStartExport(""),window.postMessage({name:"export-status",message:"end"},"/");case 29:case"end":return _context.stop()}}),_callee)}))),[cnodes]);function handleSelectedNodeChanged(node){_setselectedId(node._key),_setSelectedNodes([]),handleClickNode&&handleClickNode(node)}function clickNode(node){clearTimeout(clickTimeId),clickTimeId=setTimeout((function(){_setselectedId(node._key),_setSelectedNodes([]),handleClickNode&&handleClickNode(node)}),250)}function dbClickNode(node){clearTimeout(clickTimeId),disabled||node.disabled||(_setselectedId(node._key),_setSelectedNodes([]),setshowInput(!0),handleDbClickNode&&handleDbClickNode(node))}function handleExpand(node){if(UNCONTROLLED){var _nodes=util_dot(nodeMap,node._key);if(node.contract)delete _nodes[node._key].childNum;else{var count=countNodeDescendants(nodeMap,node._key);_nodes[node._key].childNum=count}setNodeMap(_nodes),handleChange&&(Mind_changed=!0)}handleClickExpand&&handleClickExpand(node)}function check(node,e){if(!disabled){if(e.stopPropagation(),UNCONTROLLED){var _nodes2=checkNode(nodeMap,node._key);setNodeMap(_nodes2),handleChange&&(Mind_changed=!0)}handleCheck&&handleCheck(node)}}function clickAvatar(node,event){handleClickAvatar&&(event.stopPropagation(),handleClickAvatar(node,event.currentTarget))}function clickStatus(node,event){handleClickStatus&&(event.stopPropagation(),handleClickStatus(node,event.currentTarget,event))}function changeText(nodeId,text){if(setshowInput(!1),setshowNewInput(!1),setInputEmpty(!1),UNCONTROLLED){var _nodes3=changeNodeText(nodeMap,nodeId,text);setNodeMap(_nodes3),handleChange&&(Mind_changed=!0)}handleChangeNodeText&&handleChangeNodeText(nodeId,text),containerRef&&containerRef.current&&containerRef.current.focus()}function updateNodeById(nodeMap,id,data){setshowInput(!1),setshowNewInput(!1),setInputEmpty(!1);var nodes=updateNodeByKey(nodeMap,id,data);setNodeMap(nodes),containerRef&&containerRef.current&&containerRef.current.focus(),handleChange&&(Mind_changed=!0)}function updateNodesByIds(nodeMap,ids,data){setshowInput(!1),setshowNewInput(!1),setInputEmpty(!1);for(var nodes=lodash_default.a.cloneDeep(nodeMap),index=0;index<ids.length;index++){nodes=updateNodeByKey(nodes,ids[index],data)}setNodeMap(nodes),containerRef&&containerRef.current&&containerRef.current.focus(),handleChange&&(Mind_changed=!0)}function addNext(nodeKey){var targetKey=nodeKey||selectedId;if(targetKey){if(targetKey===startId)return alert("根节点无法添加兄弟节点！");if(UNCONTROLLED){var res=addNextNode(nodeMap,targetKey);handleAddNext&&handleAddNext(targetKey,res.addedNode),_setselectedId(res.addedNode._key),_setSelectedNodes([]),setNodeMap(res.nodes),setshowInput(!0),handleChange&&(Mind_changed=!0)}else handleAddNext&&handleAddNext(targetKey)}}function addChild(nodeKey){var targetKey=nodeKey||selectedId;if(targetKey)if(UNCONTROLLED){var res=addChildNode(nodeMap,targetKey);handleAddChild&&handleAddChild(targetKey,res.addedNode),_setselectedId(res.addedNode._key),_setSelectedNodes([]),setNodeMap(res.nodes),setshowInput(!0),handleChange&&(Mind_changed=!0)}else handleAddChild&&handleAddChild(targetKey)}function shiftUp(){if(selectedId){var res=changeSortList(nodeMap,selectedId,"up");res&&(UNCONTROLLED?(setNodeMap(res.nodes),handleChange&&(Mind_changed=!0)):handleShiftUpDown&&handleShiftUpDown(selectedId,res.brotherKeys,"up"))}}function shiftDown(){if(selectedId){var res=changeSortList(nodeMap,selectedId,"down");res&&(UNCONTROLLED?(setNodeMap(res.nodes),handleChange&&(Mind_changed=!0)):handleShiftUpDown&&handleShiftUpDown(selectedId,res.brotherKeys,"down"))}}function deletenode(nodeKey){var targetKey=nodeKey||selectedId;if(targetKey||selectedNodes.length)if(UNCONTROLLED){if(!selectedNodes.length&&targetKey){var _node2=nodeMap[targetKey];if(_node2.disabled)return;if(targetKey===startId)return alert("根节点不允许删除！");var nextSelectId=getNextSelect(_node2,nodeMap);_setselectedId(nextSelectId||null);var res=deleteNode(nodeMap,targetKey);_setSelectedNodes([]),setNodeMap(res.nodes),handleChange&&(Mind_changed=!0)}else{for(var _nodes4=nodeMap,index=0;index<selectedNodes.length;index++){var element=selectedNodes[index];if(element._key!==startId)_nodes4=deleteNode(_nodes4,element._key).nodes}_setSelectedNodes([]),setNodeMap(_nodes4),handleChange&&(Mind_changed=!0)}handleDeleteNode&&handleDeleteNode(targetKey,selectedNodes)}else handleDeleteNode&&handleDeleteNode(targetKey,selectedNodes)}function saveNodes(){return{rootKey:startId,data:lodash_default.a.cloneDeep(nodeMap)}}Object(react.useEffect)((function(){downloadImage()}),[cnodes]),Object(react.useEffect)((function(){setCompId(guid(8,16))}),[]),Object(react.useEffect)((function(){Mind_changed&&handleChange&&(Mind_changed=!1,handleChange())}),[nodeMap]),Object(react.useEffect)((function(){return document.addEventListener("paste",onPaste),function(){document.removeEventListener("paste",onPaste)}}),[showInput,showNewInput,selectedId]),Object(react.useEffect)((function(){setNodeMap(nodes)}),[nodes]),Object(react.useEffect)((function(){if(console.log("根据nodeMap计算渲染所需数据"),nodeMap[startId]){var cal=function mindService_calculate(nodes,startId,single,rowGap,topBottomMargin,lineHeight,INDENT,FONT_SIZE,textMaxWidth,showIcon,showAvatar,avatarRadius,rootZoomRatio,secondZoomRatio,startX,startY,inputNodeKey,rainbowColor){var _root$texts,BLOCK_HEIGHT=2*topBottomMargin+lineHeight,root=(nodes=lodash_default.a.cloneDeep(nodes))[startId],rootWidth=getNodeWidth(root,FONT_SIZE*rootZoomRatio,showIcon,showAvatar,avatarRadius,!1,textMaxWidth,inputNodeKey);root.width=rootWidth;var rootHeight=topBottomMargin*rootZoomRatio*2+((null===(_root$texts=root.texts)||void 0===_root$texts?void 0:_root$texts.length)||1)*lineHeight*rootZoomRatio;root.imageUrl&&root.imageHeight&&(rootHeight+=root.imageHeight+7.5),root.height=rootHeight;var MAX_X=rootWidth,MAX_Y=startY+2*BLOCK_HEIGHT,MAX_END=1.5*rootWidth,MIN_X=startX,MIN_END=startY,start_x=startX,start_y=startY,nodeList=[],rainbowIndex=0;if(single)location(nodes,root,start_x,start_y,void 0,"#CB1B45");else{if(root.contract)root.x=startX,root.y=startY,delete root.rightDots,delete root.leftDots;else{for(var _getStarts=function getStarts(nodes,root){for(var rightStarts=[],leftStarts=[],childrenIds=root.sortList||[],_index7=0;_index7<childrenIds.length;_index7++){var _element2=nodes[childrenIds[_index7]];_index7%2==0?rightStarts.push(_element2):leftStarts.push(_element2)}return{rightStarts:rightStarts,leftStarts:leftStarts}}(nodes,root),rightStarts=_getStarts.rightStarts,leftStarts=_getStarts.leftStarts,x1=rootWidth+4*INDENT,y1=start_x,x2=4*-INDENT,y2=start_y,index=0;index<rightStarts.length;index++){var node=rightStarts[index];if(!node)break;y1=location(nodes,node,x1,y1,void 0),index+1!==rightStarts.length&&(y1+=rowGap*secondZoomRatio)>MAX_Y&&(MAX_Y=y1)}for(var _index=0;_index<leftStarts.length;_index++){var _node=leftStarts[_index];if(!_node)break;y2=location(nodes,_node,x2,y2,!0),_index+1!==leftStarts.length&&(y2+=rowGap*secondZoomRatio)>MAX_Y&&(MAX_Y=y2)}for(var diff=Math.abs(MIN_END)+startX,nodeKeys=Object.keys(nodes),_index2=0;_index2<nodeKeys.length;_index2++){var _node2=nodes[nodeKeys[_index2]];_node2.x=_node2.x?_node2.x+diff:0}MAX_X+=Math.abs(MIN_X),MAX_END=MAX_END+Math.abs(MIN_END)+startX;var rightCenterY=0;1===rightStarts.length?rightCenterY=rightStarts[0].y:rightStarts.length>1&&(rightCenterY=(rightStarts[0].y+rightStarts[rightStarts.length-1].y)/2);var leftCenterY=0;if(1===leftStarts.length?leftCenterY=leftStarts[0].y:leftStarts.length>1&&(leftCenterY=(leftStarts[0].y+leftStarts[leftStarts.length-1].y)/2),rightCenterY&&leftCenterY&&leftCenterY!==rightCenterY){var diffY=Math.abs(leftCenterY-rightCenterY);MAX_Y+=diffY;var targetNodes=[];rightCenterY<leftCenterY?(targetNodes=rightStarts,rightCenterY+=diffY):(targetNodes=leftStarts,leftCenterY+=diffY);for(var keys=function getDescendantKeys(nodeKeys,nodeMap){for(var getChildKeys=function getChildKeys(nodeKey){var node=nodeMap[nodeKey];if(node){keys.push(node._key);for(var sortList=node.sortList,index=0;index<sortList.length;index++)getChildKeys(sortList[index])}},keys=[],index=0;index<nodeKeys.length;index++)getChildKeys(nodeKeys[index]);return keys}(targetNodes.map((function(item){return item._key})),nodes),_index3=0;_index3<keys.length;_index3++){var _node3=nodes[keys[_index3]];if(_node3.y=_node3.y?_node3.y+diffY:0,_node3.dots)for(var _index4=0;_index4<_node3.dots.length;_index4++)_node3.dots[_index4]=_node3.dots[_index4]+diffY}}root.rightDots=[],root.leftDots=[];for(var _index5=0;_index5<leftStarts.length;_index5++){var element=leftStarts[_index5];element&&(root.leftDots.push(element),0===_index5&&element.y)}for(var _index6=0;_index6<rightStarts.length;_index6++){var _element=rightStarts[_index6];_element&&root.rightDots.push(_element)}root.x=Math.abs(MIN_END)+startX,root.y=rightCenterY||MAX_Y/2}nodeList.push(root)}return{max_x:MAX_X,max_y:MAX_Y+startY,max_end:MAX_END+startX,nodes:nodeList};function location(nodes,node,x,y,toLeft,backgroundColor){var _node$texts,shorted=function getShortedStr(str){if(!(str.length<=28)){for(var shorted="",count=0,index=0;index<str.length&&count<28;index++){var _char=str[index];_char.match(/[^\x00-\xff]/g)?count++:count+=.5,shorted+=_char}return count>=28?shorted+"...":void 0}}(node.name);shorted&&(node.shorted=shorted);var nodeWidth=getNodeWidth(node,node._key===startId?FONT_SIZE*rootZoomRatio:node.father===startId?FONT_SIZE*secondZoomRatio:FONT_SIZE,showIcon,showAvatar,avatarRadius,!1,textMaxWidth,inputNodeKey),line_height=lineHeight;node._key===startId?line_height=lineHeight*rootZoomRatio:node.father===startId&&(line_height=lineHeight*secondZoomRatio);var top_bottom_margin=topBottomMargin;node._key===startId?top_bottom_margin=topBottomMargin*rootZoomRatio:node.father===startId&&(top_bottom_margin=topBottomMargin*secondZoomRatio);var nodeHeight=2*top_bottom_margin+((null===(_node$texts=node.texts)||void 0===_node$texts?void 0:_node$texts.length)||1)*line_height;node.imageUrl&&node.imageHeight&&(nodeHeight+=node.imageHeight+7.5),node.bottomAdornment&&node.bottomAdornmentHeight&&(nodeHeight+=node.bottomAdornmentHeight),node.x=x,node.width=nodeWidth,node.height=nodeHeight,toLeft?(node.toLeft=!0,node.x=node.x-nodeWidth):delete node.toLeft,node.dots=[];var childX,childrenIds=node.sortList,childY=y,diffX=node._key===startId?2*INDENT:INDENT;if(toLeft?((childX=x-nodeWidth-diffX)<MIN_X&&(MIN_X=childX),MIN_END>node.x-nodeWidth&&(MIN_END=node.x-nodeWidth)):((childX=x+nodeWidth+diffX)>MAX_X&&(MAX_X=childX),MAX_END<node.x+nodeWidth&&(MAX_END=node.x+nodeWidth)),rainbowColor&&(node.father===startId?(node.backgroundColor=rainbowColors[rainbowIndex],rainbowIndex+1===rainbowColors.length?rainbowIndex=0:rainbowIndex++):node.backgroundColor=backgroundColor),!node.contract)for(var _index8=0;_index8<childrenIds.length;_index8++){var _element3=nodes[childrenIds[_index8]];if(!_element3)break;childY=location(nodes,_element3,childX,childY,toLeft,rainbowColor&&node.father===startId?lightRainbowColors[node.backgroundColor]:backgroundColor),node.dots.push(_element3.y),_index8+1!==childrenIds.length&&(childY+=rowGap)>MAX_Y&&(MAX_Y=childY)}if(!node.contract&&childrenIds.length){var _nodes$childrenIds$,_nodes$childrenIds,firstChildY=null===(_nodes$childrenIds$=nodes[childrenIds[0]])||void 0===_nodes$childrenIds$?void 0:_nodes$childrenIds$.y,lastChildY=null===(_nodes$childrenIds=nodes[childrenIds[childrenIds.length-1]])||void 0===_nodes$childrenIds?void 0:_nodes$childrenIds.y,middleY=firstChildY&&lastChildY?(firstChildY+lastChildY)/2:(y+childY)/2;node.father===startId?node.y=middleY+BLOCK_HEIGHT/2-BLOCK_HEIGHT*secondZoomRatio/2:node._key===startId?node.y=middleY+BLOCK_HEIGHT*secondZoomRatio/2-BLOCK_HEIGHT*rootZoomRatio/2:node.y=middleY}else node.y=(y+childY)/2;return nodeList.push(node),node.y+nodeHeight>childY&&(childY=node.y+nodeHeight)>MAX_Y&&(MAX_Y=childY),childY}}(nodeMap,startId,singleColumn,rowGap,topBottomMargin,lineHeight,INDENT,FONT_SIZE,textMaxWidth,SHOW_ICON,SHOW_AVATAR,avatarRadius,rootZoomRatio,secondZoomRatio,startExport?50:paddingLeft,startExport?50:paddingTop,void 0,rainbowColor);cal&&(setcnodes(cal.nodes),setmaxY(cal.max_y),setmaxEnd(cal.max_end))}}),[nodeMap,startId,singleColumn,showInput,rainbowColor,startExport]),Object(react.useEffect)((function(){defaultSelectedId&&(_setselectedId(defaultSelectedId),_setSelectedNodes([]))}),[defaultSelectedId]),Object(react.useEffect)((function(){handleMutiSelect&&handleMutiSelect(selectedNodes)}),[selectedNodes]);function onPaste(event){if(!showInput&&!showNewInput){event.preventDefault();var pasteType=localStorage.getItem("pasteType"),pasteNodeKey=localStorage.getItem("pasteNodeKey");if(pasteType&&pasteNodeKey&&selectedId){if(UNCONTROLLED){var res=pasteNode(nodeMap,pasteNodeKey,pasteType,selectedId);res&&(setNodeMap(res),handleChange&&(Mind_changed=!0))}else handlePaste&&handlePaste(pasteNodeKey,pasteType,selectedId,event);localStorage.removeItem("pasteNodeKey"),localStorage.removeItem("pasteType")}else{var _event$clipboardData,files=null===(_event$clipboardData=event.clipboardData)||void 0===_event$clipboardData?void 0:_event$clipboardData.files,_node3=selectedId?nodeMap[selectedId]:null;if(files&&files.length&&_node3)handleTreePaste(_node3._key,_node3.name,files);else{var _event$clipboardData2,_text=null===(_event$clipboardData2=event.clipboardData)||void 0===_event$clipboardData2?void 0:_event$clipboardData2.getData("text");_text&&handlePasteText&&handlePasteText(_text,event)}}}}function _handleKeyDown(){return(_handleKeyDown=Mind_asyncToGenerator(regeneratorRuntime.mark((function _callee3(event){var commandKey,el,_node5,res,_res3,_res4;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(" "!==event.key||Mind_spaceKeyDown||(Mind_spaceKeyDown=!0),!(disabled||disableShortcut||showInput||showNewInput)){_context3.next=3;break}return _context3.abrupt("return");case 3:if(commandKey=Mind_isMac?event.metaKey:event.ctrlKey,!quickCommandKey||event.key!==quickCommandKey){_context3.next=9;break}event.preventDefault(),handleQuickCommandOpen&&selectedId&&(el=document.getElementById("tree-node-"+selectedId))&&handleQuickCommandOpen(el),_context3.next=51;break;case 9:if(!commandKey){_context3.next=28;break}_context3.t0=event.key,_context3.next="c"===_context3.t0?13:"x"===_context3.t0?16:25;break;case 13:return event.preventDefault(),selectedId&&(localStorage.setItem("pasteNodeKey",selectedId),localStorage.setItem("pasteType","copy"),copyNode(nodeMap,selectedId)),_context3.abrupt("break",26);case 16:if(event.preventDefault(),!selectedId){_context3.next=24;break}if(selectedId!==startId){_context3.next=22;break}return localStorage.removeItem("pasteNodeKey"),localStorage.removeItem("pasteType"),_context3.abrupt("return");case 22:localStorage.setItem("pasteNodeKey",selectedId),localStorage.setItem("pasteType","cut");case 24:case 25:return _context3.abrupt("break",26);case 26:_context3.next=51;break;case 28:_context3.t1=event.key,_context3.next="Enter"===_context3.t1?31:"Tab"===_context3.t1?34:"Delete"===_context3.t1||"Backspace"===_context3.t1?37:"ArrowUp"===_context3.t1?40:"ArrowDown"===_context3.t1?43:"ArrowRight"===_context3.t1||"ArrowLeft"===_context3.t1?46:49;break;case 31:return event.preventDefault(),addNext(),_context3.abrupt("break",51);case 34:return event.preventDefault(),addChild(),_context3.abrupt("break",51);case 37:return event.preventDefault(),showDeleteConform&&(_node5=selectedId?nodeMap[selectedId]:null)&&_node5.sortList.length?showDeleteConform():deletenode(),_context3.abrupt("break",51);case 40:return event.preventDefault(),event.shiftKey?shiftUp():selectedId&&(res=changeMindSelect(selectedId,cnodes,event.key))&&handleSelectedNodeChanged(res),_context3.abrupt("break",51);case 43:return event.preventDefault(),event.shiftKey?shiftDown():selectedId&&(_res3=changeMindSelect(selectedId,cnodes,event.key))&&handleSelectedNodeChanged(_res3),_context3.abrupt("break",51);case 46:return event.preventDefault(),selectedId&&(_res4=changeMindSelect(selectedId,cnodes,event.key))&&handleSelectedNodeChanged(_res4),_context3.abrupt("break",51);case 49:return selectedId&&!showInput&&1===event.key.length&&/[a-zA-Z]+/.test(event.key)&&(setInputEmpty(!0),setshowInput(!0)),_context3.abrupt("break",51);case 51:case"end":return _context3.stop()}}),_callee3)})))).apply(this,arguments)}function clickPreview(node){handleClickPreviewButton&&handleClickPreviewButton(node)}function clickDot(node){handleClickDot&&handleClickDot(node)}function handleFrameSelectionEnd(){if(frameSelectionStarted){var selectionNodes=getNodesInSelection(selectionX,selectionY,selectionWidth,selectionHeight,block_height,cnodes);_setselectedId(null),handleClickNode&&handleClickNode(selectionNodes.length?selectionNodes:null),_setSelectedNodes(selectionNodes),setFrameSelectionStarted(!1),setselectionWidth(0),setselectionHeight(0)}}function handleDragStart(node,dragStartX,dragStartY){if(!disabled&&!node.disabled){if(selectedNodes.length)-1===selectedNodes.findIndex((function(element){return node._key===element._key}))&&_setSelectedNodes([]);sessionStorage.setItem("cross-comp-drag",node._key),sessionStorage.setItem("cross-drag-compId",compId),setDragStarted(!0),setShowDragNode(!0),setDragInfo({dragNodeId:node._key,dropNodeId:node._key,placement:"in"}),setClickX(dragStartX),setClickY(dragStartY),setMovedNodeX(0),setMovedNodeY(0)}}function updateDragInfo(param){setDragInfo(dragInfo?Object.assign({},dragInfo,param):param)}function childVPath(node,y1,y2){var HlineWidth=INDENT-8-8,startBlockHeight=block_height;node._key===startId?startBlockHeight=block_height*rootZoomRatio:node.father===startId&&(startBlockHeight=block_height*secondZoomRatio);var endBlockHeight=block_height;node._key===startId&&(endBlockHeight=block_height*secondZoomRatio);var startX=node.toLeft?node.x:node.x+node.width,M="M "+startX+" "+(node.y+startBlockHeight/2),H=node.toLeft?"H "+(startX-HlineWidth):"H "+(startX+HlineWidth),M2="M "+(node.toLeft?startX-HlineWidth:startX+HlineWidth)+" "+(y1+endBlockHeight/2+8);return y1===y2?M+" "+H:M+" "+H+" "+M2+" "+("V "+(y2+endBlockHeight/2-8))}function path(node,dotY){var startBlockHeight=block_height;node._key===startId?startBlockHeight=block_height*rootZoomRatio:node.father===startId&&(startBlockHeight=block_height*secondZoomRatio);var endBlockHeight=block_height;node._key===startId&&(endBlockHeight=block_height*secondZoomRatio);var nodeMiddleY=node.y+startBlockHeight/2,endX=node.toLeft?node.x-INDENT+8:node.x+node.width+INDENT-8,endY=dotY+endBlockHeight/2,startX=node.toLeft?endX+8:endX-8,M="M "+startX+" "+(nodeMiddleY===endY?endY:nodeMiddleY>endY?endY+8:endY-8),Q="Q "+startX+" "+endY+","+endX+" "+endY,H="";return node._key===startId&&(H="H "+(endX+INDENT)),M+" "+Q+" "+H}function rootPath(node,dotY,isLeft){var startBlockHeight=node.height||block_height*rootZoomRatio,endBlockHeight=block_height*secondZoomRatio,startX=node.x+node.width/2,endY=dotY+endBlockHeight/2;return"M "+startX+" "+(node.y+startBlockHeight/2)+" "+("Q "+startX+" "+endY+", "+(isLeft?node.x-4*INDENT+8:node.x+node.width+4*INDENT-8)+" "+endY)}function handleTreePaste(nodeId,nodeName,files){if(handleFileChange)handleFileChange(nodeId,nodeName,files);else if(UNCONTROLLED&&files.length){var file=files[0];if(file.type.startsWith("image/")&&nodeId!==startId){var reader=new FileReader;reader.onload=function(event){var _event$target,base64String=null===(_event$target=event.target)||void 0===_event$target?void 0:_event$target.result;if(base64String){var img=new Image;img.src=base64String,img.onload=Mind_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var height;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:height=200/(img.width/img.height),updateNodeById(nodeMap,nodeId,{name:nodeName,imageUrl:base64String,imageWidth:200,imageHeight:height});case 2:case"end":return _context2.stop()}}),_callee2)})))}},reader.readAsDataURL(file)}}}function handleResizeImage(nodeId,width){if(UNCONTROLLED){var _nodes5=Object.assign({},nodeMap),_node4=_nodes5[nodeId];if(!_node4||!_node4.imageWidth||!_node4.imageHeight)return;var height=width/(_node4.imageWidth/_node4.imageHeight);_node4.imageWidth=width,_node4.imageHeight=height,setNodeMap(_nodes5),handleChange&&(Mind_changed=!0)}handleResizeNodeImage&&handleResizeNodeImage(nodeId,width)}return Object(jsx_runtime.jsxs)("div",{className:"svg-wrapper",style:{position:"relative",outline:"none"},tabIndex:-1,suppressContentEditableWarning:!0,ref:containerRef,onKeyDown:function onKeyDown(e){return function handleKeyDown(_x){return _handleKeyDown.apply(this,arguments)}(e)},onMouseDown:function handleFrameSelectionStart(e){1!==e.nativeEvent.which||Mind_spaceKeyDown||(e.stopPropagation(),setFrameSelectionStarted(!0),setClickX(e.nativeEvent.offsetX),setClickY(e.nativeEvent.offsetY),setselectionX(e.nativeEvent.offsetX),setselectionY(e.nativeEvent.offsetY))},onKeyUp:function handleKeyUp(event){" "===event.key&&(Mind_spaceKeyDown=!1)},onMouseMove:function handleMoveNode(e){if(dragStarted){var time=(new Date).getTime();if(time-Mind_lastTime>34||!Mind_lastTime){e.stopPropagation();var movedX,movedY;movedX=e.clientX-clickX,movedY=e.clientY-clickY,setMovedNodeX(movedNodeX+movedX),setMovedNodeY(movedNodeY+movedY),setClickX(e.clientX),setClickY(e.clientY),Mind_lastTime=time}}if(frameSelectionStarted){var _time=(new Date).getTime();if(_time-Mind_lastTime>34||!Mind_lastTime){e.stopPropagation();var _movedX,_movedY;_movedX=e.nativeEvent.offsetX-clickX,_movedY=e.nativeEvent.offsetY-clickY,setselectionWidth(Math.abs(_movedX)),setselectionHeight(Math.abs(_movedY)),_movedX>=0&&_movedY>=0?(setselectionX(clickX),setselectionY(clickY)):(_movedX<0||_movedY<0)&&(setselectionX(clickX+(_movedX<0?_movedX:0)),setselectionY(clickY+(_movedY<0?_movedY:0)));var selectionNodes=getNodesInSelection(selectionX,selectionY,selectionWidth,selectionHeight,block_height,cnodes);_setselectedId(null),_setSelectedNodes(selectionNodes),Mind_lastTime=_time}}},onMouseUp:function handleDragEnd(e){if(dragStarted&&dragInfo&&dragInfo.dragNodeId&&dragInfo.dropNodeId){e.stopPropagation(),setDragStarted(!1);var selectedNode=nodeMap[dragInfo.dragNodeId],dragValid=isDragValid(dragInfo.dragNodeId,dragInfo.dropNodeId,nodeMap),dragValid2=!0,validSelectedNodes=[];if(selectedNodes.length>1&&(validSelectedNodes=getValidSelectedNodes(selectedNodes,nodeMap),dragValid2=isMutilDragValid(validSelectedNodes,dragInfo.dropNodeId,nodeMap)),dragValid&&dragValid2){if(selectedNode){if(setShowDragNode(!1),UNCONTROLLED)if(validSelectedNodes.length>1)for(var index=0;index<validSelectedNodes.length;index++){var dragId=validSelectedNodes[index].nodeKey,res=dragSort(nodeMap,dragId,dragInfo.dropNodeId,dragInfo.placement);res&&(setNodeMap(res),handleChange&&(Mind_changed=!0))}else{var _res2=dragSort(nodeMap,dragInfo.dragNodeId,dragInfo.dropNodeId,dragInfo.placement);_res2&&(setNodeMap(_res2),handleChange&&(Mind_changed=!0))}else handleDrag&&handleDrag(dragInfo,validSelectedNodes);if(validSelectedNodes.length<=1){var crossCompDragId=sessionStorage.getItem("cross-comp-drag"),crossCompDropId=sessionStorage.getItem("cross-comp-drop"),crossDragCompId=sessionStorage.getItem("cross-drag-compId");crossCompDragId&&handleCrossCompDrag&&crossDragCompId!==compId&&handleCrossCompDrag(crossCompDragId,crossCompDropId)}}}else{setDragInfo(null);var stepX=movedNodeX/30,stepY=movedNodeY/30,interval=setInterval((function(){setMovedNodeX((function(movedNodeX){return movedNodeX-stepX})),setMovedNodeY((function(movedNodeY){return movedNodeY-stepY}))}),Math.floor(500/30));setTimeout((function(){setShowDragNode(!1),clearInterval(interval)}),500)}sessionStorage.removeItem("cross-comp-drag"),sessionStorage.removeItem("cross-comp-drop"),sessionStorage.removeItem("cross-drag-compId")}handleFrameSelectionEnd()},onMouseLeave:function handleDragLeave(){setDragStarted(!1),setDragInfo(null),setShowDragNode(!1),handleFrameSelectionEnd()},children:[Object(jsx_runtime.jsxs)("svg",{className:"tree-svg",viewBox:"0 0 "+(maxEnd+100)+" "+maxY,width:startExport?2*(maxEnd+100):maxEnd+100,height:startExport?2*maxY:maxY,style:{backgroundColor:BACKGROUND_COLOR},xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[Object(jsx_runtime.jsxs)("defs",{children:[Object(jsx_runtime.jsxs)("filter",{id:"filterShadow",x:"0",y:"0",width:"200%",height:"200%",children:[Object(jsx_runtime.jsx)("feOffset",{result:"offOut",in:"SourceAlpha",dx:"2",dy:"2"}),Object(jsx_runtime.jsx)("feColorMatrix",{result:"matrixOut",in:"offOut",type:"matrix",values:"0.3 0 0 0 0 \r 0 0.3 0 0 0 \r 0 0 0.3 0 0 \r 0 0 0 0.3 0"}),Object(jsx_runtime.jsx)("feGaussianBlur",{result:"blurOut",in:"matrixOut",stdDeviation:"1"}),Object(jsx_runtime.jsx)("feBlend",{in:"SourceGraphic",in2:"blurOut",mode:"normal"})]}),Object(jsx_runtime.jsxs)("symbol",{id:"contract-up",width:"20",height:"20",viewBox:"0,0,1024,1024",preserveAspectRatio:"xMinYMin meet",children:[Object(jsx_runtime.jsx)("circle",{cx:"512",cy:"512",r:"400",fill:nodeColor}),Object(jsx_runtime.jsx)("path",{d:"M512 39.367111c259.982222 0 472.632889 212.707556 472.632889 472.632889 0 259.982222-212.707556 472.632889-472.632889 472.632889C252.017778 984.632889 39.367111 771.925333 39.367111 512 39.367111 252.017778 252.074667 39.367111 512 39.367111z m0 68.266667C289.792 107.633778 107.633778 289.792 107.633778 512c0 222.208 182.158222 404.366222 404.366222 404.366222 222.208 0 404.366222-182.158222 404.366222-404.366222 0-222.208-182.158222-404.366222-404.366222-404.366222z",fill:COLOR}),Object(jsx_runtime.jsx)("path",{d:"M256 589.255111a40.163556 40.163556 0 0 1 13.141333-29.184l219.704889-203.036444a34.133333 34.133333 0 0 1 46.307556 0l219.875555 203.150222c17.009778 15.701333 17.351111 42.211556 0.739556 58.424889l-5.006222 4.152889a41.870222 41.870222 0 0 1-52.224-3.299556L519.68 454.883556a11.377778 11.377778 0 0 0-15.36 0l-178.801778 164.522666a41.756444 41.756444 0 0 1-57.173333-0.682666 40.049778 40.049778 0 0 1-11.889778-22.812445l-0.455111-6.656z",fill:COLOR})]}),Object(jsx_runtime.jsxs)("symbol",{id:"contract-left",width:"20",height:"20",viewBox:"0,0,1024,1024",preserveAspectRatio:"xMinYMin meet",children:[Object(jsx_runtime.jsx)("circle",{cx:"512",cy:"512",r:"400",fill:nodeColor}),Object(jsx_runtime.jsx)("path",{d:"M512 39.367111c259.982222 0 472.632889 212.707556 472.632889 472.632889 0 259.982222-212.707556 472.632889-472.632889 472.632889C252.017778 984.632889 39.367111 771.925333 39.367111 512 39.367111 252.017778 252.074667 39.367111 512 39.367111z m0 68.266667C289.792 107.633778 107.633778 289.792 107.633778 512c0 222.208 182.158222 404.366222 404.366222 404.366222 222.208 0 404.366222-182.158222 404.366222-404.366222 0-222.208-182.158222-404.366222-404.366222-404.366222z",fill:COLOR}),Object(jsx_runtime.jsx)("path",{d:"M594.944 261.688889a40.163556 40.163556 0 0 0-29.184 13.141333L362.723556 494.535111a34.133333 34.133333 0 0 0 0 46.307556l203.150222 219.875555c15.701333 17.009778 42.211556 17.351111 58.424889 0.739556l4.152889-5.006222a41.870222 41.870222 0 0 0-3.299556-52.224L460.572444 525.368889a11.377778 11.377778 0 0 1 0-15.36l164.522667-178.801778a41.756444 41.756444 0 0 0-0.682667-57.173333 40.049778 40.049778 0 0 0-22.812444-11.889778l-6.656-0.455111z",fill:COLOR})]}),Object(jsx_runtime.jsxs)("symbol",{id:"contract-right",width:"20",height:"20",viewBox:"0,0,1024,1024",preserveAspectRatio:"xMinYMin meet",children:[Object(jsx_runtime.jsx)("circle",{cx:"512",cy:"512",r:"400",fill:nodeColor}),Object(jsx_runtime.jsx)("path",{d:"M512 39.367111c259.982222 0 472.632889 212.707556 472.632889 472.632889 0 259.982222-212.707556 472.632889-472.632889 472.632889C252.017778 984.632889 39.367111 771.925333 39.367111 512 39.367111 252.017778 252.074667 39.367111 512 39.367111z m0 68.266667C289.792 107.633778 107.633778 289.792 107.633778 512c0 222.208 182.158222 404.366222 404.366222 404.366222 222.208 0 404.366222-182.158222 404.366222-404.366222 0-222.208-182.158222-404.366222-404.366222-404.366222z",fill:COLOR}),Object(jsx_runtime.jsx)("path",{d:"M462.108444 261.688889a40.163556 40.163556 0 0 1 29.184 13.141333l202.979556 219.704889a34.133333 34.133333 0 0 1 0 46.307556l-203.093333 219.875555a40.106667 40.106667 0 0 1-58.424889 0.739556l-4.152889-5.006222a41.870222 41.870222 0 0 1 3.299555-52.224l164.522667-178.858667a11.377778 11.377778 0 0 0 0-15.36L431.957333 331.207111a41.756444 41.756444 0 0 1 0.682667-57.173333 40.049778 40.049778 0 0 1 22.812444-11.889778l6.656-0.455111z",fill:COLOR})]}),Object(jsx_runtime.jsxs)("symbol",{id:"add",width:"20",height:"20",viewBox:"0,0,1024,1024",preserveAspectRatio:"xMinYMin meet",children:[Object(jsx_runtime.jsx)("circle",{cx:"512",cy:"512",r:"400",fill:COLOR}),Object(jsx_runtime.jsx)("path",{d:"M244.622222 467.228444m44.544 0l445.155556 0q44.544 0 44.544 44.544l0-0.056888q0 44.544-44.544 44.544l-445.155556 0q-44.544 0-44.544-44.544l0 0.056888q0-44.544 44.544-44.544Z",fill:nodeColor}),Object(jsx_runtime.jsx)("path",{d:"M556.259556 289.166222v445.212445a44.544 44.544 0 1 1-89.031112 0V289.166222a44.544 44.544 0 0 1 89.031112 0z",fill:nodeColor})]}),Object(jsx_runtime.jsxs)("g",{id:"expand",width:"10",height:"10",viewBox:"0,0,10,10",preserveAspectRatio:"xMinYMin meet",children:[Object(jsx_runtime.jsx)("circle",{cx:"5",cy:"5",r:"5",fill:"#F0F0F0",stroke:"#BFBFBF"}),Object(jsx_runtime.jsx)("path",{d:"M 2 5 H 8 5",stroke:"#666",strokeWidth:"1.6"}),Object(jsx_runtime.jsx)("path",{d:"M 5 2  V 5 8",stroke:"#666",strokeWidth:"1.6"})]}),Object(jsx_runtime.jsxs)("g",{id:"checkbox-checked",width:"18",height:"18",viewBox:"0,0,18,18",preserveAspectRatio:"xMinYMin meet",children:[Object(jsx_runtime.jsx)("circle",{cx:"9",cy:"9",r:"9",fill:"rgb(85, 85, 85)"}),Object(jsx_runtime.jsx)("path",{d:"M 4 9 L 8 13 L 14 5",stroke:"#fff",strokeWidth:"1.6"})]}),Object(jsx_runtime.jsx)("g",{id:"checkbox-uncheck",width:"18",height:"18",viewBox:"0,0,18,18",preserveAspectRatio:"xMinYMin meet",children:Object(jsx_runtime.jsx)("circle",{cx:"9",cy:"9",r:"9",fill:"rgb(216, 216, 216)",stroke:"#000000"})}),Object(jsx_runtime.jsxs)("g",{id:"status",width:"22",height:"22",viewBox:"0,0,22,22",preserveAspectRatio:"xMinYMin meet",children:[Object(jsx_runtime.jsx)("path",{d:"M0 0 L 22 22 H 0 Z",fill:"rgb(85, 85, 85)"}),Object(jsx_runtime.jsx)("path",{d:"M 0 0 H 22 V 22 Z",fill:"rgb(53, 166, 248)"})]}),Object(jsx_runtime.jsxs)("g",{id:"status-overdue",width:"22",height:"22",viewBox:"0,0,22,22",preserveAspectRatio:"xMinYMin meet",children:[Object(jsx_runtime.jsx)("path",{d:"M0 0 L 22 22 H 0 Z",fill:"rgb(221, 53, 53)"}),Object(jsx_runtime.jsx)("path",{d:"M 0 0 H 22 V 22 Z",fill:"rgb(53, 166, 248)"})]}),Object(jsx_runtime.jsxs)("g",{id:"status-complete",width:"22",height:"22",viewBox:"0,0,22,22",preserveAspectRatio:"xMinYMin meet",children:[Object(jsx_runtime.jsx)("path",{d:"M0 0 L 22 22 H 0 Z",fill:"#b6b7b7"}),Object(jsx_runtime.jsx)("path",{d:"M 0 0 H 22 V 22 Z",fill:"rgb(53, 166, 248)"})]}),Object(jsx_runtime.jsx)("g",{id:"status-onlyday",width:"22",height:"22",viewBox:"0,0,22,22",preserveAspectRatio:"xMinYMin meet",children:Object(jsx_runtime.jsx)("rect",{x:"0",y:"0",width:"22",height:"22",fill:"rgb(85, 85, 85)"})}),Object(jsx_runtime.jsx)("g",{id:"status-onlyday-overdue",width:"22",height:"22",viewBox:"0,0,22,22",preserveAspectRatio:"xMinYMin meet",children:Object(jsx_runtime.jsx)("rect",{x:"0",y:"0",width:"22",height:"22",fill:"rgb(221, 53, 53)"})}),Object(jsx_runtime.jsx)("g",{id:"status-onlyday-complete",width:"22",height:"22",viewBox:"0,0,22,22",preserveAspectRatio:"xMinYMin meet",children:Object(jsx_runtime.jsx)("rect",{x:"0",y:"0",width:"22",height:"22",fill:"#417505"})}),Object(jsx_runtime.jsx)("symbol",{id:"favorite",width:"200",height:"200",viewBox:"0,0,1024,1024",preserveAspectRatio:"xMinYMin meet",children:Object(jsx_runtime.jsx)("path",{d:"M512 909.994667l-61.994667-56.021333q-105.984-96-153.984-141.994667t-107.008-114.005333-80.981333-123.008-22.016-112.981333q0-98.005333 66.986667-166.016t166.997333-68.010667q116.010667 0 192 89.984 75.989333-89.984 192-89.984 100.010667 0 166.997333 68.010667t66.986667 166.016q0 77.994667-52.010667 162.005333t-112.981333 146.005333-198.997333 185.984z",fill:"#FF4500"})}),Object(jsx_runtime.jsx)("symbol",{id:"pack",width:"18",height:"16",viewBox:"0,0,18,16",preserveAspectRatio:"xMinYMin meet",children:Object(jsx_runtime.jsx)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:Object(jsx_runtime.jsxs)("g",{transform:"translate(0.000000, 0.000007)",children:[Object(jsx_runtime.jsx)("path",{d:"M15.8396584,2.58289418 L8.61752011,2.58289418 L6.1696488,0.130509602 C6.08473826,0.0462875302 5.96976481,-0.000681000602 5.85012509,-4.4408921e-15 L2.25037734,-4.4408921e-15 C1.00777667,-4.4408921e-15 0.000477621947,1.007383 0.000477621947,2.24990718 L0.000477621947,13.0493034 C-0.024613059,14.2668134 0.941990125,15.2741125 2.15942362,15.2992032 L2.16034157,15.2992032 L15.8396584,15.2992032 C17.0570919,15.2746479 18.0240776,14.2677314 17.9995224,13.0502979 L17.9995224,13.0493034 L17.9995224,4.83279389 C18.0246131,3.6152839 17.0580099,2.60798486 15.8405764,2.58289418 L15.8396584,2.58289418 Z",fill:"#7264C7"}),Object(jsx_runtime.jsx)("path",{d:"M5.02500122,3.90995406 C5.51319856,3.90995406 5.90898875,4.30566776 5.90898875,4.79386509 C5.90898875,5.13142591 5.71976385,5.42480743 5.44160487,5.57371884 L5.44109019,7.78495406 L12.4856515,7.78458737 C12.6301575,7.49311204 12.9307285,7.29272862 13.2780452,7.29272862 C13.7662426,7.29272862 14.1620328,7.68851881 14.1620328,8.17671615 C14.1620328,8.66491348 13.7662426,9.06070368 13.2780452,9.06070368 C12.9236883,9.06070368 12.6179914,8.85211427 12.4770572,8.5510087 L5.44109019,8.54995406 L5.44149123,10.9547212 C5.44149123,11.2319426 5.66707787,11.4575292 5.94429929,11.4575292 L12.4266114,11.4572917 C12.5306129,11.0848093 12.8724551,10.8115436 13.2780452,10.8115436 C13.7662426,10.8115436 14.1620328,11.2073338 14.1620328,11.6955312 C14.1620328,12.1837285 13.7662426,12.5795187 13.2780452,12.5795187 C12.987737,12.5795187 12.7300882,12.4395183 12.5689396,12.2233421 L5.94429929,12.222489 C5.24527904,12.222489 4.67653144,11.6537414 4.67653144,10.9547212 L4.67588826,5.60621629 C4.36134998,5.47082409 4.14109019,5.15805717 4.14109019,4.79386509 C4.14109019,4.30566776 4.53688038,3.90995406 5.02500122,3.90995406 Z",fill:"#FFFFFF"})]})})})]}),cnodes.map((function(node,index){return Object(jsx_runtime.jsxs)("g",{className:"node-group-"+node._key,children:[Object(jsx_runtime.jsx)("g",{children:node.dots&&node.x&&node.y&&(node._key!==startId||singleColumn)?node.dots.map((function(dotY,index){return Object(jsx_runtime.jsx)("path",{d:path(node,dotY),stroke:rainbowColor?node.backgroundColor:PATH_COLOR,strokeWidth:PATH_WIDTH,fill:"transparent"},index)})):null}),node._key!==startId||singleColumn?node.dots&&node.dots.length?Object(jsx_runtime.jsx)("path",{d:childVPath(node,node.dots[0],node.dots[node.dots.length-1]),stroke:rainbowColor?node.backgroundColor:PATH_COLOR,strokeWidth:PATH_WIDTH,fill:"transparent"},"path-"+index):null:Object(jsx_runtime.jsxs)("g",{children:[node.leftDots?node.leftDots.map((function(dot,index){return Object(jsx_runtime.jsx)("path",{d:rootPath(node,dot.y,!0),stroke:rainbowColor?dot.backgroundColor:PATH_COLOR,strokeWidth:1.5*PATH_WIDTH,fill:"transparent"},"leftDots-"+index)})):null,node.rightDots?node.rightDots.map((function(dot,index){return Object(jsx_runtime.jsx)("path",{d:rootPath(node,dot.y,!1),stroke:rainbowColor?dot.backgroundColor:PATH_COLOR,strokeWidth:1.5*PATH_WIDTH,fill:"transparent"},"rightDots-"+index)})):null,node.dots?node.dots.map((function(dotY,index){return Object(jsx_runtime.jsx)("path",{d:rootPath(node,dotY,!1),stroke:PATH_COLOR,strokeWidth:1.5*PATH_WIDTH,fill:"transparent"},index)})):null]}),Object(jsx_runtime.jsx)(components_TreeNode,{node:node,startId:startId,topBottomMargin:node._key===startId?topBottomMargin*rootZoomRatio:node.father===startId?topBottomMargin*secondZoomRatio:topBottomMargin,lineHeight:node._key===startId?lineHeight*rootZoomRatio:node.father===startId?lineHeight*secondZoomRatio:lineHeight,FONT_SIZE:node._key===startId?FONT_SIZE*rootZoomRatio:node.father===startId?FONT_SIZE*secondZoomRatio:FONT_SIZE,avatarRadius:avatarRadius,color:rainbowColor&&node.father===startId?"#FFF":COLOR,nodeColor:rainbowColor?void 0:nodeColor,treeBackgroundColor:BACKGROUND_COLOR,alias:(new Date).getTime(),selected:selectedId,selectedNodes:selectedNodes,showIcon:SHOW_ICON,showAvatar:SHOW_AVATAR,customAdornment:customAdornment,startNodeBg:startNodeBg,handleClickDot:clickDot,handleExpand:handleExpand,handleCheck:check,handleClickAvatar:clickAvatar,handleClickStatus:clickStatus,handleClickNode:clickNode,handleDbClickNode:dbClickNode,clickPreview:clickPreview,updateDragInfo:updateDragInfo,handleDragStart:handleDragStart,dragStarted:dragStarted,dragEndFromOutside:dragEndFromOutside,mouseEnterAvatar:function mouseEnterAvatar(node){handleMouseEnterAvatar&&handleMouseEnterAvatar(node)},mouseLeaveAvatar:function mouseLeaveAvatar(node){handleMouseLeaveAvatar&&handleMouseLeaveAvatar(node)},bottomOptions:!0,hideHour:hideHour,dotColor:PATH_COLOR,hoverBorderColor:HOVER_BORDER_COLOR,selectedBorderColor:SELECTED_BORDER_COLOR,selectedBackgroundColor:SELECTED_BACKGROUND_COLOR,handleFileChange:handleFileChange,onContextMenu:handleContextMenu,onClickNodeImage:handleClickNodeImage,onResizeImage:handleResizeImage,handleAddChild:addChild,handleAddNext:addNext})]},index+"_"+node._key)})),showDragNode&&(Math.abs(movedNodeX)>5||Math.abs(movedNodeY)>5)?Object(jsx_runtime.jsx)(components_DragNode,{nodeList:cnodes,BLOCK_HEIGHT:block_height,FONT_SIZE:FONT_SIZE,alias:(new Date).getTime(),showIcon:SHOW_ICON,showAvatar:SHOW_AVATAR,avatarRadius:avatarRadius,movedNodeX:movedNodeX,movedNodeY:movedNodeY,dragInfo:dragInfo,mutilMode:selectedNodes.length>1}):null,frameSelectionStarted?Object(jsx_runtime.jsx)("rect",{x:selectionX,y:selectionY,width:selectionWidth,height:selectionHeight,fill:"#35a6f8",fillOpacity:.2,stroke:"#35a6f8"}):null]}),showInput||showNewInput?Object(jsx_runtime.jsx)(components_NodeInput,{selectedId:selectedId,nodeList:cnodes,handleChangeNodeText:changeText,topBottomMargin:selectedId===startId?topBottomMargin*rootZoomRatio:nodeMap&&selectedId&&nodeMap[selectedId].father===startId?topBottomMargin*secondZoomRatio:topBottomMargin,lineHeight:selectedId===startId?lineHeight*rootZoomRatio:nodeMap&&selectedId&&nodeMap[selectedId].father===startId?lineHeight*secondZoomRatio:lineHeight,FONT_SIZE:selectedId===startId?FONT_SIZE*rootZoomRatio:nodeMap&&selectedId&&nodeMap[selectedId].father===startId?FONT_SIZE*secondZoomRatio:FONT_SIZE,showIcon:SHOW_ICON,showAvatar:SHOW_AVATAR,textMaxWidth:textMaxWidth,avatarRadius:avatarRadius,startId:startId,nodeColor:rainbowColor?void 0:nodeColor,startNodeBg:startNodeBg,inputEmpty:inputEmpty,selectedBorderColor:SELECTED_BORDER_COLOR,handleFileChange:handleTreePaste}):null]})}));try{Mind_Mind.displayName="Mind",Mind_Mind.__docgenInfo={description:"",displayName:"Mind",props:{nodes:{defaultValue:null,description:"",name:"nodes",required:!0,type:{name:"NodeMap"}},startId:{defaultValue:null,description:"",name:"startId",required:!0,type:{name:"string"}},defaultSelectedId:{defaultValue:null,description:"",name:"defaultSelectedId",required:!1,type:{name:"string"}},uncontrolled:{defaultValue:null,description:"",name:"uncontrolled",required:!1,type:{name:"boolean"}},singleColumn:{defaultValue:null,description:"",name:"singleColumn",required:!1,type:{name:"boolean"}},topBottomMargin:{defaultValue:{value:"5"},description:"",name:"topBottomMargin",required:!1,type:{name:"number"}},lineHeight:{defaultValue:{value:"20"},description:"",name:"lineHeight",required:!1,type:{name:"number"}},textMaxWidth:{defaultValue:{value:"300"},description:"",name:"textMaxWidth",required:!1,type:{name:"number"}},fontSize:{defaultValue:null,description:"",name:"fontSize",required:!1,type:{name:"number"}},indent:{defaultValue:null,description:"",name:"indent",required:!1,type:{name:"number"}},avatarWidth:{defaultValue:null,description:"",name:"avatarWidth",required:!1,type:{name:"number"}},checkBoxWidth:{defaultValue:null,description:"",name:"checkBoxWidth",required:!1,type:{name:"number"}},pathWidth:{defaultValue:null,description:"",name:"pathWidth",required:!1,type:{name:"number"}},pathColor:{defaultValue:null,description:"",name:"pathColor",required:!1,type:{name:"string"}},nodeColor:{defaultValue:{value:"#f0f0f0"},description:"",name:"nodeColor",required:!1,type:{name:"string"}},avatarRadius:{defaultValue:{value:"11"},description:"",name:"avatarRadius",required:!1,type:{name:"number"}},disableShortcut:{defaultValue:null,description:"",name:"disableShortcut",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},showIcon:{defaultValue:null,description:"",name:"showIcon",required:!1,type:{name:"boolean"}},showAvatar:{defaultValue:null,description:"",name:"showAvatar",required:!1,type:{name:"boolean"}},hideHour:{defaultValue:null,description:"",name:"hideHour",required:!1,type:{name:"boolean"}},root_zoom_ratio:{defaultValue:null,description:"",name:"root_zoom_ratio",required:!1,type:{name:"number"}},second_zoom_ratio:{defaultValue:null,description:"",name:"second_zoom_ratio",required:!1,type:{name:"number"}},backgroundColor:{defaultValue:null,description:"",name:"backgroundColor",required:!1,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}},hoverBorderColor:{defaultValue:null,description:"",name:"hoverBorderColor",required:!1,type:{name:"string"}},selectedBorderColor:{defaultValue:null,description:"",name:"selectedBorderColor",required:!1,type:{name:"string"}},selectedBackgroundColor:{defaultValue:null,description:"",name:"selectedBackgroundColor",required:!1,type:{name:"string"}},quickCommandKey:{defaultValue:null,description:"",name:"quickCommandKey",required:!1,type:{name:"string"}},paddingLeft:{defaultValue:{value:"50"},description:"",name:"paddingLeft",required:!1,type:{name:"number"}},paddingTop:{defaultValue:{value:"50"},description:"",name:"paddingTop",required:!1,type:{name:"number"}},rainbowColor:{defaultValue:null,description:"",name:"rainbowColor",required:!1,type:{name:"boolean"}},startNodeBg:{defaultValue:{value:"#CB1B45"},description:"",name:"startNodeBg",required:!1,type:{name:"string"}},customAdornment:{defaultValue:null,description:"",name:"customAdornment",required:!1,type:{name:"FC<{ x: number; y: number; height: number; nodeKey: string; }>"}},handleClickExpand:{defaultValue:null,description:"",name:"handleClickExpand",required:!1,type:{name:"Function"}},handleCheck:{defaultValue:null,description:"",name:"handleCheck",required:!1,type:{name:"Function"}},handleClickAvatar:{defaultValue:null,description:"",name:"handleClickAvatar",required:!1,type:{name:"NodeClickFunc"}},handleClickStatus:{defaultValue:null,description:"",name:"handleClickStatus",required:!1,type:{name:"StatusClickFunc"}},handleClickNode:{defaultValue:null,description:"",name:"handleClickNode",required:!1,type:{name:"Function"}},handleDbClickNode:{defaultValue:null,description:"",name:"handleDbClickNode",required:!1,type:{name:"Function"}},handleChangeNodeText:{defaultValue:null,description:"",name:"handleChangeNodeText",required:!1,type:{name:"Function"}},handleAddNext:{defaultValue:null,description:"",name:"handleAddNext",required:!1,type:{name:"Function"}},handleAddChild:{defaultValue:null,description:"",name:"handleAddChild",required:!1,type:{name:"Function"}},handleDeleteNode:{defaultValue:null,description:"",name:"handleDeleteNode",required:!1,type:{name:"Function"}},handleClickPreviewButton:{defaultValue:null,description:"",name:"handleClickPreviewButton",required:!1,type:{name:"Function"}},handleClickDot:{defaultValue:null,description:"",name:"handleClickDot",required:!1,type:{name:"Function"}},handleShiftUpDown:{defaultValue:null,description:"",name:"handleShiftUpDown",required:!1,type:{name:"Function"}},handleDrag:{defaultValue:null,description:"",name:"handleDrag",required:!1,type:{name:"Function"}},handlePaste:{defaultValue:null,description:"",name:"handlePaste",required:!1,type:{name:"PasteFunc"}},dragEndFromOutside:{defaultValue:null,description:"",name:"dragEndFromOutside",required:!1,type:{name:"((node: CNode, dataTransferText: string) => void)"}},handleMouseEnterAvatar:{defaultValue:null,description:"",name:"handleMouseEnterAvatar",required:!1,type:{name:"Function"}},handleMouseLeaveAvatar:{defaultValue:null,description:"",name:"handleMouseLeaveAvatar",required:!1,type:{name:"Function"}},handleCrossCompDrag:{defaultValue:null,description:"",name:"handleCrossCompDrag",required:!1,type:{name:"Function"}},handleChange:{defaultValue:null,description:"",name:"handleChange",required:!1,type:{name:"Function"}},showDeleteConform:{defaultValue:null,description:"",name:"showDeleteConform",required:!1,type:{name:"Function"}},handleMutiSelect:{defaultValue:null,description:"",name:"handleMutiSelect",required:!1,type:{name:"MutiSelectFunc"}},handleFileChange:{defaultValue:null,description:"",name:"handleFileChange",required:!1,type:{name:"HandleFileChange"}},handleQuickCommandOpen:{defaultValue:null,description:"",name:"handleQuickCommandOpen",required:!1,type:{name:"HandleQuickCommandOpen"}},handlePasteText:{defaultValue:null,description:"",name:"handlePasteText",required:!1,type:{name:"HandlePasteText"}},handleContextMenu:{defaultValue:null,description:"",name:"handleContextMenu",required:!1,type:{name:"((nodeKey: string, event: MouseEvent<Element, MouseEvent>) => void)"}},handleClickNodeImage:{defaultValue:null,description:"",name:"handleClickNodeImage",required:!1,type:{name:"((url?: string) => void)"}},handleResizeNodeImage:{defaultValue:null,description:"",name:"handleResizeNodeImage",required:!1,type:{name:"((nodeKey: string, nodeWidth: number) => void)"}},rowGap:{defaultValue:{value:"12"},description:"",name:"rowGap",required:!1,type:{name:"number"}},moreButtonWidth:{defaultValue:null,description:"",name:"moreButtonWidth",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Mind.tsx#Mind"]={docgenInfo:Mind_Mind.__docgenInfo,name:"Mind",path:"src/Mind.tsx#Mind"})}catch(__react_docgen_typescript_loader_error){}function MobileItem_slicedToArray(arr,i){return function MobileItem_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function MobileItem_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function MobileItem_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return MobileItem_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MobileItem_arrayLikeToArray(o,minLen)}(arr,i)||function MobileItem_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MobileItem_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var MobileItem_composing=!1,MobileItem_MobileItem=function MobileItem(_ref){var node=_ref.node,startId=_ref.startId,indent=_ref.indent,selectedBackgroundColor=_ref.selectedBackgroundColor,dragLineColor=_ref.dragLineColor,color=_ref.color,selectedColor=_ref.selectedColor,hoverColor=_ref.hoverColor,hoverBackgroundColor=_ref.hoverBackgroundColor,cutColor=_ref.cutColor,BLOCK_HEIGHT=_ref.BLOCK_HEIGHT,FONT_SIZE=_ref.FONT_SIZE,selected=_ref.selected,showIcon=_ref.showIcon,disabled=_ref.disabled,showChildNum=_ref.showChildNum,handleClickNode=_ref.handleClickNode,handleDbClickNode=_ref.handleDbClickNode,handleClickExpand=_ref.handleClickExpand,handleClickIcon=_ref.handleClickIcon,handleClickDot=_ref.handleClickDot,showInput=_ref.showInput,handleChangeNodeText=_ref.handleChangeNodeText,handleDrop=_ref.handleDrop,pasteNodeKey=_ref.pasteNodeKey,compId=_ref.compId,collapseMode=_ref.collapseMode,collapseModeCollapsed=_ref.collapseModeCollapsed,containerRef=Object(react.useRef)(null),_useState2=MobileItem_slicedToArray(Object(react.useState)(!1),2),hover=_useState2[0],sethover=_useState2[1],_useState4=MobileItem_slicedToArray(Object(react.useState)(node.name),2),value=_useState4[0],setValue=_useState4[1],_useState6=MobileItem_slicedToArray(Object(react.useState)(!1),2),dragStarted=_useState6[0],setDragStarted=_useState6[1],_useState8=MobileItem_slicedToArray(Object(react.useState)(!1),2),isDragOver=_useState8[0],setIsDragOver=_useState8[1],_useState10=MobileItem_slicedToArray(Object(react.useState)(!1),2),isDragIn=_useState10[0],setIsDragIn=_useState10[1],iconIsEmoji=Object(react.useMemo)((function(){return isEmoji(node.icon)}),[node.icon]);var collapsed,nodeRectClassName=function rectClassName(node){return selected===node._key?"selected":""}(node),nameLinkArr=[];if(urlReg.test(node.name)){var arr1=[],matchList=node.name.match(urlReg);if(matchList){for(var textList,tempText=node.name,index=0;index<matchList.length;index++){var element=matchList[index];tempText=tempText.replace(element,"!@#")}textList=tempText.split("!@#");for(var _index=0;_index<textList.length;_index++){var text=textList[_index];arr1.push(text),matchList[_index]&&arr1.push(matchList[_index])}}var marginLeft=0,count=0;if(arr1&&arr1.length)for(var _index2=0;_index2<arr1.length;_index2++){var name=arr1[_index2];0!==_index2&&(marginLeft+=textWidthAll(FONT_SIZE,arr1[_index2-1]));var type=urlReg.test(name)?"link":"text",shortedName="";if(node.shorted){for(var _index3=0;_index3<name.length&&count<28;_index3++){var _char=name[_index3];_char.match(/[^\x00-\xff]/g)?count++:count+=.5,shortedName+=_char}count>=28&&(shortedName+="...")}if(count>=28){nameLinkArr.push({text:name,shortedName:shortedName,type:type,marginLeft:marginLeft});break}nameLinkArr.push({text:name,type:type,marginLeft:marginLeft})}}return collapsed=collapseMode?collapseModeCollapsed:node.contract,node.x&&node.y?Object(jsx_runtime.jsxs)("div",{onClick:function onClick(e){e.stopPropagation(),handleClickNode(node)},onDoubleClick:function onDoubleClick(e){e.stopPropagation(),handleDbClickNode(node)},onMouseEnter:function onMouseEnter(){return sethover(!0)},onMouseLeave:function onMouseLeave(){return sethover(!1)},style:{width:"100%",height:BLOCK_HEIGHT+"px",display:"flex",alignItems:"center",userSelect:"none",cursor:hover?"pointer":"default",paddingLeft:node.x-(node._key===startId?indent:0)+"px",fontSize:FONT_SIZE+"px",boxSizing:"border-box",backgroundColor:hover?hoverBackgroundColor:"selected"===nodeRectClassName?selectedBackgroundColor:"unset",borderStyle:"solid",borderColor:dragLineColor,borderWidth:isDragOver?isDragIn?"3px":"0 0 2px 0":0,opacity:dragStarted?.8:1},draggable:!(showInput||disabled||node.disabled),onDragStart:function handleDragStart(e){e.dataTransfer.dropEffect="move",setDragStarted(!0),sessionStorage.setItem("dragNodeId",node._key),sessionStorage.setItem("cross-comp-drag",node._key),sessionStorage.setItem("cross-drag-compId",compId)},onDragOver:function handleDragOver(e){node.disabled||e.preventDefault(),isDragOver||setIsDragOver(!0),BLOCK_HEIGHT-e.nativeEvent.offsetY>5?setIsDragIn(!0):setIsDragIn(!1)},onDragLeave:function handleDragLeave(){setIsDragOver(!1)},onDrop:function handleDropNode(){setIsDragOver(!1),sessionStorage.setItem("dropNodeId",node._key),sessionStorage.setItem("placement",isDragIn?"in":"down"),handleDrop(),sessionStorage.removeItem("cross-comp-drag"),sessionStorage.removeItem("cross-drag-compId")},onDragEnd:function handleDragEnd(){setDragStarted(!1)},ref:containerRef,children:[Object(jsx_runtime.jsx)("div",{style:{width:"12px",marginRight:"4px",flexShrink:0}}),Object(jsx_runtime.jsx)("div",{style:{marginRight:"12px",flexShrink:0},onClick:function onClick(e){e.stopPropagation(),handleClickDot(node)},children:Object(jsx_runtime.jsx)("svg",{width:8,height:8,viewBox:"0,0,8,8",children:Object(jsx_runtime.jsx)("circle",{id:"dot",cx:4,cy:4,r:4,fill:color,fillOpacity:1,cursor:"pointer"})})}),showIcon&&node.icon?iconIsEmoji?Object(jsx_runtime.jsx)("div",{style:{width:"22px",height:"22px",lineHeight:"22px"},children:node.icon}):Object(jsx_runtime.jsx)("div",{style:{width:"22px",height:"22px",backgroundImage:'url("'+node.icon+'")',backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat",marginRight:"4px",flexShrink:0},onClick:function onClick(){return handleClickIcon(node)}}):null,showInput?Object(jsx_runtime.jsx)(ClickOutside,{onClickOutside:function handleClickoutside(){selected&&value&&handleChangeNodeText(selected,value)},children:Object(jsx_runtime.jsx)("input",{autoFocus:!0,placeholder:"untitled",value:value,style:{boxSizing:"border-box",border:"1px solid #000000",outline:"none"},onChange:function onChange(e){return setValue(e.target.value)},onKeyDown:function onKeyDown(e){return function handleCommit(event){MobileItem_composing||"Enter"===event.key&&selected&&handleChangeNodeText(selected,value)}(e)},onBlur:function onBlur(){return handleChangeNodeText(selected,value)},onMouseDown:function onMouseDown(e){return e.stopPropagation()},onContextMenu:function onContextMenu(e){return e.stopPropagation()},onCompositionStart:function onCompositionStart(){return MobileItem_composing=!0},onCompositionEnd:function onCompositionEnd(){return MobileItem_composing=!1}})}):nameLinkArr.length?Object(jsx_runtime.jsxs)("span",{style:{fontSize:FONT_SIZE+"px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",display:"flex"},children:[nameLinkArr.map((function(name,index){return Object(jsx_runtime.jsx)("span",{style:{color:pasteNodeKey===node._key?cutColor:"selected"===nodeRectClassName?selectedColor:hover?hoverColor:color,textDecoration:"link"===name.type?"underline":"unset",fontWeight:"selected"===nodeRectClassName?"bold":"normal"},onClick:function onClick(){return function handleClickLink(type,url){"link"===type&&(url.includes("http")?window.open(url,"_blank"):window.open("http://"+url,"_blank"))}(name.type,name.text)},children:name.text||""},index)})),showChildNum?Object(jsx_runtime.jsx)("span",{style:{color:pasteNodeKey===node._key?cutColor:"selected"===nodeRectClassName?selectedColor:hover?hoverColor:color,fontWeight:"selected"===nodeRectClassName?"bold":"normal"},children:" ("+(node.childNum||node.sortList.length)+")"}):null]}):Object(jsx_runtime.jsx)("span",{style:{fontSize:FONT_SIZE+"px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",color:pasteNodeKey===node._key?cutColor:"selected"===nodeRectClassName?selectedColor:hover?hoverColor:color,fontWeight:"selected"===nodeRectClassName?800:"normal"},children:(node.name||"")+(showChildNum?" ("+(node.childNum||node.sortList.length)+")":"")}),Object(jsx_runtime.jsx)("div",{style:{flex:1}}),Object(jsx_runtime.jsx)("div",{onClick:function handleClick(e){e.stopPropagation(),handleClickExpand(node)},style:{width:"18px",textAlign:"center",flexShrink:0},children:node.sortList&&node.sortList.length?Object(jsx_runtime.jsx)("svg",{width:12,height:12,viewBox:"0,0,12,12",children:collapsed?Object(jsx_runtime.jsx)("path",{d:"M 3 0 L 9 6 L 3 12 Z",fill:hover?hoverColor:color}):Object(jsx_runtime.jsx)("path",{d:"M 0 3 H 12 L 6 9 Z",fill:hover?hoverColor:color})}):null})]}):null},nodeItem_MobileItem=MobileItem_MobileItem;try{MobileItem_MobileItem.displayName="MobileItem",MobileItem_MobileItem.__docgenInfo={description:"",displayName:"MobileItem",props:{node:{defaultValue:null,description:"",name:"node",required:!0,type:{name:"CNode"}},startId:{defaultValue:null,description:"",name:"startId",required:!0,type:{name:"string"}},indent:{defaultValue:null,description:"",name:"indent",required:!0,type:{name:"number"}},selectedBackgroundColor:{defaultValue:null,description:"",name:"selectedBackgroundColor",required:!0,type:{name:"string"}},dragLineColor:{defaultValue:null,description:"",name:"dragLineColor",required:!0,type:{name:"string"}},selectedColor:{defaultValue:null,description:"",name:"selectedColor",required:!0,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"string"}},hoverColor:{defaultValue:null,description:"",name:"hoverColor",required:!0,type:{name:"string"}},hoverBackgroundColor:{defaultValue:null,description:"",name:"hoverBackgroundColor",required:!0,type:{name:"string"}},cutColor:{defaultValue:null,description:"",name:"cutColor",required:!0,type:{name:"string"}},BLOCK_HEIGHT:{defaultValue:null,description:"",name:"BLOCK_HEIGHT",required:!0,type:{name:"number"}},FONT_SIZE:{defaultValue:null,description:"",name:"FONT_SIZE",required:!0,type:{name:"number"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"string | null"}},showMoreButton:{defaultValue:null,description:"",name:"showMoreButton",required:!0,type:{name:"boolean"}},showIcon:{defaultValue:null,description:"",name:"showIcon",required:!0,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!0,type:{name:"boolean"}},showChildNum:{defaultValue:null,description:"",name:"showChildNum",required:!0,type:{name:"boolean"}},handleClickNode:{defaultValue:null,description:"",name:"handleClickNode",required:!0,type:{name:"Function"}},handleDbClickNode:{defaultValue:null,description:"",name:"handleDbClickNode",required:!0,type:{name:"Function"}},handleClickExpand:{defaultValue:null,description:"",name:"handleClickExpand",required:!0,type:{name:"Function"}},handleClickIcon:{defaultValue:null,description:"",name:"handleClickIcon",required:!0,type:{name:"Function"}},handleClickDot:{defaultValue:null,description:"",name:"handleClickDot",required:!0,type:{name:"Function"}},showInput:{defaultValue:null,description:"",name:"showInput",required:!0,type:{name:"boolean"}},handleChangeNodeText:{defaultValue:null,description:"",name:"handleChangeNodeText",required:!0,type:{name:"Function"}},handleDrop:{defaultValue:null,description:"",name:"handleDrop",required:!0,type:{name:"Function"}},pasteNodeKey:{defaultValue:null,description:"",name:"pasteNodeKey",required:!0,type:{name:"string | null"}},compId:{defaultValue:null,description:"",name:"compId",required:!0,type:{name:"string"}},collapseMode:{defaultValue:null,description:"",name:"collapseMode",required:!1,type:{name:"boolean"}},collapseModeCollapsed:{defaultValue:null,description:"",name:"collapseModeCollapsed",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/nodeItem/MobileItem.tsx#MobileItem"]={docgenInfo:MobileItem_MobileItem.__docgenInfo,name:"MobileItem",path:"src/components/nodeItem/MobileItem.tsx#MobileItem"})}catch(__react_docgen_typescript_loader_error){}function MobileTree_slicedToArray(arr,i){return function MobileTree_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function MobileTree_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function MobileTree_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return MobileTree_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MobileTree_arrayLikeToArray(o,minLen)}(arr,i)||function MobileTree_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MobileTree_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var MobileTree_isMac=/macintosh|mac os x/i.test(navigator.userAgent),MobileTree_MobileTree=react_default.a.forwardRef((function(_ref,ref){var clickTimeId,nodes=_ref.nodes,startId=_ref.startId,_ref$backgroundColor=_ref.backgroundColor,backgroundColor=void 0===_ref$backgroundColor?"#FFF":_ref$backgroundColor,_ref$selectedBackgrou=_ref.selectedBackgroundColor,selectedBackgroundColor=void 0===_ref$selectedBackgrou?"#ededed":_ref$selectedBackgrou,_ref$dragLineColor=_ref.dragLineColor,dragLineColor=void 0===_ref$dragLineColor?"#00CDD3":_ref$dragLineColor,_ref$color=_ref.color,color=void 0===_ref$color?"#595959":_ref$color,_ref$selectedColor=_ref.selectedColor,selectedColor=void 0===_ref$selectedColor?"#1CA8B3":_ref$selectedColor,_ref$hoverColor=_ref.hoverColor,hoverColor=void 0===_ref$hoverColor?"#595959":_ref$hoverColor,_ref$hoverBackgroundC=_ref.hoverBackgroundColor,hoverBackgroundColor=void 0===_ref$hoverBackgroundC?"#f0f0f0":_ref$hoverBackgroundC,cutColor=_ref.cutColor,defaultSelectedId=_ref.defaultSelectedId,_ref$uncontrolled=_ref.uncontrolled,uncontrolled=void 0===_ref$uncontrolled||_ref$uncontrolled,_ref$itemHeight=_ref.itemHeight,itemHeight=void 0===_ref$itemHeight?30:_ref$itemHeight,_ref$topBottomMargin=_ref.topBottomMargin,topBottomMargin=void 0===_ref$topBottomMargin?5:_ref$topBottomMargin,_ref$lineHeight=_ref.lineHeight,lineHeight=void 0===_ref$lineHeight?20:_ref$lineHeight,_ref$fontSize=_ref.fontSize,fontSize=void 0===_ref$fontSize?14:_ref$fontSize,_ref$indent=_ref.indent,indent=void 0===_ref$indent?18:_ref$indent,disableShortcut=_ref.disableShortcut,disabled=_ref.disabled,showMoreButton=_ref.showMoreButton,_ref$showIcon=_ref.showIcon,showIcon=void 0===_ref$showIcon||_ref$showIcon,_ref$showChildNum=_ref.showChildNum,showChildNum=void 0!==_ref$showChildNum&&_ref$showChildNum,handleClickExpand=_ref.handleClickExpand,handleClickNode=_ref.handleClickNode,handleDbClickNode=_ref.handleDbClickNode,handleClickIcon=_ref.handleClickIcon,handleClickDot=_ref.handleClickDot,handleChangeNodeText=_ref.handleChangeNodeText,handleAddNext=_ref.handleAddNext,handleAddChild=_ref.handleAddChild,handleDeleteNode=_ref.handleDeleteNode,handleShiftUpDown=_ref.handleShiftUpDown,handlePaste=_ref.handlePaste,handleDrag=_ref.handleDrag,collapseMode=_ref.collapseMode,_useState2=MobileTree_slicedToArray(Object(react.useState)(nodes),2),nodeMap=_useState2[0],setNodeMap=_useState2[1],_useState4=MobileTree_slicedToArray(Object(react.useState)([]),2),cnodes=_useState4[0],setcnodes=_useState4[1],_useState6=MobileTree_slicedToArray(Object(react.useState)(null),2),selectedId=_useState6[0],setselectedId=_useState6[1],_useState8=MobileTree_slicedToArray(Object(react.useState)(!1),2),showInput=_useState8[0],setshowInput=_useState8[1],_useState10=MobileTree_slicedToArray(Object(react.useState)(!1),2),showNewInput=_useState10[0],setshowNewInput=_useState10[1],_useState12=MobileTree_slicedToArray(Object(react.useState)(null),2),pasteNodeKey=_useState12[0],setPasteNodeKey=_useState12[1],_useState14=MobileTree_slicedToArray(Object(react.useState)(null),2),pasteType=_useState14[0],setPasteType=_useState14[1],_useState16=MobileTree_slicedToArray(Object(react.useState)(""),2),compId=_useState16[0],setCompId=_useState16[1],containerRef=Object(react.useRef)(null),_useState18=MobileTree_slicedToArray(Object(react.useState)(startId),2),expandedNodeKey=_useState18[0],setExpandedNodeKey=_useState18[1],_useState20=MobileTree_slicedToArray(Object(react.useState)([]),2),ancestorList=_useState20[0],setAncestorList=_useState20[1];function clickNode(node){clearTimeout(clickTimeId),clickTimeId=setTimeout((function(){setselectedId(node._key),handleClickNode&&handleClickNode(node)}),250)}function dbClickNode(node){disabled||node.disabled||(clearTimeout(clickTimeId),setselectedId(node._key),setshowInput(!0),handleDbClickNode&&handleDbClickNode(node))}function handleExpand(node){if(collapseMode)expandedNodeKey===node._key?setExpandedNodeKey(node.father||null):(setExpandedNodeKey(node._key),handleClickExpand&&node.contract&&handleClickExpand(node));else{if(uncontrolled){var _nodes=util_dot(nodeMap,node._key);setNodeMap(_nodes)}handleClickExpand&&handleClickExpand(node)}}function clickIcon(node){handleClickIcon&&handleClickIcon(node)}function changeText(nodeId,text){if(setshowInput(!1),setshowNewInput(!1),uncontrolled){var _nodes2=changeNodeText(nodeMap,nodeId,text);setNodeMap(_nodes2)}handleChangeNodeText&&handleChangeNodeText(nodeId,text),containerRef&&containerRef.current&&containerRef.current.focus()}function addNext(){if(selectedId){if(selectedId===startId)return alert("根节点无法添加兄弟节点！");if(uncontrolled){var res=addNextNode(nodeMap,selectedId);handleAddNext&&handleAddNext(selectedId,res.addedNode),setselectedId(res.addedNode._key),setNodeMap(res.nodes),setshowInput(!0)}else handleAddNext&&handleAddNext(selectedId)}}function addChild(){if(selectedId)if(uncontrolled){var res=addChildNode(nodeMap,selectedId);handleAddChild&&handleAddChild(selectedId,res.addedNode),setExpandedNodeKey(selectedId),setselectedId(res.addedNode._key),setNodeMap(res.nodes),setshowInput(!0)}else handleAddChild&&handleAddChild(selectedId)}function deletenode(){if(selectedId){if(selectedId===startId)return alert("根节点不允许删除！");if(uncontrolled){var res=deleteNode(nodeMap,selectedId);handleDeleteNode&&handleDeleteNode(selectedId),setselectedId(null),setNodeMap(res.nodes)}else handleDeleteNode&&handleDeleteNode(selectedId)}}function saveNodes(){return nodeMap}function handleKeyDown(event){if(!(disabled||disableShortcut||showInput||showNewInput)){event.preventDefault();var commandKey=MobileTree_isMac?event.metaKey:event.ctrlKey;switch(event.key){case"Enter":addNext();break;case"Tab":addChild();break;case"Delete":case"Backspace":deletenode();break;case"ArrowUp":event.shiftKey&&function shiftUp(){if(selectedId){var res=changeSortList(nodeMap,selectedId,"up");res&&(uncontrolled?setNodeMap(res.nodes):handleShiftUpDown&&handleShiftUpDown(selectedId,res.brotherKeys,"up"))}}();break;case"ArrowDown":event.shiftKey&&function shiftDown(){if(selectedId){var res=changeSortList(nodeMap,selectedId,"down");res&&(uncontrolled?setNodeMap(res.nodes):handleShiftUpDown&&handleShiftUpDown(selectedId,res.brotherKeys,"down"))}}();break;case"c":commandKey&&selectedId&&(setPasteNodeKey(selectedId),setPasteType("copy"));break;case"x":if(commandKey&&selectedId){if(selectedId===startId)return setPasteNodeKey(null),void setPasteType(null);setPasteNodeKey(selectedId),setPasteType("cut")}break;case"v":if(commandKey&&pasteType&&pasteNodeKey&&selectedId){if(uncontrolled){var res=pasteNode(nodeMap,pasteNodeKey,pasteType,selectedId);res&&setNodeMap(res)}else handlePaste&&handlePaste(pasteNodeKey,pasteType,selectedId);setPasteNodeKey(null),setPasteType(null)}}}}function handleDrop(){var dragNodeId=sessionStorage.getItem("dragNodeId"),dropNodeId=sessionStorage.getItem("dropNodeId"),placement=sessionStorage.getItem("placement");if(dragNodeId&&dropNodeId){var dragInfo={dragNodeId:dragNodeId,dropNodeId:dropNodeId,placement:placement};if(uncontrolled){var res=dragSort(nodeMap,dragNodeId,dropNodeId,dragInfo.placement);res&&setNodeMap(res)}else handleDrag&&handleDrag(dragNodeId,dragInfo)}}function clickDot(node){handleClickDot&&handleClickDot(node)}return Object(react.useImperativeHandle)(ref,(function(){return{deleteNode:deletenode,saveNodes:saveNodes,addNext:addNext,addChild:addChild,rename:function rename(){selectedId&&setshowInput(!0)},clearSelect:function clearSelect(){setselectedId(null)}}})),Object(react.useEffect)((function(){setCompId(guid(8,16))}),[]),Object(react.useEffect)((function(){setNodeMap(nodes)}),[nodes]),Object(react.useEffect)((function(){if(console.log("根据nodeMap计算渲染所需数据"),nodeMap[startId]){var cal=calculate(nodeMap,startId,!0,itemHeight,topBottomMargin,lineHeight,indent,fontSize,3e3,showIcon,!1,11,1,1,0,0,void 0,collapseMode,expandedNodeKey);cal&&(cal.nodes.sort((function(a,b){return a.y-b.y})),setcnodes(cal.nodes))}}),[nodeMap,startId,expandedNodeKey]),Object(react.useEffect)((function(){if(collapseMode&&expandedNodeKey&&nodeMap[expandedNodeKey]){var _ancestorList=getAncestor(nodes[expandedNodeKey],nodes,!0);setAncestorList(_ancestorList)}}),[nodeMap,expandedNodeKey]),Object(react.useEffect)((function(){defaultSelectedId&&(setselectedId(defaultSelectedId),nodeMap&&nodeMap[defaultSelectedId]&&setExpandedNodeKey(nodeMap[defaultSelectedId].father))}),[defaultSelectedId]),Object(jsx_runtime.jsx)("div",{className:"menu-wrapper",style:{position:"relative",outline:"none",width:"100%",backgroundColor:backgroundColor},tabIndex:-1,ref:containerRef,onKeyDown:function onKeyDown(e){return handleKeyDown(e)},children:cnodes.map((function(node,index){return Object(jsx_runtime.jsx)(nodeItem_MobileItem,{startId:startId,indent:indent,node:node,BLOCK_HEIGHT:2*topBottomMargin+lineHeight,FONT_SIZE:fontSize,selectedBackgroundColor:selectedBackgroundColor,dragLineColor:dragLineColor,color:color,selectedColor:selectedColor,hoverColor:hoverColor,hoverBackgroundColor:hoverBackgroundColor,selected:selectedId,showIcon:showIcon,disabled:disabled||!1,showChildNum:showChildNum,cutColor:cutColor||"rgba(255,255,255,0.5)",pasteNodeKey:"cut"===pasteType?pasteNodeKey:null,showMoreButton:!(!showMoreButton||disabled),handleClickNode:clickNode,handleDbClickNode:dbClickNode,handleClickExpand:handleExpand,showInput:(showInput||showNewInput)&&selectedId===node._key,handleChangeNodeText:changeText,handleClickIcon:clickIcon,handleDrop:handleDrop,handleClickDot:clickDot,compId:compId,collapseMode:collapseMode,collapseModeCollapsed:collapseMode?!expandedNodeKey||!ancestorList.includes(node._key):void 0},index+"_"+node._key)}))})}));try{MobileTree_MobileTree.displayName="MobileTree",MobileTree_MobileTree.__docgenInfo={description:"",displayName:"MobileTree",props:{nodes:{defaultValue:null,description:"",name:"nodes",required:!0,type:{name:"NodeMap"}},startId:{defaultValue:null,description:"",name:"startId",required:!0,type:{name:"string"}},defaultSelectedId:{defaultValue:null,description:"",name:"defaultSelectedId",required:!1,type:{name:"string"}},uncontrolled:{defaultValue:{value:"true"},description:"",name:"uncontrolled",required:!1,type:{name:"boolean"}},itemHeight:{defaultValue:{value:"30"},description:"",name:"itemHeight",required:!1,type:{name:"number"}},topBottomMargin:{defaultValue:{value:"5"},description:"",name:"topBottomMargin",required:!1,type:{name:"number"}},lineHeight:{defaultValue:{value:"20"},description:"",name:"lineHeight",required:!1,type:{name:"number"}},fontSize:{defaultValue:{value:"14"},description:"",name:"fontSize",required:!1,type:{name:"number"}},indent:{defaultValue:{value:"18"},description:"",name:"indent",required:!1,type:{name:"number"}},avatarWidth:{defaultValue:null,description:"",name:"avatarWidth",required:!1,type:{name:"number"}},checkBoxWidth:{defaultValue:null,description:"",name:"checkBoxWidth",required:!1,type:{name:"number"}},disableShortcut:{defaultValue:null,description:"",name:"disableShortcut",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},showIcon:{defaultValue:{value:"true"},description:"",name:"showIcon",required:!1,type:{name:"boolean"}},backgroundColor:{defaultValue:{value:"#FFF"},description:"",name:"backgroundColor",required:!1,type:{name:"string"}},color:{defaultValue:{value:"#595959"},description:"",name:"color",required:!1,type:{name:"string"}},selectedBackgroundColor:{defaultValue:{value:"#ededed"},description:"",name:"selectedBackgroundColor",required:!1,type:{name:"string"}},handleClickExpand:{defaultValue:null,description:"",name:"handleClickExpand",required:!1,type:{name:"Function"}},handleClickNode:{defaultValue:null,description:"",name:"handleClickNode",required:!1,type:{name:"Function"}},handleDbClickNode:{defaultValue:null,description:"",name:"handleDbClickNode",required:!1,type:{name:"Function"}},handleChangeNodeText:{defaultValue:null,description:"",name:"handleChangeNodeText",required:!1,type:{name:"Function"}},handleAddNext:{defaultValue:null,description:"",name:"handleAddNext",required:!1,type:{name:"Function"}},handleAddChild:{defaultValue:null,description:"",name:"handleAddChild",required:!1,type:{name:"Function"}},handleDeleteNode:{defaultValue:null,description:"",name:"handleDeleteNode",required:!1,type:{name:"Function"}},handleClickDot:{defaultValue:null,description:"",name:"handleClickDot",required:!1,type:{name:"Function"}},handleShiftUpDown:{defaultValue:null,description:"",name:"handleShiftUpDown",required:!1,type:{name:"Function"}},handleDrag:{defaultValue:null,description:"",name:"handleDrag",required:!1,type:{name:"Function"}},handlePaste:{defaultValue:null,description:"",name:"handlePaste",required:!1,type:{name:"Function"}},dragLineColor:{defaultValue:{value:"#00CDD3"},description:"",name:"dragLineColor",required:!1,type:{name:"string"}},selectedColor:{defaultValue:{value:"#1CA8B3"},description:"",name:"selectedColor",required:!1,type:{name:"string"}},hoverColor:{defaultValue:{value:"#595959"},description:"",name:"hoverColor",required:!1,type:{name:"string"}},hoverBackgroundColor:{defaultValue:{value:"#f0f0f0"},description:"",name:"hoverBackgroundColor",required:!1,type:{name:"string"}},cutColor:{defaultValue:null,description:"",name:"cutColor",required:!1,type:{name:"string"}},showMoreButton:{defaultValue:null,description:"",name:"showMoreButton",required:!1,type:{name:"boolean"}},showChildNum:{defaultValue:{value:"false"},description:"",name:"showChildNum",required:!1,type:{name:"boolean"}},handleClickIcon:{defaultValue:null,description:"",name:"handleClickIcon",required:!1,type:{name:"Function"}},collapseMode:{defaultValue:null,description:"",name:"collapseMode",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/MobileTree.tsx#MobileTree"]={docgenInfo:MobileTree_MobileTree.__docgenInfo,name:"MobileTree",path:"src/MobileTree.tsx#MobileTree"})}catch(__react_docgen_typescript_loader_error){}var ImageSlides_interval;__webpack_require__("./src/slides.css");function ImageSlides_slicedToArray(arr,i){return function ImageSlides_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function ImageSlides_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function ImageSlides_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return ImageSlides_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ImageSlides_arrayLikeToArray(o,minLen)}(arr,i)||function ImageSlides_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ImageSlides_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ImageSlides(_ref){var _containerRef$current2,imageList=_ref.imageList,containerRef=Object(react.useRef)(null),buttonRef=Object(react.useRef)(null),_useState2=ImageSlides_slicedToArray(Object(react.useState)(0),2),slideWidth=_useState2[0],setSlideWidth=_useState2[1],_useState4=ImageSlides_slicedToArray(Object(react.useState)(0),2),slideHeight=_useState4[0],setSlideHeight=_useState4[1],_useState6=ImageSlides_slicedToArray(Object(react.useState)(0),2),currentPage=_useState6[0],setCurrentPage=_useState6[1],_useState8=ImageSlides_slicedToArray(Object(react.useState)(0),2),translateX=_useState8[0],setTranslateX=_useState8[1],_useState10=ImageSlides_slicedToArray(Object(react.useState)(!0),2),transition=_useState10[0],setTransition=_useState10[1];Object(react.useEffect)((function(){var _containerRef$current;null!=containerRef&&null!==(_containerRef$current=containerRef.current)&&void 0!==_containerRef$current&&_containerRef$current.clientWidth&&(containerRef.current.focus(),setSlideWidth(containerRef.current.clientWidth),setSlideHeight(containerRef.current.clientHeight))}),[null==containerRef||null===(_containerRef$current2=containerRef.current)||void 0===_containerRef$current2?void 0:_containerRef$current2.clientWidth]),Object(react.useEffect)((function(){setTransition(!1),setCurrentPage(0)}),[imageList]),Object(react.useEffect)((function(){slideWidth&&setTranslateX(-slideWidth)}),[currentPage,slideWidth]),Object(react.useEffect)((function(){return imageList.length>1&&buttonRef&&buttonRef.current&&(ImageSlides_interval=setInterval((function(){var _buttonRef$current;null===(_buttonRef$current=buttonRef.current)||void 0===_buttonRef$current||_buttonRef$current.click()}),3e3)),function(){return clearInterval(ImageSlides_interval)}}),[imageList.length,buttonRef]);return Object(jsx_runtime.jsxs)("div",{ref:containerRef,style:{width:"100%",height:"100%",backgroundColor:"inherit",outline:"none",overflow:"hidden"},children:[slideWidth?Object(jsx_runtime.jsxs)("div",{style:{width:"100%",height:"100%",display:"flex",transform:"translateX("+translateX+"px)",transition:transition?"transform 0.8s ease-in-out":"unset"},children:[currentPage-1>=0?Object(jsx_runtime.jsx)(ImageSlide,{width:slideWidth+"px",height:slideHeight+"px",style:{flexShrink:0},image:imageList[currentPage-1]}):Object(jsx_runtime.jsx)(ImageSlide,{width:slideWidth+"px",height:slideHeight+"px",style:{flexShrink:0},image:imageList[imageList.length-1]}),Object(jsx_runtime.jsx)(ImageSlide,{width:slideWidth+"px",height:slideHeight+"px",style:{flexShrink:0},image:imageList[currentPage]}),currentPage+1<imageList.length?Object(jsx_runtime.jsx)(ImageSlide,{width:slideWidth+"px",height:slideHeight+"px",style:{flexShrink:0},image:imageList[currentPage+1]}):Object(jsx_runtime.jsx)(ImageSlide,{width:slideWidth+"px",height:slideHeight+"px",style:{flexShrink:0},image:imageList[0]})]}):null,Object(jsx_runtime.jsx)("div",{style:{display:"none"},ref:buttonRef,onClick:function onClick(){return function nextPage(currentPage){transition||(setTransition(!0),setTranslateX((function(prevX){return prevX-slideWidth})),setTimeout((function(){setTransition(!1),setCurrentPage((function(prevPage){return currentPage+1<imageList.length?prevPage+1:0}))}),800))}(currentPage)}})]})}function ImageSlide(_ref2){var image=_ref2.image,width=_ref2.width,height=_ref2.height,style=_ref2.style;return Object(jsx_runtime.jsxs)("div",{style:Object.assign({width:width,height:height,display:"flex",flexDirection:"column",alignItems:"center"},style),children:[Object(jsx_runtime.jsx)("div",{style:{flex:1,width:"100%",backgroundImage:"url("+(null==image?void 0:image.url)+")",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),Object(jsx_runtime.jsx)("span",{style:{padding:"5px 0",color:"#A9A9A9"},children:null==image?void 0:image.name})]})}ImageSlides.displayName="ImageSlides",ImageSlide.displayName="ImageSlide";try{ImageSlides.displayName="ImageSlides",ImageSlides.__docgenInfo={description:"",displayName:"ImageSlides",props:{imageList:{defaultValue:null,description:"",name:"imageList",required:!0,type:{name:"Attach[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/slide/ImageSlides.tsx#ImageSlides"]={docgenInfo:ImageSlides.__docgenInfo,name:"ImageSlides",path:"src/components/slide/ImageSlides.tsx#ImageSlides"})}catch(__react_docgen_typescript_loader_error){}function Title(_ref){var _slide$imageList,_slide$subTitleList,_slide$imageList2,slide=_ref.slide,active=_ref.active,thumbnailMode=_ref.thumbnailMode,showImage=null===(_slide$imageList=slide.imageList)||void 0===_slide$imageList?void 0:_slide$imageList.length,path=slide.paths.join(" > ");return Object(jsx_runtime.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%",boxSizing:"border-box",padding:"25px 45px",display:"flex",justifyContent:"center",fontWeight:500,overflow:"hidden"},children:[Object(jsx_runtime.jsx)("div",{style:{position:"absolute",top:"15px",left:"15px",fontSize:"2vh"},children:path}),Object(jsx_runtime.jsxs)("div",{style:{width:showImage?"50%":thumbnailMode?"unset":"100%",maxWidth:"60vw",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:showImage||thumbnailMode?"center":"flex-start"},children:["link"===slide.type&&slide.url?Object(jsx_runtime.jsx)("a",{href:slide.url,target:"_blank",style:{fontSize:"8vh",color:"#1CA8B3"},children:slide.title}):Object(jsx_runtime.jsx)("span",{style:{fontSize:"8vh"},children:slide.title}),null!==(_slide$subTitleList=slide.subTitleList)&&void 0!==_slide$subTitleList&&_slide$subTitleList.length?Object(jsx_runtime.jsx)("ul",{children:slide.subTitleList.map((function(item,index){return Object(jsx_runtime.jsx)("li",{style:{fontSize:"4vh"},children:"link"===item.type&&item.url?Object(jsx_runtime.jsx)("a",{href:item.url,target:"_blank",style:{color:"#1CA8B3"},children:item.title}):item.title},index)}))}):null,thumbnailMode&&slide.icon?Object(jsx_runtime.jsx)("i",{style:{width:"50vh",height:"50vh",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundImage:"url("+slide.icon+")",marginTop:"5vh"}}):null]}),null!==(_slide$imageList2=slide.imageList)&&void 0!==_slide$imageList2&&_slide$imageList2.length?Object(jsx_runtime.jsx)("div",{style:{width:"50%"},children:Object(jsx_runtime.jsx)(ImageSlides,{imageList:active?slide.imageList:[slide.imageList[0]]})}):null]})}Title.displayName="Title";try{Title.displayName="Title",Title.__docgenInfo={description:"",displayName:"Title",props:{slide:{defaultValue:null,description:"",name:"slide",required:!0,type:{name:"SlideType"}},active:{defaultValue:null,description:"",name:"active",required:!1,type:{name:"boolean"}},thumbnailMode:{defaultValue:null,description:"",name:"thumbnailMode",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/slide/Title.tsx#Title"]={docgenInfo:Title.__docgenInfo,name:"Title",path:"src/components/slide/Title.tsx#Title"})}catch(__react_docgen_typescript_loader_error){}function Loading(){return Object(jsx_runtime.jsx)("div",{style:{position:"absolute",top:0,right:0,bottom:0,left:0,display:"flex",justifyContent:"center",alignItems:"center",zIndex:999},children:Object(jsx_runtime.jsx)("span",{style:{fontSize:"18px"},children:"加载中……"})})}function Webview_slicedToArray(arr,i){return function Webview_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function Webview_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function Webview_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return Webview_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Webview_arrayLikeToArray(o,minLen)}(arr,i)||function Webview_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Webview_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function Webview(_ref){var uri=_ref.uri,id=_ref.id,_useState2=Webview_slicedToArray(Object(react.useState)(!0),2),loading=_useState2[0],setloading=_useState2[1],iframeRef=Object(react.useRef)(null);return Object(jsx_runtime.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%"},children:[Object(jsx_runtime.jsx)("iframe",{id:id||"web-view",ref:iframeRef,name:"frame-container",className:"web-view",title:window.name,src:uri,frameBorder:"0",width:"100%",height:"100%",allowFullScreen:!0,onLoad:function handleOnload(){setloading(!1)}}),loading?Object(jsx_runtime.jsx)(Loading,{}):null]})}Loading.displayName="Loading",Webview.displayName="Webview";try{Webview.displayName="Webview",Webview.__docgenInfo={description:"",displayName:"Webview",props:{uri:{defaultValue:null,description:"",name:"uri",required:!0,type:{name:"string"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/common/Webview.tsx#Webview"]={docgenInfo:Webview.__docgenInfo,name:"Webview",path:"src/components/common/Webview.tsx#Webview"})}catch(__react_docgen_typescript_loader_error){}function Slide(_ref){var slide=_ref.slide,_ref$width=_ref.width,width=void 0===_ref$width?"100%":_ref$width,_ref$height=_ref.height,height=void 0===_ref$height?"100%":_ref$height,style=_ref.style,active=_ref.active,thumbnailMode=_ref.thumbnailMode;return Object(jsx_runtime.jsxs)("div",{style:Object.assign({width:width,height:height,boxSizing:"border-box"},style),children:[slide.url&&!thumbnailMode?"link"===slide.type&&slide.linkType?Object(jsx_runtime.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(jsx_runtime.jsx)("iframe",{src:slide.url,scrolling:"no",frameBorder:"0",allowFullScreen:!0,width:"wangyiyun"===slide.linkType?"360px":width,height:"wangyiyun"===slide.linkType?"85px":height})}):Object(jsx_runtime.jsx)(Webview,{uri:slide.url}):Object(jsx_runtime.jsx)(Title,{slide:slide,active:active,thumbnailMode:thumbnailMode}),active?null:Object(jsx_runtime.jsx)("div",{style:{width:"100%",height:"100%",position:"absolute",top:0,left:0}})]})}Slide.displayName="Slide";try{Slide.displayName="Slide",Slide.__docgenInfo={description:"",displayName:"Slide",props:{slide:{defaultValue:null,description:"",name:"slide",required:!0,type:{name:"SlideType"}},width:{defaultValue:{value:"100%"},description:"",name:"width",required:!1,type:{name:"string"}},height:{defaultValue:{value:"100%"},description:"",name:"height",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"object"}},active:{defaultValue:null,description:"",name:"active",required:!1,type:{name:"boolean"}},thumbnailMode:{defaultValue:null,description:"",name:"thumbnailMode",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/slide/Slide.tsx#Slide"]={docgenInfo:Slide.__docgenInfo,name:"Slide",path:"src/components/slide/Slide.tsx#Slide"})}catch(__react_docgen_typescript_loader_error){}var slideService_getAncestor=function getAncestor(node,nodeMap,includeSelf){var ancestorList=includeSelf?[node.name]:[];return function getFather(node){var father=nodeMap[node.father];father&&(ancestorList.unshift(father.name),getFather(father))}(node),ancestorList},index_es=__webpack_require__("./node_modules/react-tooltip/dist/index.es.js");function SlidePlay_slicedToArray(arr,i){return function SlidePlay_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function SlidePlay_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function SlidePlay_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return SlidePlay_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SlidePlay_arrayLikeToArray(o,minLen)}(arr,i)||function SlidePlay_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SlidePlay_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function SlidePlay(_ref){var _containerRef$current,slideList=_ref.slideList,currentPage=_ref.currentPage,changePage=_ref.changePage,color=_ref.color,style=_ref.style,containerRef=Object(react.useRef)(null),_useState2=SlidePlay_slicedToArray(Object(react.useState)(0),2),slideWidth=_useState2[0],setSlideWidth=_useState2[1],_useState4=SlidePlay_slicedToArray(Object(react.useState)(0),2),slideHeight=_useState4[0],setSlideHeight=_useState4[1],_useState6=SlidePlay_slicedToArray(Object(react.useState)(0),2),translateX=_useState6[0],setTranslateX=_useState6[1],_useState8=SlidePlay_slicedToArray(Object(react.useState)(!1),2),transition=_useState8[0],setTransition=_useState8[1],_useState10=SlidePlay_slicedToArray(Object(react.useState)(!1),2),hoverPrev=_useState10[0],setHoverPrev=_useState10[1],_useState12=SlidePlay_slicedToArray(Object(react.useState)(!1),2),hoverNext=_useState12[0],setHoverNext=_useState12[1];Object(react.useEffect)((function(){containerRef&&containerRef.current&&containerRef.current.clientWidth&&(containerRef.current.focus(),setSlideWidth(containerRef.current.clientWidth),setSlideHeight(containerRef.current.clientHeight),setTranslateX(-containerRef.current.clientWidth*currentPage))}),[null==containerRef||null===(_containerRef$current=containerRef.current)||void 0===_containerRef$current?void 0:_containerRef$current.clientWidth]);var nextPage=function nextPage(){transition||currentPage+1<slideList.length&&(setTransition(!0),setTranslateX((function(prevX){return prevX-slideWidth})),setTimeout((function(){setTransition(!1),changePage(currentPage+1)}),800))},prevPage=function prevPage(){transition||currentPage-1>=0&&(setTransition(!0),setTranslateX((function(prevX){return prevX+slideWidth})),setTimeout((function(){setTransition(!1),changePage(currentPage-1)}),800))};return Object(jsx_runtime.jsxs)("div",{ref:containerRef,style:Object.assign({position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"inherit",outline:"none",overflow:"hidden"},style),tabIndex:-1,onKeyDown:function onKeyDown(e){return function handleKeyDown(event){switch(event.preventDefault(),event.key){case"ArrowRight":nextPage();break;case"ArrowLeft":prevPage()}}(e)},children:[Object(jsx_runtime.jsx)("div",{style:{display:"flex",transform:"translateX("+translateX+"px)",transition:transition?"transform 0.8s ease-in-out":"unset"},children:slideList.map((function(slide,index){return Object(jsx_runtime.jsx)(Slide,{width:slideWidth+"px",height:slideHeight+"px",style:{flexShrink:0},slide:slide,active:index===currentPage},index)}))}),Object(jsx_runtime.jsxs)("div",{style:{width:"12vh",position:"absolute",right:"2vh",bottom:"2vh",display:"flex",justifyContent:"space-between",zIndex:999},children:[Object(jsx_runtime.jsx)("div",{style:{cursor:"pointer",filter:hoverPrev?"unset":"opacity(0.5)"},onClick:prevPage,onMouseEnter:function onMouseEnter(){return setHoverPrev(!0)},onMouseLeave:function onMouseLeave(){return setHoverPrev(!1)},children:Object(jsx_runtime.jsx)(components_icon,{name:"prev",fill:color,width:"5vh",height:"5vh"})}),Object(jsx_runtime.jsx)("div",{style:{cursor:"pointer",filter:hoverNext?"unset":"opacity(0.5)"},onClick:nextPage,onMouseEnter:function onMouseEnter(){return setHoverNext(!0)},onMouseLeave:function onMouseLeave(){return setHoverNext(!1)},children:Object(jsx_runtime.jsx)(components_icon,{name:"next",fill:color,width:"5vh",height:"5vh"})})]})]})}SlidePlay.displayName="SlidePlay";try{SlidePlay.displayName="SlidePlay",SlidePlay.__docgenInfo={description:"",displayName:"SlidePlay",props:{slideList:{defaultValue:null,description:"",name:"slideList",required:!0,type:{name:"SlideType[]"}},currentPage:{defaultValue:null,description:"",name:"currentPage",required:!0,type:{name:"number"}},changePage:{defaultValue:null,description:"",name:"changePage",required:!0,type:{name:"ChangePageFunc"}},color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/slide/SlidePlay.tsx#SlidePlay"]={docgenInfo:SlidePlay.__docgenInfo,name:"SlidePlay",path:"src/components/slide/SlidePlay.tsx#SlidePlay"})}catch(__react_docgen_typescript_loader_error){}var screenfull=__webpack_require__("./node_modules/screenfull/dist/screenfull.js"),screenfull_default=__webpack_require__.n(screenfull);function Slides_slicedToArray(arr,i){return function Slides_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function Slides_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function Slides_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return Slides_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Slides_arrayLikeToArray(o,minLen)}(arr,i)||function Slides_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Slides_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var Slides_Slides=function Slides(_ref){var _nodes$startId,nodes=_ref.nodes,startId=_ref.startId,getNodeUrl=_ref.getNodeUrl,_ref$themeColor=_ref.themeColor,themeColor=void 0===_ref$themeColor?"#1CA8B3":_ref$themeColor,_ref$bright=_ref.bright,bright=void 0===_ref$bright||_ref$bright,containerRef=Object(react.useRef)(null),_useState2=Slides_slicedToArray(Object(react.useState)([]),2),slideList=_useState2[0],setSlideList=_useState2[1],_useState4=Slides_slicedToArray(Object(react.useState)(0),2),currentPage=_useState4[0],setCurrentPage=_useState4[1],_useState6=Slides_slicedToArray(Object(react.useState)(!1),2),playMode=_useState6[0],setPlayMode=_useState6[1],_useState8=Slides_slicedToArray(Object(react.useState)(bright?"#FFF":"#434343"),2),paperColor=_useState8[0],setpaperColor=_useState8[1],_useState10=Slides_slicedToArray(Object(react.useState)(bright?"#434343":"#FFF"),2),color=_useState10[0],setcolor=_useState10[1],_useState12=Slides_slicedToArray(Object(react.useState)(!1),2),hoverPrev=_useState12[0],setHoverPrev=_useState12[1],_useState14=Slides_slicedToArray(Object(react.useState)(!1),2),hoverNext=_useState14[0],setHoverNext=_useState14[1];function prevPage(){currentPage-1>=0&&setCurrentPage((function(prevPage){return prevPage-1}))}function nextPage(){currentPage+1<slideList.length&&setCurrentPage((function(prevPage){return prevPage+1}))}Object(react.useEffect)((function(){null!=containerRef&&containerRef.current&&containerRef.current.focus()}),[null==containerRef?void 0:containerRef.current]),Object(react.useEffect)((function(){screenfull_default.a.isEnabled&&screenfull_default.a.on("change",(function(){screenfull_default.a.isFullscreen?setTimeout((function(){setPlayMode(!0)}),1e3):setPlayMode(!1)}))}),[]),Object(react.useEffect)((function(){var slideList=function getSlideList(nodes,startId,getNodeUrlFunc){var slideList=[],node=nodes[startId];return node?(function getSlide(node,getNodeUrlFunc){var ancestor=slideService_getAncestor(node,nodes),imageList=[];if(node.attach&&node.attach.length)for(var index=0;index<node.attach.length;index++){var attach=node.attach[index];attach.type.includes("image/")&&imageList.push(attach)}(node._key===startId||imageList.length)&&slideList.push({title:node.name,paths:ancestor,imageList:imageList});var childrenIds=node.sortList;if("doc"===node.type||"file"===node.type||"flexNode"===node.type||"link"===node.type&&node.linkType){var url=getNodeUrlFunc(node);url&&slideList.push({title:node.name,paths:ancestor,url:url,icon:node.icon,type:node.type,linkType:node.linkType})}else{for(var subTitleList=[],_index=0;_index<childrenIds.length;_index++){var nodeKey=childrenIds[_index],_node=nodes[nodeKey];_node&&subTitleList.push({title:_node.name,type:_node.type,url:_node.url})}if(subTitleList.length){var slide={title:node.name,paths:ancestor,subTitleList:subTitleList,type:node.type,url:node.url};slideList.push(slide)}}for(var _index2=0;_index2<childrenIds.length;_index2++){var _nodeKey=childrenIds[_index2],_node2=nodes[_nodeKey];_node2&&getSlide(_node2,getNodeUrlFunc)}}(node,getNodeUrlFunc),slideList):slideList}(nodes,startId,getNodeUrl);setSlideList(slideList)}),[nodes,startId]);return Object(jsx_runtime.jsxs)("div",{className:"tree-graph-react-slides",tabIndex:-1,ref:containerRef,style:{position:"relative",width:"100%",height:"100%",display:"grid",gridTemplateRows:"40px 1fr",backgroundColor:"#f5f5f5",color:"#434343",outline:"none"},onKeyDown:function onKeyDown(e){return function handleKeyDown(event){if(event.preventDefault(),!playMode)switch(event.key){case"ArrowDown":nextPage();break;case"ArrowUp":prevPage()}}(e)},children:[Object(jsx_runtime.jsxs)("div",{style:{padding:"0 15px",display:"flex",alignItems:"center",backgroundColor:"#FFF",borderBottom:"1px solid #eee",boxSizing:"border-box"},children:[Object(jsx_runtime.jsx)("span",{style:{fontSize:"18px"},children:null===(_nodes$startId=nodes[startId])||void 0===_nodes$startId?void 0:_nodes$startId.name}),Object(jsx_runtime.jsx)("div",{style:{flex:1}}),Object(jsx_runtime.jsx)("div",{"data-tip":"#434343"===paperColor?"切换为亮色风格":"切换为暗色风格",style:{cursor:"pointer",height:"29px",marginRight:"15px"},onClick:function handleChangeColor(){"#434343"===paperColor?(setpaperColor("#FFF"),setcolor("#434343")):(setpaperColor("#434343"),setcolor("#FFF"))},children:"#434343"===paperColor?Object(jsx_runtime.jsx)(components_icon,{name:"sun",fill:"#434343"}):Object(jsx_runtime.jsx)(components_icon,{name:"moon",fill:"#434343"})}),Object(jsx_runtime.jsx)("div",{"data-tip":"幻灯片放映",style:{cursor:"pointer",height:"29px"},onClick:function onClick(){slideList.length&&screenfull_default.a.isEnabled&&screenfull_default.a.request()},children:Object(jsx_runtime.jsx)(components_icon,{name:"play",fill:"#434343"})}),Object(jsx_runtime.jsx)(index_es.a,{place:"bottom",type:"dark",effect:"solid"})]}),Object(jsx_runtime.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%",display:"grid",gridTemplateColumns:"230px 1fr",overflow:"hidden"},children:[Object(jsx_runtime.jsx)("div",{style:{width:"100%",height:"100%",borderRight:"1px solid #eee",overflow:"auto",display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"#FFF",boxSizing:"border-box",padding:"15px 0"},children:slideList.map((function(slide,index){return Object(jsx_runtime.jsx)(SlidePreview,{slide:slide,themeColor:themeColor,isActive:index===currentPage,handleClick:function handleClick(){return setCurrentPage(index)},borderColor:"#eee",style:{backgroundColor:paperColor,color:color}},index)}))}),Object(jsx_runtime.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%",boxSizing:"border-box",padding:"35px 45px",overflow:"hidden"},children:[slideList.length?Object(jsx_runtime.jsx)("div",{style:{width:"100%",height:"100%",boxShadow:"0 0 15px 0 rgb(0 0 0 / 10%)"},children:Object(jsx_runtime.jsx)(Slide,{slide:slideList[currentPage],active:!0,style:{backgroundColor:paperColor,color:color}})}):null,playMode?null:Object(jsx_runtime.jsxs)("div",{style:{width:"12vh",position:"absolute",right:"50px",bottom:"40px",display:"flex",justifyContent:"space-between",zIndex:999},children:[Object(jsx_runtime.jsx)("div",{style:{cursor:"pointer",filter:hoverPrev?"unset":"opacity(0.5)"},onClick:prevPage,onMouseEnter:function onMouseEnter(){return setHoverPrev(!0)},onMouseLeave:function onMouseLeave(){return setHoverPrev(!1)},children:Object(jsx_runtime.jsx)(components_icon,{name:"prev",fill:color,width:"5vh",height:"5vh"})}),Object(jsx_runtime.jsx)("div",{style:{cursor:"pointer",filter:hoverNext?"unset":"opacity(0.5)"},onClick:nextPage,onMouseEnter:function onMouseEnter(){return setHoverNext(!0)},onMouseLeave:function onMouseLeave(){return setHoverNext(!1)},children:Object(jsx_runtime.jsx)(components_icon,{name:"next",fill:color,width:"5vh",height:"5vh"})})]})]})]}),playMode?Object(jsx_runtime.jsx)(SlidePlay,{slideList:slideList,currentPage:currentPage,changePage:function changePage(pageNumber){return setCurrentPage(pageNumber)},color:color,style:{backgroundColor:paperColor,color:color}}):null]})};function SlidePreview(_ref2){var slide=_ref2.slide,themeColor=_ref2.themeColor,isActive=_ref2.isActive,handleClick=_ref2.handleClick,borderColor=_ref2.borderColor,style=_ref2.style;return Object(jsx_runtime.jsx)("div",{style:{width:"200px",height:"180px",overflow:"hidden",border:"2px solid "+(isActive?themeColor:borderColor),boxShadow:isActive?"rgb(0 0 0 / 10%) 6px 6px 4px 0":"unset",flexShrink:0,margin:"5px 0"},onClick:function onClick(){return handleClick()},children:Object(jsx_runtime.jsx)(Slide,{slide:slide,width:"1000px",height:"900px",style:Object.assign({transform:"scale(0.2)",transformOrigin:"top left"},style),active:!1,thumbnailMode:!0})})}Slides_Slides.displayName="Slides",SlidePreview.displayName="SlidePreview";try{Slides_Slides.displayName="Slides",Slides_Slides.__docgenInfo={description:"",displayName:"Slides",props:{nodes:{defaultValue:null,description:"",name:"nodes",required:!0,type:{name:"NodeMap"}},startId:{defaultValue:null,description:"",name:"startId",required:!0,type:{name:"string"}},getNodeUrl:{defaultValue:null,description:"",name:"getNodeUrl",required:!0,type:{name:"GetNodeUrlFunc"}},themeColor:{defaultValue:{value:"#1CA8B3"},description:"",name:"themeColor",required:!1,type:{name:"string"}},bright:{defaultValue:{value:"true"},description:"",name:"bright",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Slides.tsx#Slides"]={docgenInfo:Slides_Slides.__docgenInfo,name:"Slides",path:"src/Slides.tsx#Slides"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("./src/treeEditor.css");function AttachItem(_ref){var id=_ref.id,attachIndex=_ref.attachIndex,nodeKey=_ref.nodeKey,attach=_ref.attach,selectedAttachId=_ref.selectedAttachId,themeColor=_ref.themeColor,handleClick=_ref.handleClick,handleDeleteAttach=_ref.handleDeleteAttach,isImage=attach.type.includes("image/");return Object(jsx_runtime.jsx)("div",{style:{width:isImage?"fit-content":"120px",height:"120px",display:"flex",justifyContent:"center",alignItems:"center",border:"2px solid "+(selectedAttachId===id?themeColor:"transparent"),cursor:selectedAttachId===id?"zoom-in":"pointer",marginBottom:"8px",boxSizing:"border-box"},tabIndex:-1,onClick:function clickAttach(){selectedAttachId===id?window.open(attach.url,"__blank"):handleClick(id)},onKeyDown:function handleKeyDown(event){"Backspace"===event.key&&selectedAttachId===id&&handleDeleteAttach(nodeKey,attachIndex)},children:isImage?Object(jsx_runtime.jsx)("img",{draggable:!1,alt:attach.name,src:attach.url,height:"100%"}):Object(jsx_runtime.jsx)(components_icon,{name:"attach",width:"100%",height:"100%"})})}AttachItem.displayName="AttachItem";try{AttachItem.displayName="AttachItem",AttachItem.__docgenInfo={description:"",displayName:"AttachItem",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},attachIndex:{defaultValue:null,description:"",name:"attachIndex",required:!0,type:{name:"number"}},nodeKey:{defaultValue:null,description:"",name:"nodeKey",required:!0,type:{name:"string"}},attach:{defaultValue:null,description:"",name:"attach",required:!0,type:{name:"Attach"}},selectedAttachId:{defaultValue:null,description:"",name:"selectedAttachId",required:!0,type:{name:"string"}},themeColor:{defaultValue:null,description:"",name:"themeColor",required:!0,type:{name:"string"}},handleClick:{defaultValue:null,description:"",name:"handleClick",required:!0,type:{name:"ClickFunc"}},handleDeleteAttach:{defaultValue:null,description:"",name:"handleDeleteAttach",required:!0,type:{name:"HandleDeleteAttach"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/nodeItem/AttachItem.tsx#AttachItem"]={docgenInfo:AttachItem.__docgenInfo,name:"AttachItem",path:"src/components/nodeItem/AttachItem.tsx#AttachItem"})}catch(__react_docgen_typescript_loader_error){}function ClickToUpload(_ref){var nodeKey=_ref.nodeKey,type=_ref.type,handleClickUpload=_ref.handleClickUpload;return Object(jsx_runtime.jsx)("div",{id:"click-to-upload-"+nodeKey,style:{width:"98%",backgroundColor:"#EEECEC",color:"#8c8282",padding:"13px 10px",cursor:"pointer",userSelect:"none",boxSizing:"border-box"},onClick:function onClick(e){return handleClickUpload(nodeKey,e.currentTarget)},children:"file"===type?"点击添加文件":"点击输入链接地址"})}ClickToUpload.displayName="ClickToUpload";try{ClickToUpload.displayName="ClickToUpload",ClickToUpload.__docgenInfo={description:"",displayName:"ClickToUpload",props:{nodeKey:{defaultValue:null,description:"",name:"nodeKey",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"string"}},handleClickUpload:{defaultValue:null,description:"",name:"handleClickUpload",required:!0,type:{name:"HandleClickUpload"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/nodeItem/ClickToUpload.tsx#ClickToUpload"]={docgenInfo:ClickToUpload.__docgenInfo,name:"ClickToUpload",path:"src/components/nodeItem/ClickToUpload.tsx#ClickToUpload"})}catch(__react_docgen_typescript_loader_error){}function FileViewer(_ref){var fileType=_ref.fileType,url=_ref.url,content=null;return fileType.includes("image/")?content=Object(jsx_runtime.jsx)(ImageViewer,{url:url}):fileType.includes("audio/")?content=Object(jsx_runtime.jsx)(MusicPlayer,{url:url}):fileType.includes("video/")&&(content=Object(jsx_runtime.jsx)(VideoPlayer,{url:url})),Object(jsx_runtime.jsx)("div",{style:{width:"100%",cursor:"pointer",userSelect:"none"},children:content})}function ImageViewer(_ref2){var url=_ref2.url;return Object(jsx_runtime.jsx)("img",{alt:"图片预览",src:url,width:"100%",style:{maxWidth:"540px"}})}function MusicPlayer(_ref3){var url=_ref3.url;return Object(jsx_runtime.jsxs)("audio",{controls:!0,src:url,children:["Your browser does not support the",Object(jsx_runtime.jsx)("code",{children:"audio"})," element."]})}function VideoPlayer(_ref4){var url=_ref4.url;return Object(jsx_runtime.jsx)("video",{src:url,controls:!0,width:"100%",style:{maxWidth:"540px"}})}FileViewer.displayName="FileViewer",ImageViewer.displayName="ImageViewer",MusicPlayer.displayName="MusicPlayer",VideoPlayer.displayName="VideoPlayer";try{FileViewer.displayName="FileViewer",FileViewer.__docgenInfo={description:"",displayName:"FileViewer",props:{fileType:{defaultValue:null,description:"",name:"fileType",required:!0,type:{name:"string"}},url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/nodeItem/FileViewer.tsx#FileViewer"]={docgenInfo:FileViewer.__docgenInfo,name:"FileViewer",path:"src/components/nodeItem/FileViewer.tsx#FileViewer"})}catch(__react_docgen_typescript_loader_error){}var LinkViewer_height=util_isMobile()?"178px":"500px";function LinkViewer(_ref){var url=_ref.url,linkType=_ref.linkType,name=_ref.name,note=_ref.note,icon=_ref.icon,_onClick=_ref.onClick;return Object(jsx_runtime.jsx)("div",{style:{flex:1,width:"100%",cursor:"pointer",userSelect:"none",boxSizing:"border-box"},children:linkType?Object(jsx_runtime.jsx)("iframe",{src:url,scrolling:"no",frameBorder:"0",allowFullScreen:!0,width:"100%",height:"wangyiyun"===linkType?"85px":LinkViewer_height,style:{maxWidth:"540px"}}):Object(jsx_runtime.jsxs)("div",{className:"normal-link",style:{width:"100%",padding:"16px",border:"1px solid #DCDCDC",boxSizing:"border-box",borderRadius:"4px"},onClick:function onClick(){_onClick&&_onClick()},children:[Object(jsx_runtime.jsx)("div",{style:{fontSize:"16px",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",color:"#595853",fontWeight:700},children:name}),note?Object(jsx_runtime.jsx)("div",{style:{color:"#878683",fontSize:"12px"},children:note}):null,Object(jsx_runtime.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(jsx_runtime.jsx)("i",{style:{width:"14px",height:"14px",marginRight:"5px",backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundImage:'url("'+icon+'")'}}),Object(jsx_runtime.jsx)("span",{style:{fontSize:"12px",lineHeight:"12px"},children:url})]})]})})}LinkViewer.displayName="LinkViewer";try{LinkViewer.displayName="LinkViewer",LinkViewer.__docgenInfo={description:"",displayName:"LinkViewer",props:{url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"string"}},linkType:{defaultValue:null,description:"",name:"linkType",required:!1,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},note:{defaultValue:null,description:"",name:"note",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"string"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"Function"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/nodeItem/LinkViewer.tsx#LinkViewer"]={docgenInfo:LinkViewer.__docgenInfo,name:"LinkViewer",path:"src/components/nodeItem/LinkViewer.tsx#LinkViewer"})}catch(__react_docgen_typescript_loader_error){}function EditorItem_toConsumableArray(arr){return function EditorItem_arrayWithoutHoles(arr){if(Array.isArray(arr))return EditorItem_arrayLikeToArray(arr)}(arr)||function EditorItem_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||EditorItem_unsupportedIterableToArray(arr)||function EditorItem_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EditorItem_slicedToArray(arr,i){return function EditorItem_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function EditorItem_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||EditorItem_unsupportedIterableToArray(arr,i)||function EditorItem_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EditorItem_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return EditorItem_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?EditorItem_arrayLikeToArray(o,minLen):void 0}}function EditorItem_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var EditorItem_isMac=/macintosh|mac os x/i.test(navigator.userAgent),deletable=!1,EditorItem_composing=!1,EditorItem_EditorItem=function EditorItem(_ref){var node=_ref.node,frameSelectionStartedNode=_ref.frameSelectionStartedNode,selectionNodeKeys=_ref.selectionNodeKeys,themeColor=_ref.themeColor,backgroundColor=_ref.backgroundColor,showIcon=_ref.showIcon,showPreviewButton=_ref.showPreviewButton,selectedAttachId=_ref.selectedAttachId,handleClickNode=_ref.handleClickNode,handleClickExpand=_ref.handleClickExpand,clickMore=_ref.clickMore,clickPreview=_ref.clickPreview,handleClickIcon=_ref.handleClickIcon,handleClickDot=_ref.handleClickDot,handleChangeNodeText=_ref.handleChangeNodeText,handleDrop=_ref.handleDrop,actionCommand=_ref.actionCommand,handleClickAttach=_ref.handleClickAttach,handlePasteFiles=_ref.handlePasteFiles,handleChangeNote=_ref.handleChangeNote,handleDeleteAttach=_ref.handleDeleteAttach,handleClickUpload=_ref.handleClickUpload,handleSetSelectionStart=_ref.handleSetSelectionStart,handleSetSelectionNodes=_ref.handleSetSelectionNodes,handleCheck=_ref.handleCheck,handleClickAvatar=_ref.handleClickAvatar,handleClickStatus=_ref.handleClickStatus,compId=_ref.compId,isRoot=_ref.isRoot,isMobile=_ref.isMobile,focusedKey=_ref.focusedKey,noteFocusedKey=_ref.noteFocusedKey,readonly=_ref.readonly,inSelection=selectionNodeKeys.includes(node._key),isDragging=sessionStorage.getItem("isDragging"),editorRef=Object(react.useRef)(null),noteEditorRef=Object(react.useRef)(null),_useState2=EditorItem_slicedToArray(Object(react.useState)(!1),2),dragStarted=_useState2[0],setDragStarted=_useState2[1],_useState4=EditorItem_slicedToArray(Object(react.useState)(!1),2),isDragOver=_useState4[0],setIsDragOver=_useState4[1],_useState6=EditorItem_slicedToArray(Object(react.useState)(!1),2),hover=_useState6[0],sethover=_useState6[1],indentCount=node.x/30,isNormalLink="link"===node.type&&node.url,bkColor=inSelection?"#B1D3FA":backgroundColor,iconIsEmoji=Object(react.useMemo)((function(){return isEmoji(node.icon)}),[node.icon]),fontSize=16;function handlePaste(event){if(event.clipboardData.files.length){event.preventDefault();var files=event.clipboardData.files;handlePasteFiles(node._key,files)}}isRoot?fontSize=34:readonly&&(0===indentCount?fontSize=24:1===indentCount&&(fontSize=18)),Object(react.useEffect)((function(){focusedKey===node._key&&editorRef&&editorRef.current&&(handleClickNode(node),moveCursorToEnd(editorRef.current))}),[focusedKey]),Object(react.useEffect)((function(){noteFocusedKey===node._key&&noteEditorRef&&noteEditorRef.current&&moveCursorToEnd(noteEditorRef.current)}),[noteFocusedKey,noteEditorRef.current]);var nameLinkArr=[];if(urlReg.test(node.name)){var arr1=[],matchList=node.name.match(urlReg);if(matchList){for(var textList,tempText=node.name,index=0;index<matchList.length;index++){var element=matchList[index];tempText=tempText.replace(element,"!@#")}textList=tempText.split("!@#");for(var _index=0;_index<textList.length;_index++){var text=textList[_index];arr1.push(text),matchList[_index]&&arr1.push(matchList[_index])}}var marginLeft=0,count=0;if(arr1&&arr1.length)for(var _index2=0;_index2<arr1.length;_index2++){var name=arr1[_index2];0!==_index2&&(marginLeft+=textWidthAll(16,arr1[_index2-1]));var type=urlReg.test(name)?"link":"text",shortedName="";if(node.shorted){for(var _index3=0;_index3<name.length&&count<28;_index3++){var _char=name[_index3];_char.match(/[^\x00-\xff]/g)?count++:count+=.5,shortedName+=_char}count>=28&&(shortedName+="...")}if(count>=28){nameLinkArr.push({text:name,shortedName:shortedName,type:type,marginLeft:marginLeft});break}nameLinkArr.push({text:name,type:type,marginLeft:marginLeft})}}return Object(jsx_runtime.jsxs)("div",{style:{display:"flex",position:"relative",width:"100%",paddingLeft:isMobile?"35px":"55px",paddingRight:"35px",boxSizing:"border-box",borderStyle:"solid",borderColor:themeColor,backgroundColor:bkColor,transition:"background-color 0.2s ease-in-out",borderWidth:isDragging&&isDragOver?"0 0 2px 0":isDragOver?"2px":"0",opacity:dragStarted?.8:1,overflow:"hidden",margin:isNormalLink?"15px 0":"unset"},onClick:function onClick(e){e.stopPropagation(),sessionStorage.removeItem("cursorInTail"),handleClickNode(node)},onDragStart:function handleDragStart(e){e.dataTransfer.dropEffect="move",setDragStarted(!0),sessionStorage.setItem("isDragging","true"),sessionStorage.setItem("dragNodeId",node._key),sessionStorage.setItem("cross-comp-drag",node._key),sessionStorage.setItem("cross-drag-compId",compId)},onDragOver:function handleDragOver(e){node.disabled||e.preventDefault(),isDragOver||setIsDragOver(!0)},onDragLeave:function handleDragLeave(){setIsDragOver(!1)},onDrop:function handleDropNode(e){e.preventDefault(),setIsDragOver(!1),sessionStorage.removeItem("isDragging");var files=e.dataTransfer.files;files.length?handlePasteFiles(node._key,files):(sessionStorage.setItem("dropNodeId",node._key),handleDrop(),sessionStorage.removeItem("cross-comp-drag"),sessionStorage.removeItem("cross-drag-compId"))},onDragEnd:function handleDragEnd(){setDragStarted(!1),sessionStorage.removeItem("isDragging")},onMouseEnter:function handleMouseEnter(e){if(sethover(!0),frameSelectionStartedNode){var selection=window.getSelection();selection&&selection.removeAllRanges();var res=mouseDirection(e.currentTarget,e.nativeEvent),_nodes=EditorItem_toConsumableArray(selectionNodeKeys);_nodes.includes(frameSelectionStartedNode._key)||_nodes.unshift(frameSelectionStartedNode._key),(node.y<frameSelectionStartedNode.y&&"bottom"===res||node.y>frameSelectionStartedNode.y&&"top"===res)&&handleSetSelectionNodes([].concat(EditorItem_toConsumableArray(_nodes),[node._key]),node)}},onMouseLeave:function handleMouseLeave(e){if(sethover(!1),frameSelectionStartedNode){var res=mouseDirection(e.currentTarget,e.nativeEvent);if(node.y<frameSelectionStartedNode.y&&"bottom"===res||node.y>frameSelectionStartedNode.y&&"top"===res){var _nodes2=EditorItem_toConsumableArray(selectionNodeKeys),index=_nodes2.findIndex((function(item){return item===node._key}));_nodes2.splice(index,1),handleSetSelectionNodes(_nodes2)}}},onMouseDown:function handleMouseDown(){handleSetSelectionNodes([]),handleSetSelectionStart(node)},onMouseUp:function handleMouseUp(){handleSetSelectionStart(null)},children:[Array.from(new Array(indentCount).keys()).map((function(item){return Object(jsx_runtime.jsx)("div",{style:{marginLeft:"9px",width:"27px",flexShrink:0,borderLeft:readonly?"unset":"1px solid #DEDEE1"}},item)})),Object(jsx_runtime.jsxs)("div",{style:{display:"flex",flexDirection:"column",flex:1,flexShrink:0},children:[Object(jsx_runtime.jsxs)("div",{style:{width:"100%",display:"flex",fontSize:fontSize+"px",lineHeight:isNormalLink?"unset":2*fontSize+"px",color:isRoot?"#16181a":"#1d1d1f",fontWeight:isRoot?600:"normal"},children:[Object(jsx_runtime.jsxs)("div",{style:{position:"relative",height:2*fontSize+"px",display:"flex",alignItems:"center"},children:[Object(jsx_runtime.jsxs)("div",{style:{position:"absolute",width:"54px",left:"-54px",top:0,height:2*fontSize+"px",display:"flex",flexDirection:"row-reverse",alignItems:"center"},children:[readonly||isRoot?null:Object(jsx_runtime.jsx)("div",{onClick:function handleClickMore(event){clickMore(node,event.currentTarget)},style:{backgroundColor:bkColor,opacity:hover&&!inSelection?1:0},children:Object(jsx_runtime.jsx)(components_icon,{width:"18px",height:"18px",name:"more",fill:"#b2b3b4",style:{cursor:"pointer"}})}),showPreviewButton&&!isRoot?Object(jsx_runtime.jsx)("div",{style:{backgroundColor:bkColor,opacity:hover&&!inSelection?1:0},onClick:function onClick(){return clickPreview(node)},children:Object(jsx_runtime.jsx)(components_icon,{width:"18px",height:"18px",name:"preview",fill:"#b2b3b4",style:{cursor:"pointer"}})}):null,node.sortList.length&&!isMobile?Object(jsx_runtime.jsx)("div",{onClick:function onClick(e){e.stopPropagation(),handleClickExpand(node)},style:{backgroundColor:bkColor,opacity:hover&&!inSelection?1:0},children:Object(jsx_runtime.jsx)(components_icon,{width:isRoot?"28px":"18px",height:isRoot?"28px":"18px",name:node.contract?"collapsed":"collapse",fill:"#b2b3b4",style:{cursor:"pointer"}})}):null]}),isRoot||readonly?null:Object(jsx_runtime.jsx)("div",{draggable:!0,style:{position:"relative",height:2*fontSize+"px",flexShrink:0,display:"flex",alignItems:"center",marginRight:"8px"},onClick:function onClick(e){e.stopPropagation(),handleClickDot(node)},children:Object(jsx_runtime.jsxs)("svg",{width:18,height:18,viewBox:"0,0,18,18",children:[node.contract?Object(jsx_runtime.jsx)("circle",{id:"dot-hover",cx:9,cy:9,r:9,fill:"#dddfe2",cursor:"pointer",fillOpacity:1}):null,Object(jsx_runtime.jsx)("circle",{id:"dot",cx:9,cy:9,r:4,fill:"#66666D",fillOpacity:1,cursor:"pointer"})]})}),node.childNum?Object(jsx_runtime.jsx)(ChildNum,{num:node.childNum}):null,node.isPack?Object(jsx_runtime.jsx)(components_icon,{name:"pack",style:{marginRight:"2px"}}):null,node.hasCollect?Object(jsx_runtime.jsx)(components_icon,{name:"fav",style:{marginRight:"2px"}}):null,showIcon&&node.icon&&!isRoot&&!isNormalLink?iconIsEmoji?Object(jsx_runtime.jsx)("div",{style:{width:"22px",height:"22px",lineHeight:"22px"},children:node.icon}):Object(jsx_runtime.jsx)("div",{style:{width:"22px",height:"22px",backgroundImage:'url("'+node.icon+'")',backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat",flexShrink:0,marginRight:"2px"},onClick:function onClick(){return handleClickIcon(node)}}):null,node.avatarUri?Object(jsx_runtime.jsx)("div",{style:{width:"22px",height:"22px",borderRadius:"11px",backgroundImage:'url("'+node.avatarUri+'")',backgroundSize:"cover",backgroundPosition:"center",marginRight:"2px"},onClick:function onClick(event){return handleClickAvatar(node,event)}}):null,node.showCheckbox?Object(jsx_runtime.jsx)(CheckBox,{checked:node.checked,onClick:function onClick(event){return handleCheck(node,event)}}):null,node.showStatus?Object(jsx_runtime.jsx)(Status,{task:node,onClick:function onClick(event){return handleClickStatus(node,event)}}):null]}),isNormalLink?Object(jsx_runtime.jsx)(LinkViewer,{linkType:node.linkType,url:node.url||"",name:node.name,note:node.note,icon:node.icon,onClick:function onClick(){return clickPreview(node)}}):Object(jsx_runtime.jsx)("div",{id:"node-"+node._key,className:"t-editor node-editor",contentEditable:!readonly,spellCheck:"true",autoCapitalize:"off",suppressContentEditableWarning:!0,ref:editorRef,onBlur:function saveText(e){if(!deletable){var value=e.target.innerText.replace(/[\r\n]/g,"");value!==node.name&&handleChangeNodeText(node._key,value)}},onKeyDown:function keyDown(event){if(!EditorItem_composing)if((EditorItem_isMac?event.metaKey:event.ctrlKey)&&"a"===event.key&&selectionNodeKeys.length)event.preventDefault(),actionCommand("selectAll",node._key);else if(event.shiftKey&&"Enter"===event.key)if(event.preventDefault(),void 0!==node.note){if(!noteEditorRef||!noteEditorRef.current)return;noteEditorRef.current.focus(),moveCursorToEnd(noteEditorRef.current)}else actionCommand("AddNote",node._key);else if(event.shiftKey&&"Tab"===event.key){if(event.preventDefault(),isRoot)return;actionCommand("ShiftTab",node._key)}else if(event.shiftKey&&"ArrowUp"===event.key)event.preventDefault(),actionCommand("shiftUp",node._key);else if(event.shiftKey&&"ArrowDown"===event.key)event.preventDefault(),actionCommand("shiftDown",node._key);else if("Enter"===event.key)if(event.preventDefault(),isRoot)actionCommand("AddChild",node._key);else if(editorRef&&editorRef.current){if(isCursorHead())actionCommand("AddPrevious",node._key);else{var valuePart2=function getTextAfterCursor(elment){if("tail"===sessionStorage.getItem("cursorInTail"))return"";if(!window.getSelection)return"";var selection=window.getSelection();if(selection){var cursorPosition=selection.getRangeAt(0).startOffset;return elment.innerText.substr(cursorPosition)}return""}(editorRef.current);if(valuePart2){var valuePart1=editorRef.current.innerText.replace(/[\r\n]/g,"").replace(valuePart2,"");editorRef.current.innerText=valuePart1,handleChangeNodeText(node._key,valuePart2),actionCommand("AddPrevious",node._key,valuePart1)}else actionCommand("AddNext",node._key)}}else actionCommand("AddNext",node._key);else if("Tab"===event.key)event.preventDefault(),actionCommand("ToBrotherChild",node._key);else if("Backspace"===event.key){if(event.currentTarget.innerText.replace(/[\r\n]/g,""))isCursorHead()?(deletable=!0,actionCommand("BackspaceInHead",node._key)):deletable=!1;else deletable=!0,actionCommand("DeleteNode",node._key)}else if("ArrowUp"===event.key)event.preventDefault(),actionCommand("up",node._key);else if("ArrowDown"===event.key)event.preventDefault(),actionCommand("down",node._key);else if("ArrowLeft"===event.key){sessionStorage.removeItem("cursorInTail"),isCursorHead()&&actionCommand("up",node._key)}else if("ArrowRight"===event.key){if(editorRef&&editorRef.current)(function isCursorTail(elment){if("tail"===sessionStorage.getItem("cursorInTail"))return!0;if(!window.getSelection)return!1;var selection=window.getSelection();if(selection){var cursorPosition=selection.getRangeAt(0).startOffset;return elment.innerText.length===cursorPosition}return!1})(editorRef.current)&&actionCommand("down",node._key);sessionStorage.removeItem("cursorInTail")}else deletable=!1},onKeyUp:function keyUp(event){if(!EditorItem_composing&&editorRef&&editorRef.current){var _value3=editorRef.current.innerText.replace(/[\r\n]/g,"");actionCommand(event.key,node._key,_value3)}},onCopy:function handleCopy(event){selectionNodeKeys.length&&(event.preventDefault(),actionCommand("copy-selection",node._key))},onPaste:handlePaste,onCompositionStart:function onCompositionStart(){return EditorItem_composing=!0},onCompositionEnd:function onCompositionEnd(){return EditorItem_composing=!1},children:nameLinkArr.length?Object(jsx_runtime.jsx)("span",{children:nameLinkArr.map((function(name,index){return Object(jsx_runtime.jsx)("span",{style:{textDecoration:"link"===name.type?"underline":"unset",cursor:"link"===name.type?"pointer":"text",color:"link"===name.type?themeColor:"inherit"},onClick:function onClick(){return function handleClickLink(type,url){"link"===type&&(url.includes("http")?window.open(url,"_blank"):window.open("http://"+url,"_blank"))}(name.type,name.text)},children:name.text||""},index)}))}):node.name})]}),"file"!==node.type&&"link"!==node.type||node.url?null:Object(jsx_runtime.jsx)("div",{style:{marginLeft:"9px",paddingLeft:"16px"},children:Object(jsx_runtime.jsx)(ClickToUpload,{nodeKey:node._key,type:node.type,handleClickUpload:handleClickUpload})}),"file"===node.type&&node.fileType&&node.url?Object(jsx_runtime.jsx)("div",{style:{marginLeft:"9px",paddingLeft:"16px"},children:Object(jsx_runtime.jsx)(FileViewer,{fileType:node.fileType,url:node.url})}):null,isNormalLink?null:Object(jsx_runtime.jsxs)("div",{style:{marginLeft:"9px",paddingLeft:"16px",borderLeft:"1px solid #DEDEE1"},children:[(node.attach||[]).map((function(attach,index){return Object(jsx_runtime.jsx)(AttachItem,{id:node._key+"-"+index+"-"+attach.name,attachIndex:index,nodeKey:node._key,attach:attach,selectedAttachId:selectedAttachId,themeColor:themeColor,handleClick:handleClickAttach,handleDeleteAttach:handleDeleteAttach},node._key+"-"+index+"-"+attach.name)})),Object(jsx_runtime.jsx)("div",{className:"t-editor item-note "+(readonly?"readonly":""),contentEditable:!readonly,spellCheck:"true",autoCapitalize:"off",suppressContentEditableWarning:!0,style:{fontSize:"14px",color:"#797B7C",lineHeight:void 0!==node.note?"22px":0},ref:noteEditorRef,onBlur:function saveNote(e){if(!deletable){var value=e.target.innerText;value!==node.note&&handleChangeNote(node._key,value)}},onKeyDown:function noteKeyDown(event){"Backspace"===event.key?event.currentTarget.innerText?deletable=!1:(deletable=!0,actionCommand("DeleteNote",node._key)):deletable=!1},onPaste:handlePaste,children:node.note})]})]}),isMobile?Object(jsx_runtime.jsx)("div",{style:{position:"absolute",width:"54px",right:"-18px",top:0,height:isRoot?"68px":"30px",display:"flex",alignItems:"center"},children:node.sortList.length?Object(jsx_runtime.jsx)("div",{onClick:function onClick(e){e.stopPropagation(),handleClickExpand(node)},children:Object(jsx_runtime.jsx)(components_icon,{width:"26px",height:"26px",name:node.contract?"collapsed":"collapse",fill:"#b2b3b4",style:{cursor:"pointer"}})}):null}):null]})};function CheckBox(_ref2){var checked=_ref2.checked,onClick=_ref2.onClick;return checked?Object(jsx_runtime.jsxs)("svg",{width:"22",height:"22",viewBox:"0,0,22,22",preserveAspectRatio:"xMinYMin meet",style:{marginRight:"2px"},onClick:onClick,children:[Object(jsx_runtime.jsx)("circle",{cx:"11",cy:"11",r:"11",fill:"rgb(85, 85, 85)"}),Object(jsx_runtime.jsx)("path",{d:"M 6 11 L 10 15 L 16 7",stroke:"#fff",strokeWidth:"1.6"})]}):Object(jsx_runtime.jsx)("svg",{width:"22",height:"22",viewBox:"0,0,22,22",preserveAspectRatio:"xMinYMin meet",style:{marginRight:"2px"},onClick:onClick,children:Object(jsx_runtime.jsx)("circle",{cx:"11",cy:"11",r:"10",fill:"rgb(216, 216, 216)",stroke:"#A9A9A9",strokeWidth:"1"})})}function Status(_ref3){var task=_ref3.task,onClick=_ref3.onClick,now=new Date((new Date).setHours(0,0,0,0)).getTime(),limitDayNum=task.limitDay?task.limitDay-now>0?Math.floor((task.limitDay-now)/864e5):Math.ceil((task.limitDay-now)/864e5)-1:0;return Object(jsx_runtime.jsxs)("div",{style:{width:"20px",height:"20px",textAlign:"center",position:"relative",overflow:"hidden",cursor:"pointer",flexShrink:0,userSelect:"none",color:"#FFF",marginRight:"2px",backgroundColor:task.checked?"#b6b7b7":limitDayNum>0?1===limitDayNum?"#FFB11B":"#505050":limitDayNum<0?"#E16B8C":"#505050"},onClick:onClick,children:[Object(jsx_runtime.jsx)("div",{style:{width:0,height:0,borderWidth:"18px",borderStyle:"solid",position:"absolute",top:"0px",right:"-18px",borderColor:"#35A6F8 transparent transparent"}}),Object(jsx_runtime.jsx)("span",{style:{width:"15px",display:"inline-block",textSizeAdjust:"none",fontSize:"12px",transform:"scale(0.67)",lineHeight:"8px",position:"absolute",right:0,top:"1px"},children:task.hour||"-"}),Object(jsx_runtime.jsx)("span",{style:{display:"inline-block",textSizeAdjust:"none",fontSize:"12px",transform:"scale(0.83,0.83)",width:"15px",lineHeight:"10px",position:"absolute",left:"2px",bottom:"1px"},children:limitDayNum?Math.abs(limitDayNum)<=99?Math.abs(limitDayNum):"99+":"∞"})]})}function ChildNum(_ref4){var num=_ref4.num;return Object(jsx_runtime.jsx)("div",{style:{width:"22px",height:"22px",borderRadius:"11px",backgroundColor:"#E8E8E8",display:"flex",justifyContent:"center",alignItems:"center",marginRight:"2px"},children:Object(jsx_runtime.jsx)("div",{style:{fontSize:"12px",transform:num>999?"scale(0.833333)":"unset"},children:num>999?"999+":num})})}EditorItem_EditorItem.displayName="EditorItem",Status.displayName="Status",ChildNum.displayName="ChildNum";var nodeItem_EditorItem=EditorItem_EditorItem;try{EditorItem_EditorItem.displayName="EditorItem",EditorItem_EditorItem.__docgenInfo={description:"",displayName:"EditorItem",props:{node:{defaultValue:null,description:"",name:"node",required:!0,type:{name:"CNode"}},frameSelectionStartedNode:{defaultValue:null,description:"",name:"frameSelectionStartedNode",required:!0,type:{name:"CNode | null"}},selectionNodeKeys:{defaultValue:null,description:"",name:"selectionNodeKeys",required:!0,type:{name:"string[]"}},themeColor:{defaultValue:null,description:"",name:"themeColor",required:!0,type:{name:"string"}},backgroundColor:{defaultValue:null,description:"",name:"backgroundColor",required:!0,type:{name:"string"}},showIcon:{defaultValue:null,description:"",name:"showIcon",required:!0,type:{name:"boolean"}},showPreviewButton:{defaultValue:null,description:"",name:"showPreviewButton",required:!0,type:{name:"boolean"}},selectedAttachId:{defaultValue:null,description:"",name:"selectedAttachId",required:!0,type:{name:"string"}},handleClickNode:{defaultValue:null,description:"",name:"handleClickNode",required:!0,type:{name:"Function"}},handleClickExpand:{defaultValue:null,description:"",name:"handleClickExpand",required:!0,type:{name:"Function"}},clickMore:{defaultValue:null,description:"",name:"clickMore",required:!0,type:{name:"HandleClickMore"}},clickPreview:{defaultValue:null,description:"",name:"clickPreview",required:!0,type:{name:"Function"}},handleClickIcon:{defaultValue:null,description:"",name:"handleClickIcon",required:!0,type:{name:"Function"}},handleClickDot:{defaultValue:null,description:"",name:"handleClickDot",required:!0,type:{name:"Function"}},handleChangeNodeText:{defaultValue:null,description:"",name:"handleChangeNodeText",required:!0,type:{name:"Function"}},handleDrop:{defaultValue:null,description:"",name:"handleDrop",required:!0,type:{name:"Function"}},actionCommand:{defaultValue:null,description:"",name:"actionCommand",required:!0,type:{name:"ActionCommand"}},handleClickAttach:{defaultValue:null,description:"",name:"handleClickAttach",required:!0,type:{name:"HandleClickAttachFunc"}},handlePasteFiles:{defaultValue:null,description:"",name:"handlePasteFiles",required:!0,type:{name:"HandlePasteFile"}},handleChangeNote:{defaultValue:null,description:"",name:"handleChangeNote",required:!0,type:{name:"HandleChangeNote"}},handleDeleteAttach:{defaultValue:null,description:"",name:"handleDeleteAttach",required:!0,type:{name:"HandleDeleteAttach"}},handleClickUpload:{defaultValue:null,description:"",name:"handleClickUpload",required:!0,type:{name:"HandleClickUpload"}},handleSetSelectionStart:{defaultValue:null,description:"",name:"handleSetSelectionStart",required:!0,type:{name:"HandleSetSelectionStart"}},handleSetSelectionNodes:{defaultValue:null,description:"",name:"handleSetSelectionNodes",required:!0,type:{name:"HandleSetSelectionNodes"}},handleCheck:{defaultValue:null,description:"",name:"handleCheck",required:!0,type:{name:"CheckFunc"}},handleClickAvatar:{defaultValue:null,description:"",name:"handleClickAvatar",required:!0,type:{name:"Function"}},handleClickStatus:{defaultValue:null,description:"",name:"handleClickStatus",required:!0,type:{name:"Function"}},compId:{defaultValue:null,description:"",name:"compId",required:!0,type:{name:"string"}},isRoot:{defaultValue:null,description:"",name:"isRoot",required:!0,type:{name:"boolean"}},isMobile:{defaultValue:null,description:"",name:"isMobile",required:!0,type:{name:"boolean"}},focusedKey:{defaultValue:null,description:"",name:"focusedKey",required:!1,type:{name:"string"}},noteFocusedKey:{defaultValue:null,description:"",name:"noteFocusedKey",required:!1,type:{name:"string"}},collapseMode:{defaultValue:null,description:"",name:"collapseMode",required:!1,type:{name:"boolean"}},collapseModeCollapsed:{defaultValue:null,description:"",name:"collapseModeCollapsed",required:!1,type:{name:"boolean"}},readonly:{defaultValue:null,description:"",name:"readonly",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/nodeItem/EditorItem.tsx#EditorItem"]={docgenInfo:EditorItem_EditorItem.__docgenInfo,name:"EditorItem",path:"src/components/nodeItem/EditorItem.tsx#EditorItem"})}catch(__react_docgen_typescript_loader_error){}function AddItem_slicedToArray(arr,i){return function AddItem_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function AddItem_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function AddItem_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return AddItem_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AddItem_arrayLikeToArray(o,minLen)}(arr,i)||function AddItem_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AddItem_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var AddItem_composing=!1,nodeAddable=!0,AddItem_AddItem=function AddItem(_ref){var lastNode=_ref.lastNode,isRoot=_ref.isRoot,clickAdd=_ref.clickAdd,actionCommand=_ref.actionCommand,editorRef=Object(react.useRef)(null),_useState2=AddItem_slicedToArray(Object(react.useState)(!1),2),hover=_useState2[0],sethover=_useState2[1],_useState4=AddItem_slicedToArray(Object(react.useState)(""),2),value=_useState4[0],setvalue=_useState4[1],_useState6=AddItem_slicedToArray(Object(react.useState)(!1),2),focused=_useState6[0],setFocused=_useState6[1],indentCount=lastNode.x/30;function handleInput(){if(!AddItem_composing&&editorRef&&editorRef.current){var _value2=editorRef.current.innerText.replace(/[\r\n]/g,"");setvalue(_value2)}}return Object(react.useEffect)((function(){nodeAddable=!0,setvalue(""),editorRef&&editorRef.current&&(editorRef.current.innerHTML="")}),[lastNode]),Object(jsx_runtime.jsxs)("div",{style:{display:"flex",position:"relative",width:"100%",paddingLeft:"55px",paddingRight:"35px",boxSizing:"border-box",opacity:focused||hover?1:0},onMouseEnter:function onMouseEnter(){return sethover(!0)},onMouseLeave:function onMouseLeave(){return sethover(!1)},children:[Array.from(new Array(indentCount).keys()).map((function(item){return Object(jsx_runtime.jsx)("div",{style:{marginLeft:"9px",width:"27px",flexShrink:0,borderLeft:"1px solid #DEDEE1"}},item)})),Object(jsx_runtime.jsx)("div",{style:{display:"flex",flexDirection:"column",flex:1,flexShrink:0},children:Object(jsx_runtime.jsxs)("div",{style:{width:"100%",display:"flex",fontSize:"16px",color:"#1d1d1f",lineHeight:"30px"},children:[Object(jsx_runtime.jsx)("div",{style:{position:"relative",height:"30px",display:"flex",alignItems:"center"},children:Object(jsx_runtime.jsx)("div",{style:{position:"relative",height:"30px",flexShrink:0,display:"flex",alignItems:"center",marginRight:"8px",cursor:value?"inherit":"pointer"},onClick:function handleClickAdd(){value||editorRef&&editorRef.current&&clickAdd(lastNode,editorRef.current)},children:value?Object(jsx_runtime.jsx)("svg",{width:18,height:18,viewBox:"0,0,18,18",children:Object(jsx_runtime.jsx)("circle",{id:"dot",cx:9,cy:9,r:4,fill:"#66666D",fillOpacity:1})}):Object(jsx_runtime.jsx)(components_icon,{name:"plus",width:"18px",height:"18px"})})}),Object(jsx_runtime.jsx)("div",{className:"t-editor add-editor",contentEditable:"true",spellCheck:"true",autoCapitalize:"off",suppressContentEditableWarning:!0,ref:editorRef,onKeyDown:function keyDown(event){if(AddItem_composing)event.preventDefault();else if("Enter"===event.key){if(event.preventDefault(),!value)return;nodeAddable=!1,actionCommand(isRoot?"AddChild":"AddNext",lastNode._key,value)}else if("Tab"===event.key){if(event.preventDefault(),!value)return;nodeAddable=!1,actionCommand("AddChild",lastNode._key,value)}},onKeyUp:function keyUp(event){if(!AddItem_composing&&editorRef&&editorRef.current){var _value=editorRef.current.innerText.replace(/[\r\n]/g,"");actionCommand(event.key,lastNode._key,_value,!0)}},onInput:handleInput,onPaste:function handlePaste(event){event.clipboardData.files.length&&(event.preventDefault(),alert("请选转换为节点再执行粘贴附件！"))},onClick:function onClick(){return setFocused(!0)},onBlur:function addNode(e){if(setFocused(!1),nodeAddable){var value=e.target.innerText.replace(/[\r\n]/g,"");value&&actionCommand(isRoot?"AddChild":"AddNext",lastNode._key,value)}},onCompositionStart:function onCompositionStart(){return AddItem_composing=!0},onCompositionEnd:function onCompositionEnd(){AddItem_composing=!1,handleInput()}})]})})]})};AddItem_AddItem.displayName="AddItem";var nodeItem_AddItem=AddItem_AddItem;try{AddItem_AddItem.displayName="AddItem",AddItem_AddItem.__docgenInfo={description:"",displayName:"AddItem",props:{lastNode:{defaultValue:null,description:"",name:"lastNode",required:!0,type:{name:"CNode"}},isRoot:{defaultValue:null,description:"",name:"isRoot",required:!0,type:{name:"boolean"}},clickAdd:{defaultValue:null,description:"",name:"clickAdd",required:!0,type:{name:"HandleClickMore"}},actionCommand:{defaultValue:null,description:"",name:"actionCommand",required:!0,type:{name:"ActionCommand"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/nodeItem/AddItem.tsx#AddItem"]={docgenInfo:AddItem_AddItem.__docgenInfo,name:"AddItem",path:"src/components/nodeItem/AddItem.tsx#AddItem"})}catch(__react_docgen_typescript_loader_error){}function TreeEditor_slicedToArray(arr,i){return function TreeEditor_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function TreeEditor_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function TreeEditor_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return TreeEditor_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TreeEditor_arrayLikeToArray(o,minLen)}(arr,i)||function TreeEditor_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TreeEditor_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var quickCommandIndex,TreeEditor_mobile=util_isMobile(),TreeEditor_TreeEditor=react_default.a.forwardRef((function(_ref,ref){var nodes=_ref.nodes,startId=_ref.startId,disabled=_ref.disabled,readonly=_ref.readonly,_ref$themeColor=_ref.themeColor,themeColor=void 0===_ref$themeColor?"#1CA8B3":_ref$themeColor,_ref$backgroundColor=_ref.backgroundColor,backgroundColor=void 0===_ref$backgroundColor?"#F5F5F5":_ref$backgroundColor,defaultFocusedId=_ref.defaultFocusedId,defaultNoteFocusedNodeId=_ref.defaultNoteFocusedNodeId,_ref$uncontrolled=_ref.uncontrolled,uncontrolled=void 0===_ref$uncontrolled||_ref$uncontrolled,_ref$showIcon=_ref.showIcon,showIcon=void 0===_ref$showIcon||_ref$showIcon,_ref$showPreviewButto=_ref.showPreviewButton,showPreviewButton=void 0===_ref$showPreviewButto||_ref$showPreviewButto,quickCommandKey=_ref.quickCommandKey,_ref$quickCommands=_ref.quickCommands,quickCommands=void 0===_ref$quickCommands?[]:_ref$quickCommands,handleCommandChanged=_ref.handleCommandChanged,handlePasteFiles=_ref.handlePasteFiles,handleDeleteAttach=_ref.handleDeleteAttach,handleAddNote=_ref.handleAddNote,handleChangeNote=_ref.handleChangeNote,handleDeleteNote=_ref.handleDeleteNote,handleTabAction=_ref.handleTabAction,handleClickExpand=_ref.handleClickExpand,handleClickNode=_ref.handleClickNode,handleClickIcon=_ref.handleClickIcon,handleClickDot=_ref.handleClickDot,handleChangeNodeText=_ref.handleChangeNodeText,handleAddNext=_ref.handleAddNext,handleAddPrevious=_ref.handleAddPrevious,handleAddChild=_ref.handleAddChild,handleDeleteNode=_ref.handleDeleteNode,handleShiftUpDown=_ref.handleShiftUpDown,handleDrag=_ref.handleDrag,handleClickMoreButton=_ref.handleClickMoreButton,handleClickAddButton=_ref.handleClickAddButton,handleClickPreviewButton=_ref.handleClickPreviewButton,handleClickUpload=_ref.handleClickUpload,handleCheck=_ref.handleCheck,handleClickAvatar=_ref.handleClickAvatar,handleClickStatus=_ref.handleClickStatus,handleMutiSelect=_ref.handleMutiSelect,showDeleteConform=_ref.showDeleteConform,collapseMode=_ref.collapseMode,_useState2=TreeEditor_slicedToArray(Object(react.useState)(nodes),2),nodeMap=_useState2[0],setNodeMap=_useState2[1],_useState4=TreeEditor_slicedToArray(Object(react.useState)([]),2),cnodes=_useState4[0],setcnodes=_useState4[1],_useState6=TreeEditor_slicedToArray(Object(react.useState)(""),2),compId=_useState6[0],setCompId=_useState6[1],_useState8=TreeEditor_slicedToArray(Object(react.useState)(startId),2),expandedNodeKey=_useState8[0],setExpandedNodeKey=_useState8[1],_useState10=TreeEditor_slicedToArray(Object(react.useState)([]),2),ancestorList=_useState10[0],setAncestorList=_useState10[1],_useState12=TreeEditor_slicedToArray(Object(react.useState)(defaultFocusedId),2),focusedKey=_useState12[0],setFocusedKey=_useState12[1],_useState14=TreeEditor_slicedToArray(Object(react.useState)(defaultNoteFocusedNodeId),2),noteFocusedKey=_useState14[0],setNoteFocusedKey=_useState14[1],_useState16=TreeEditor_slicedToArray(Object(react.useState)(""),2),selectedAttachId=_useState16[0],setSelectedAttachId=_useState16[1],_useState18=TreeEditor_slicedToArray(Object(react.useState)(null),2),frameSelectionStartedNode=_useState18[0],setFrameSelectionStartedNode=_useState18[1],_useState20=TreeEditor_slicedToArray(Object(react.useState)([]),2),selectionNodeKeys=_useState20[0],setSelectionNodeKeys=_useState20[1];function clickNode(node){handleClickNode&&handleClickNode(node)}function handleExpand(node){if(collapseMode)expandedNodeKey===node._key?setExpandedNodeKey(node.father||null):(setExpandedNodeKey(node._key),handleClickExpand&&node.contract&&handleClickExpand(node));else{if(uncontrolled){var _nodes2=util_dot(nodeMap,node._key);setNodeMap(_nodes2)}handleClickExpand&&handleClickExpand(node)}}function clickIcon(node){handleClickIcon&&handleClickIcon(node)}function changeText(nodeId,text){if(uncontrolled){var _nodes3=changeNodeText(nodeMap,nodeId,text);setNodeMap(_nodes3)}handleChangeNodeText&&handleChangeNodeText(nodeId,text)}function changeNote(nodeId,text){if(uncontrolled){var _nodes4=function changeNodeNote(nodeMap,id,text){var nodes=Object.assign({},nodeMap),node=nodes[id];return node?(text||(text=""),node.note=text,nodes):nodes}(nodeMap,nodeId,text);setNodeMap(_nodes4)}handleChangeNote&&handleChangeNote(nodeId,text)}function addNext(nodeKey,value){if(nodeKey===startId)return alert("根节点无法添加兄弟节点！");if(uncontrolled){var res=addNextNode(nodeMap,nodeKey,value);handleAddNext&&handleAddNext(nodeKey,res.addedNode,value),setFocusedKey(res.addedNode._key),setNodeMap(res.nodes)}else handleAddNext&&handleAddNext(nodeKey,void 0,value)}function addNote(nodeKey){if(nodeKey!==startId)if(uncontrolled){var res=function addNodeNote(nodeMap,nodeId){var nodes=Object.assign({},nodeMap),node=nodes[nodeId];return node.note||(node.note=""),{nodes:nodes}}(nodeMap,nodeKey);handleAddNote&&handleAddNote(nodeKey),setNoteFocusedKey(nodeKey),setNodeMap(res.nodes)}else handleAddNote&&handleAddNote(nodeKey)}function deleteNote(nodeKey){if(uncontrolled){var res=function deleteNodeNote(nodeMap,nodeId){var nodes=Object.assign({},nodeMap);return delete nodes[nodeId].note,{nodes:nodes}}(nodeMap,nodeKey);handleDeleteNote&&handleDeleteNote(nodeKey),setNoteFocusedKey(""),setFocusedKey(nodeKey),setNodeMap(res.nodes)}else handleDeleteNote&&handleDeleteNote(nodeKey)}function addChild(nodeKey,value){if(uncontrolled){var res=addChildNode(nodeMap,nodeKey,value);handleAddChild&&handleAddChild(nodeKey,res.addedNode,value),setFocusedKey(res.addedNode._key),setExpandedNodeKey(nodeKey),setNodeMap(res.nodes)}else handleAddChild&&handleAddChild(nodeKey,void 0,value)}function deletenode(nodeKey){if(nodeKey===startId)return alert("根节点不允许删除！");if(uncontrolled){var res=deleteNode(nodeMap,nodeKey);handleDeleteNode&&handleDeleteNode(nodeKey),setFocusedKey(res.nextSelectNodeKey),setNodeMap(res.nodes)}else handleDeleteNode&&handleDeleteNode(nodeKey)}function convertChildToBrother(nodeKey){var node=nodeMap[nodeKey];if(node){var father=nodeMap[node.father];if(father)if(father.sortList.length&&father._key!==startId){var grandFather=nodeMap[father.father];if(grandFather.sortList.length){var fatherIndex=grandFather.sortList.findIndex((function(item){return item===father._key}));if(uncontrolled){var res=function toFatherBrother(nodeMap,nodeId){var nodes=Object.assign({},nodeMap),node=nodes[nodeId],father=nodes[node.father],grandFather=nodes[father.father],fatherIndex=grandFather.sortList.findIndex((function(item){return item===father._key}));grandFather.sortList.splice(fatherIndex+1,0,nodeId),node.father=grandFather._key;var index=father.sortList.findIndex((function(item){return item===node._key}));return father.sortList.splice(index,1),{nodes:nodes}}(nodeMap,nodeKey);handleTabAction&&handleTabAction(nodeKey,grandFather._key,fatherIndex+1),setNodeMap(res.nodes)}else handleTabAction&&handleTabAction(nodeKey,grandFather._key,fatherIndex+1)}}}}function switchNodeToBrotherChild(nodeIndex,nodeKey,brotherKey){if(uncontrolled){var res=function toBrotherChild(nodeMap,nodeIndex,nodeId,brotherId){var nodes=Object.assign({},nodeMap),node=nodes[nodeId],father=nodes[node.father],brother=nodes[brotherId],fatherSortList=father.sortList;fatherSortList.splice(nodeIndex,1),father.sortList=fatherSortList,node.father=brotherId;var brotherSortList=brother.sortList||[];return brotherSortList.push(nodeId),brother.sortList=brotherSortList,{nodes:nodes}}(nodeMap,nodeIndex,nodeKey,brotherKey);handleTabAction&&handleTabAction(nodeKey,brotherKey),setNodeMap(res.nodes)}else handleTabAction&&handleTabAction(nodeKey,brotherKey)}function saveNodes(){return nodeMap}function handleDrop(){var dragNodeId=sessionStorage.getItem("dragNodeId"),dropNodeId=sessionStorage.getItem("dropNodeId");if(dragNodeId&&dropNodeId){var dragInfo={dragNodeId:dragNodeId,dropNodeId:dropNodeId,placement:"down"};if(uncontrolled){var res=dragSort(nodeMap,dragNodeId,dropNodeId,dragInfo.placement);res&&setNodeMap(res)}else handleDrag&&handleDrag(dragNodeId,dragInfo)}}function clickDot(node){handleClickDot&&handleClickDot(node)}function actionCommand(command,nodeKey,value,addMode){if(!disabled)if("AddNext"===command)addNext(nodeKey,value);else if("AddPrevious"===command)!function addPrevious(nodeKey,value){if(nodeKey===startId)return alert("根节点无法添加兄弟节点！");if(uncontrolled){var res=addNextNode(nodeMap,nodeKey,value,!0);handleAddPrevious&&handleAddPrevious(nodeKey,res.addedNode,value),setFocusedKey(nodeKey),setNodeMap(res.nodes)}else handleAddPrevious&&handleAddPrevious(nodeKey,void 0,value)}(nodeKey,value);else if("AddChild"===command)addChild(nodeKey,value);else if("DeleteNode"===command)deletenode(nodeKey);else if("AddNote"===command)addNote(nodeKey);else if("DeleteNote"===command)deleteNote(nodeKey);else if("up"===command||"down"===command){var nextNode=function moveCursor(type,cnodes,nodeId){var index=cnodes.findIndex((function(item){return item._key===nodeId}));if(-1!==index){if("up"===type){if(0===index)return;return cnodes[index-1]}if(index+1!==cnodes.length)return cnodes[index+1]}}(command,cnodes,nodeKey);if(!nextNode)return;setFocusedKey(nextNode._key),handleClickNode&&handleClickNode(nextNode)}else if("ShiftTab"===command)convertChildToBrother(nodeKey);else if("shiftUp"===command)!function shiftUp(nodeKey){var res=changeSortList(nodeMap,nodeKey,"up");res&&(uncontrolled?(setNodeMap(res.nodes),setFocusedKey(nodeKey)):handleShiftUpDown&&handleShiftUpDown(nodeKey,res.brotherKeys,"up"))}(nodeKey);else if("shiftDown"===command)!function shiftDown(nodeKey){var res=changeSortList(nodeMap,nodeKey,"down");res&&(uncontrolled?(setNodeMap(res.nodes),setFocusedKey(nodeKey)):handleShiftUpDown&&handleShiftUpDown(nodeKey,res.brotherKeys,"down"))}(nodeKey);else if("BackspaceInHead"===command){var _node2=nodeMap[nodeKey];if(!_node2)return;var father=nodeMap[_node2.father];if(!father)return;var sortList=father.sortList;if(!sortList.length)return;var currentNodeIndex=sortList.findIndex((function(id){return id===nodeKey}));if(-1===currentNodeIndex||0===currentNodeIndex)return;var brother=nodeMap[sortList[currentNodeIndex-1]];if(!brother)return;deletenode(nodeKey),changeText(brother._key,brother.name+_node2.name)}else if("ToBrotherChild"===command){var _node3=nodeMap[nodeKey];if(!_node3)return;var _father=nodeMap[_node3.father];if(!_father)return;var _sortList=_father.sortList;if(!_sortList.length)return;var _currentNodeIndex=_sortList.findIndex((function(id){return id===nodeKey}));if(-1===_currentNodeIndex||0===_currentNodeIndex)return;var _brother=nodeMap[_sortList[_currentNodeIndex-1]];if(!_brother)return;switchNodeToBrotherChild(_currentNodeIndex,nodeKey,_brother._key)}else if("selectAll"===command){var keys=cnodes.map((function(node){return node._key}));setSelectionNodeKeys(keys)}else if("copy-selection"===command){for(var minX,_nodes5=[],_loop=function _loop(index){var key=selectionNodeKeys[index],node=cnodes.find((function(node){return node._key===key}));node&&(_nodes5.push(node),(void 0===minX||node.x<minX)&&(minX=node.x))},index=0;index<selectionNodeKeys.length;index++)_loop(index);_nodes5.sort((function(a,b){return a.y-b.y}));for(var str="",rootKey=cnodes[0]._key,_index=0;_index<_nodes5.length;_index++){for(var element=_nodes5[_index],indentCount=(element.x-(minX||0))/30,_indent="",_index2=0;_index2<indentCount;_index2++)_indent+="  ";str+=_indent+(element._key===rootKey?"":"・ ")+element.name+"\n"}navigator.clipboard?navigator.clipboard.writeText(str):alert("无法复制！请升级浏览器！")}else if(command===quickCommandKey&&handleCommandChanged)setFrameSelectionStartedNode(null),quickCommandIndex=getCursorIndex(),handleCommandChanged(nodeKey,"open",value||"",addMode);else if(void 0!==quickCommandIndex&&value&&handleCommandChanged){var cusorIndex=getCursorIndex();if(!cusorIndex)return;var _command=value.substring(quickCommandIndex,cusorIndex);"number"==typeof cusorIndex&&cusorIndex<quickCommandIndex||!function isCommandAvaliable(command){for(var index=0;index<quickCommands.length;index++){if(quickCommands[index].includes(command))return!0}return!1}(_command)?(quickCommandIndex=void 0,handleCommandChanged(nodeKey,"close",value,addMode)):handleCommandChanged(nodeKey,_command,value,addMode)}}function handleClickMore(node,el){handleClickMoreButton&&handleClickMoreButton(node,el)}function handleClickPreview(node){handleClickPreviewButton&&handleClickPreviewButton(node)}function clickUpload(nodeKey,el){handleClickUpload&&handleClickUpload(nodeKey,el)}function check(node,e){if(!disabled){if(e.stopPropagation(),uncontrolled){var _nodes6=checkNode(nodeMap,node._key);setNodeMap(_nodes6)}handleCheck&&handleCheck(node)}}function clickAvatar(node,event){handleClickAvatar&&(event.stopPropagation(),handleClickAvatar(node,event.currentTarget))}function clickStatus(node,event){handleClickStatus&&(event.stopPropagation(),handleClickStatus(node,event.currentTarget))}return Object(react.useImperativeHandle)(ref,(function(){return{deleteNode:deletenode,saveNodes:saveNodes,addNext:addNext,addChild:addChild}})),Object(react.useEffect)((function(){setCompId(guid(8,16))}),[]),Object(react.useEffect)((function(){setNodeMap(nodes)}),[nodes]),Object(react.useEffect)((function(){if(console.log("根据nodeMap计算渲染所需数据"),nodeMap[startId]){setFrameSelectionStartedNode(null);var nodes=function singleColumnService_calculate(nodes,startId,INDENT,startX,collapseMode,expandedNodeKey,hideRoot){var start_x=void 0!==startX?startX:15,root=(nodes=JSON.parse(JSON.stringify(nodes)))[startId];if(root){var nodeList=[],ancestorList=[];return collapseMode&&expandedNodeKey&&nodes[expandedNodeKey]&&(ancestorList=getAncestor(nodes[expandedNodeKey],nodes,!0)),function location(nodes,node,x,y){var childX=x,childY=y,childrenIds=node.sortList||[];if(node.x=x,node.y=y,hideRoot&&node._key===startId||(childX+=INDENT),!(collapseMode&&(!expandedNodeKey||!ancestorList.includes(node._key))||node.contract))for(var index=0;index<childrenIds.length;index++){var element=nodes[childrenIds[index]];element?childY=location(nodes,element,childX,childY+=1):console.error("Can't find the node with the id "+childrenIds[index])}return nodeList.push(node),childY}(nodes,root,start_x,1),nodeList}console.error("Can't find the root node")}(nodeMap,startId,30,0,collapseMode,expandedNodeKey,!0);nodes&&(nodes.sort((function(a,b){return a.y-b.y})),setcnodes(nodes))}}),[nodeMap,startId,expandedNodeKey]),Object(react.useEffect)((function(){if(collapseMode&&expandedNodeKey&&nodeMap[expandedNodeKey]){var _ancestorList=getAncestor(nodes[expandedNodeKey],nodes,!0);setAncestorList(_ancestorList)}}),[nodeMap,expandedNodeKey]),Object(react.useEffect)((function(){defaultFocusedId&&nodeMap&&nodeMap[defaultFocusedId]&&setExpandedNodeKey(nodeMap[defaultFocusedId].father),setFocusedKey(defaultFocusedId)}),[defaultFocusedId]),Object(react.useEffect)((function(){quickCommandIndex=void 0}),[focusedKey]),Object(react.useEffect)((function(){setNoteFocusedKey(defaultNoteFocusedNodeId)}),[defaultNoteFocusedNodeId]),Object(react.useEffect)((function(){if(!frameSelectionStartedNode&&selectionNodeKeys.length&&handleMutiSelect){for(var _nodes=[],index=0;index<selectionNodeKeys.length;index++){var key=selectionNodeKeys[index],_node=nodeMap[key];_node&&_nodes.push(_node)}handleMutiSelect(_nodes)}}),[frameSelectionStartedNode,selectionNodeKeys,nodeMap]),Object(jsx_runtime.jsxs)("div",{className:"menu-wrapper",style:{position:"relative",width:"100%",boxSizing:"border-box",padding:"15px 0",backgroundColor:backgroundColor},onKeyDown:function handleKeyDown(event){("Delete"===event.key||"Backspace"===event.key)&&selectionNodeKeys.length&&showDeleteConform&&showDeleteConform()},children:[cnodes.map((function(node,index){return Object(jsx_runtime.jsx)(nodeItem_EditorItem,{node:node,frameSelectionStartedNode:frameSelectionStartedNode,selectionNodeKeys:selectionNodeKeys,themeColor:themeColor,backgroundColor:backgroundColor,showIcon:showIcon,showPreviewButton:showPreviewButton,focusedKey:focusedKey,noteFocusedKey:noteFocusedKey,selectedAttachId:selectedAttachId,handleClickNode:clickNode,handleClickExpand:handleExpand,handleChangeNodeText:changeText,handleClickIcon:clickIcon,handleDrop:handleDrop,handleClickDot:clickDot,actionCommand:actionCommand,handleClickAttach:function handleClickAttach(attachId){return setSelectedAttachId(attachId)},handlePasteFiles:handlePasteFiles,handleChangeNote:changeNote,handleDeleteAttach:handleDeleteAttach,clickMore:handleClickMore,clickPreview:handleClickPreview,compId:compId,isRoot:0===index,isMobile:TreeEditor_mobile,collapseMode:collapseMode,collapseModeCollapsed:collapseMode?!expandedNodeKey||!ancestorList.includes(node._key):void 0,readonly:readonly,handleClickUpload:clickUpload,handleSetSelectionStart:function handleSetSelectionStart(node){return setFrameSelectionStartedNode(node)},handleSetSelectionNodes:function handleSetSelectionNodes(nodeKeys,lastAddedNode){if(lastAddedNode&&frameSelectionStartedNode){for(var selectedKeys=[],_index3=0;_index3<cnodes.length;_index3++){var _node4=cnodes[_index3];(frameSelectionStartedNode.y<lastAddedNode.y&&_node4.y>=frameSelectionStartedNode.y&&_node4.y<=lastAddedNode.y||frameSelectionStartedNode.y>lastAddedNode.y&&_node4.y<=frameSelectionStartedNode.y&&_node4.y>=lastAddedNode.y)&&selectedKeys.push(_node4._key)}setSelectionNodeKeys(selectedKeys)}else setSelectionNodeKeys(nodeKeys)},handleCheck:check,handleClickAvatar:clickAvatar,handleClickStatus:clickStatus},index+"_"+node._key)})),!readonly&&cnodes[cnodes.length-1]?Object(jsx_runtime.jsx)(nodeItem_AddItem,{lastNode:cnodes[cnodes.length-1],isRoot:1===cnodes.length,clickAdd:function handleClickAdd(node,el){handleClickAddButton&&handleClickAddButton(node,el)},actionCommand:actionCommand}):null]})}));try{TreeEditor_TreeEditor.displayName="TreeEditor",TreeEditor_TreeEditor.__docgenInfo={description:"",displayName:"TreeEditor",props:{nodes:{defaultValue:null,description:"",name:"nodes",required:!0,type:{name:"NodeMap"}},startId:{defaultValue:null,description:"",name:"startId",required:!0,type:{name:"string"}},uncontrolled:{defaultValue:{value:"true"},description:"",name:"uncontrolled",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},showIcon:{defaultValue:{value:"true"},description:"",name:"showIcon",required:!1,type:{name:"boolean"}},backgroundColor:{defaultValue:{value:"#F5F5F5"},description:"",name:"backgroundColor",required:!1,type:{name:"string"}},quickCommandKey:{defaultValue:null,description:"",name:"quickCommandKey",required:!1,type:{name:"string"}},handleClickExpand:{defaultValue:null,description:"",name:"handleClickExpand",required:!1,type:{name:"Function"}},handleCheck:{defaultValue:null,description:"",name:"handleCheck",required:!1,type:{name:"Function"}},handleClickAvatar:{defaultValue:null,description:"",name:"handleClickAvatar",required:!1,type:{name:"NodeClickFunc"}},handleClickStatus:{defaultValue:null,description:"",name:"handleClickStatus",required:!1,type:{name:"NodeClickFunc"}},handleClickNode:{defaultValue:null,description:"",name:"handleClickNode",required:!1,type:{name:"Function"}},handleChangeNodeText:{defaultValue:null,description:"",name:"handleChangeNodeText",required:!1,type:{name:"Function"}},handleAddNext:{defaultValue:null,description:"",name:"handleAddNext",required:!1,type:{name:"HandleAddNext"}},handleAddChild:{defaultValue:null,description:"",name:"handleAddChild",required:!1,type:{name:"Function"}},handleDeleteNode:{defaultValue:null,description:"",name:"handleDeleteNode",required:!1,type:{name:"Function"}},handleClickPreviewButton:{defaultValue:null,description:"",name:"handleClickPreviewButton",required:!1,type:{name:"Function"}},handleClickDot:{defaultValue:null,description:"",name:"handleClickDot",required:!1,type:{name:"Function"}},handleShiftUpDown:{defaultValue:null,description:"",name:"handleShiftUpDown",required:!1,type:{name:"Function"}},handleDrag:{defaultValue:null,description:"",name:"handleDrag",required:!1,type:{name:"Function"}},handlePaste:{defaultValue:null,description:"",name:"handlePaste",required:!1,type:{name:"Function"}},showDeleteConform:{defaultValue:null,description:"",name:"showDeleteConform",required:!1,type:{name:"Function"}},handleMutiSelect:{defaultValue:null,description:"",name:"handleMutiSelect",required:!1,type:{name:"MutiSelectFunc"}},cutColor:{defaultValue:null,description:"",name:"cutColor",required:!1,type:{name:"string"}},handleClickIcon:{defaultValue:null,description:"",name:"handleClickIcon",required:!1,type:{name:"Function"}},handleClickMoreButton:{defaultValue:null,description:"",name:"handleClickMoreButton",required:!1,type:{name:"HandleClickMore"}},collapseMode:{defaultValue:null,description:"",name:"collapseMode",required:!1,type:{name:"boolean"}},themeColor:{defaultValue:{value:"#1CA8B3"},description:"",name:"themeColor",required:!1,type:{name:"string"}},readonly:{defaultValue:null,description:"",name:"readonly",required:!1,type:{name:"boolean"}},defaultFocusedId:{defaultValue:null,description:"",name:"defaultFocusedId",required:!1,type:{name:"string"}},defaultNoteFocusedNodeId:{defaultValue:null,description:"",name:"defaultNoteFocusedNodeId",required:!1,type:{name:"string"}},showPreviewButton:{defaultValue:{value:"true"},description:"",name:"showPreviewButton",required:!1,type:{name:"boolean"}},quickCommands:{defaultValue:{value:"[]"},description:"",name:"quickCommands",required:!1,type:{name:"string[]"}},handleCommandChanged:{defaultValue:null,description:"",name:"handleCommandChanged",required:!1,type:{name:"HandleCommandChange"}},handlePasteFiles:{defaultValue:null,description:"",name:"handlePasteFiles",required:!0,type:{name:"HandlePasteFile"}},handleDeleteAttach:{defaultValue:null,description:"",name:"handleDeleteAttach",required:!0,type:{name:"HandleDeleteAttach"}},handleAddNote:{defaultValue:null,description:"",name:"handleAddNote",required:!1,type:{name:"HandleAddNote"}},handleChangeNote:{defaultValue:null,description:"",name:"handleChangeNote",required:!1,type:{name:"HandleChangeNote"}},handleDeleteNote:{defaultValue:null,description:"",name:"handleDeleteNote",required:!1,type:{name:"HandleDeleteNote"}},handleTabAction:{defaultValue:null,description:"",name:"handleTabAction",required:!1,type:{name:"TabAction"}},handleAddPrevious:{defaultValue:null,description:"",name:"handleAddPrevious",required:!1,type:{name:"HandleAddNext"}},handleClickAddButton:{defaultValue:null,description:"",name:"handleClickAddButton",required:!1,type:{name:"HandleClickMore"}},handleClickUpload:{defaultValue:null,description:"",name:"handleClickUpload",required:!1,type:{name:"HandleClickUpload"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/TreeEditor.tsx#TreeEditor"]={docgenInfo:TreeEditor_TreeEditor.__docgenInfo,name:"TreeEditor",path:"src/TreeEditor.tsx#TreeEditor"})}catch(__react_docgen_typescript_loader_error){}try{Tree.displayName="Tree",Tree.__docgenInfo={description:"",displayName:"Tree",props:{nodes:{defaultValue:null,description:"",name:"nodes",required:!0,type:{name:"NodeMap"}},startId:{defaultValue:null,description:"",name:"startId",required:!0,type:{name:"string"}},defaultSelectedId:{defaultValue:null,description:"",name:"defaultSelectedId",required:!1,type:{name:"string"}},uncontrolled:{defaultValue:null,description:"",name:"uncontrolled",required:!1,type:{name:"boolean"}},singleColumn:{defaultValue:null,description:"",name:"singleColumn",required:!1,type:{name:"boolean"}},itemHeight:{defaultValue:null,description:"",name:"itemHeight",required:!1,type:{name:"number"}},topBottomMargin:{defaultValue:{value:"5"},description:"",name:"topBottomMargin",required:!1,type:{name:"number"}},lineHeight:{defaultValue:{value:"20"},description:"",name:"lineHeight",required:!1,type:{name:"number"}},textMaxWidth:{defaultValue:{value:"300"},description:"",name:"textMaxWidth",required:!1,type:{name:"number"}},fontSize:{defaultValue:null,description:"",name:"fontSize",required:!1,type:{name:"number"}},indent:{defaultValue:null,description:"",name:"indent",required:!1,type:{name:"number"}},columnSpacing:{defaultValue:null,description:"",name:"columnSpacing",required:!1,type:{name:"number"}},avatarWidth:{defaultValue:null,description:"",name:"avatarWidth",required:!1,type:{name:"number"}},checkBoxWidth:{defaultValue:null,description:"",name:"checkBoxWidth",required:!1,type:{name:"number"}},pathWidth:{defaultValue:null,description:"",name:"pathWidth",required:!1,type:{name:"number"}},pathColor:{defaultValue:null,description:"",name:"pathColor",required:!1,type:{name:"string"}},nodeColor:{defaultValue:{value:"#f0f0f0"},description:"",name:"nodeColor",required:!1,type:{name:"string"}},lineRadius:{defaultValue:null,description:"",name:"lineRadius",required:!1,type:{name:"number"}},avatarRadius:{defaultValue:{value:"11"},description:"",name:"avatarRadius",required:!1,type:{name:"number"}},disableShortcut:{defaultValue:null,description:"",name:"disableShortcut",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},showIcon:{defaultValue:null,description:"",name:"showIcon",required:!1,type:{name:"boolean"}},showAvatar:{defaultValue:null,description:"",name:"showAvatar",required:!1,type:{name:"boolean"}},hideHour:{defaultValue:null,description:"",name:"hideHour",required:!1,type:{name:"boolean"}},root_zoom_ratio:{defaultValue:null,description:"",name:"root_zoom_ratio",required:!1,type:{name:"number"}},second_zoom_ratio:{defaultValue:null,description:"",name:"second_zoom_ratio",required:!1,type:{name:"number"}},backgroundColor:{defaultValue:null,description:"",name:"backgroundColor",required:!1,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}},hoverBorderColor:{defaultValue:null,description:"",name:"hoverBorderColor",required:!1,type:{name:"string"}},selectedBorderColor:{defaultValue:null,description:"",name:"selectedBorderColor",required:!1,type:{name:"string"}},selectedBackgroundColor:{defaultValue:null,description:"",name:"selectedBackgroundColor",required:!1,type:{name:"string"}},quickCommandKey:{defaultValue:null,description:"",name:"quickCommandKey",required:!1,type:{name:"string"}},paddingLeft:{defaultValue:{value:"50"},description:"",name:"paddingLeft",required:!1,type:{name:"number"}},paddingTop:{defaultValue:{value:"50"},description:"",name:"paddingTop",required:!1,type:{name:"number"}},rainbowColor:{defaultValue:null,description:"",name:"rainbowColor",required:!1,type:{name:"boolean"}},startNodeBg:{defaultValue:{value:"#CB1B45"},description:"",name:"startNodeBg",required:!1,type:{name:"string"}},customAdornment:{defaultValue:null,description:"",name:"customAdornment",required:!1,type:{name:"FC<{ x: number; y: number; height: number; nodeKey: string; }>"}},handleClickExpand:{defaultValue:null,description:"",name:"handleClickExpand",required:!1,type:{name:"Function"}},handleCheck:{defaultValue:null,description:"",name:"handleCheck",required:!1,type:{name:"Function"}},handleClickAvatar:{defaultValue:null,description:"",name:"handleClickAvatar",required:!1,type:{name:"NodeClickFunc"}},handleClickStatus:{defaultValue:null,description:"",name:"handleClickStatus",required:!1,type:{name:"StatusClickFunc"}},handleClickNode:{defaultValue:null,description:"",name:"handleClickNode",required:!1,type:{name:"Function"}},handleDbClickNode:{defaultValue:null,description:"",name:"handleDbClickNode",required:!1,type:{name:"Function"}},handleChangeNodeText:{defaultValue:null,description:"",name:"handleChangeNodeText",required:!1,type:{name:"Function"}},handleAddNext:{defaultValue:null,description:"",name:"handleAddNext",required:!1,type:{name:"Function"}},handleAddChild:{defaultValue:null,description:"",name:"handleAddChild",required:!1,type:{name:"Function"}},handleDeleteNode:{defaultValue:null,description:"",name:"handleDeleteNode",required:!1,type:{name:"Function"}},handleClickPreviewButton:{defaultValue:null,description:"",name:"handleClickPreviewButton",required:!1,type:{name:"Function"}},handleClickDot:{defaultValue:null,description:"",name:"handleClickDot",required:!1,type:{name:"Function"}},handleShiftUpDown:{defaultValue:null,description:"",name:"handleShiftUpDown",required:!1,type:{name:"Function"}},handleDrag:{defaultValue:null,description:"",name:"handleDrag",required:!1,type:{name:"Function"}},handlePaste:{defaultValue:null,description:"",name:"handlePaste",required:!1,type:{name:"PasteFunc"}},dragEndFromOutside:{defaultValue:null,description:"",name:"dragEndFromOutside",required:!1,type:{name:"((node: CNode, dataTransferText: string) => void)"}},handleMouseEnterAvatar:{defaultValue:null,description:"",name:"handleMouseEnterAvatar",required:!1,type:{name:"Function"}},handleMouseLeaveAvatar:{defaultValue:null,description:"",name:"handleMouseLeaveAvatar",required:!1,type:{name:"Function"}},handleCrossCompDrag:{defaultValue:null,description:"",name:"handleCrossCompDrag",required:!1,type:{name:"Function"}},handleChange:{defaultValue:null,description:"",name:"handleChange",required:!1,type:{name:"(() => void)"}},showDeleteConform:{defaultValue:null,description:"",name:"showDeleteConform",required:!1,type:{name:"Function"}},handleMutiSelect:{defaultValue:null,description:"",name:"handleMutiSelect",required:!1,type:{name:"MutiSelectFunc"}},handleFileChange:{defaultValue:null,description:"",name:"handleFileChange",required:!1,type:{name:"HandleFileChange"}},handleQuickCommandOpen:{defaultValue:null,description:"",name:"handleQuickCommandOpen",required:!1,type:{name:"HandleQuickCommandOpen"}},handlePasteText:{defaultValue:null,description:"",name:"handlePasteText",required:!1,type:{name:"HandlePasteText"}},handleContextMenu:{defaultValue:null,description:"",name:"handleContextMenu",required:!1,type:{name:"((nodeKey: string, event: MouseEvent<Element, MouseEvent>) => void)"}},handleClickNodeImage:{defaultValue:null,description:"",name:"handleClickNodeImage",required:!1,type:{name:"((url?: string) => void)"}},handleResizeNodeImage:{defaultValue:null,description:"",name:"handleResizeNodeImage",required:!1,type:{name:"((nodeKey: string, nodeWidth: number) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/index.tsx#Tree"]={docgenInfo:Tree.__docgenInfo,name:"Tree",path:"src/index.tsx#Tree"})}catch(__react_docgen_typescript_loader_error){}try{MenuTree.displayName="MenuTree",MenuTree.__docgenInfo={description:"",displayName:"MenuTree",props:{nodes:{defaultValue:null,description:"",name:"nodes",required:!0,type:{name:"NodeMap"}},startId:{defaultValue:null,description:"",name:"startId",required:!0,type:{name:"string"}},defaultSelectedId:{defaultValue:null,description:"",name:"defaultSelectedId",required:!1,type:{name:"string"}},uncontrolled:{defaultValue:null,description:"",name:"uncontrolled",required:!1,type:{name:"boolean"}},itemHeight:{defaultValue:null,description:"",name:"itemHeight",required:!1,type:{name:"number"}},topBottomMargin:{defaultValue:{value:"5"},description:"",name:"topBottomMargin",required:!1,type:{name:"number"}},lineHeight:{defaultValue:{value:"20"},description:"",name:"lineHeight",required:!1,type:{name:"number"}},fontSize:{defaultValue:null,description:"",name:"fontSize",required:!1,type:{name:"number"}},indent:{defaultValue:{value:"18"},description:"",name:"indent",required:!1,type:{name:"number"}},avatarWidth:{defaultValue:null,description:"",name:"avatarWidth",required:!1,type:{name:"number"}},checkBoxWidth:{defaultValue:null,description:"",name:"checkBoxWidth",required:!1,type:{name:"number"}},disableShortcut:{defaultValue:null,description:"",name:"disableShortcut",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},showIcon:{defaultValue:null,description:"",name:"showIcon",required:!1,type:{name:"boolean"}},backgroundColor:{defaultValue:null,description:"",name:"backgroundColor",required:!1,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}},selectedBackgroundColor:{defaultValue:null,description:"",name:"selectedBackgroundColor",required:!1,type:{name:"string"}},paddingLeft:{defaultValue:{value:"0"},description:"",name:"paddingLeft",required:!1,type:{name:"number"}},handleClickExpand:{defaultValue:null,description:"",name:"handleClickExpand",required:!1,type:{name:"Function"}},handleClickNode:{defaultValue:null,description:"",name:"handleClickNode",required:!1,type:{name:"Function"}},handleDbClickNode:{defaultValue:null,description:"",name:"handleDbClickNode",required:!1,type:{name:"Function"}},handleChangeNodeText:{defaultValue:null,description:"",name:"handleChangeNodeText",required:!1,type:{name:"Function"}},handleAddNext:{defaultValue:null,description:"",name:"handleAddNext",required:!1,type:{name:"Function"}},handleAddChild:{defaultValue:null,description:"",name:"handleAddChild",required:!1,type:{name:"Function"}},handleDeleteNode:{defaultValue:null,description:"",name:"handleDeleteNode",required:!1,type:{name:"Function"}},handleShiftUpDown:{defaultValue:null,description:"",name:"handleShiftUpDown",required:!1,type:{name:"Function"}},handleDrag:{defaultValue:null,description:"",name:"handleDrag",required:!1,type:{name:"((dragId: string, dragInfo: DragInfo, event: DragEvent<Element>) => void)"}},handlePaste:{defaultValue:null,description:"",name:"handlePaste",required:!1,type:{name:"Function"}},dragLineColor:{defaultValue:null,description:"",name:"dragLineColor",required:!1,type:{name:"string"}},selectedColor:{defaultValue:null,description:"",name:"selectedColor",required:!1,type:{name:"string"}},hoverColor:{defaultValue:null,description:"",name:"hoverColor",required:!1,type:{name:"string"}},hoverBackgroundColor:{defaultValue:{value:"#4d4d4d"},description:"",name:"hoverBackgroundColor",required:!1,type:{name:"string"}},cutColor:{defaultValue:null,description:"",name:"cutColor",required:!1,type:{name:"string"}},showMoreButton:{defaultValue:null,description:"",name:"showMoreButton",required:!1,type:{name:"boolean"}},showChildNum:{defaultValue:{value:"false"},description:"",name:"showChildNum",required:!1,type:{name:"boolean"}},startAdornment:{defaultValue:null,description:"",name:"startAdornment",required:!1,type:{name:"((node: CNode, selected: boolean, hover: boolean) => ReactNode)"}},customActionButtons:{defaultValue:null,description:"",name:"customActionButtons",required:!1,type:{name:"((node: CNode, selected: boolean, hover: boolean) => ReactNode)"}},handleClickIcon:{defaultValue:null,description:"",name:"handleClickIcon",required:!1,type:{name:"Function"}},handleClickMoreButton:{defaultValue:null,description:"",name:"handleClickMoreButton",required:!1,type:{name:"NodeClickFunc"}},handleDragStart:{defaultValue:null,description:"",name:"handleDragStart",required:!1,type:{name:"((node: CNode, event: DragEvent<Element>) => void)"}},collapseMode:{defaultValue:null,description:"",name:"collapseMode",required:!1,type:{name:"boolean"}},draggable:{defaultValue:{value:"true"},description:"",name:"draggable",required:!1,type:{name:"boolean"}},storageData:{defaultValue:null,description:"",name:"storageData",required:!1,type:{name:"string[]"}},hideRoot:{defaultValue:null,description:"",name:"hideRoot",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/index.tsx#MenuTree"]={docgenInfo:MenuTree.__docgenInfo,name:"MenuTree",path:"src/index.tsx#MenuTree"})}catch(__react_docgen_typescript_loader_error){}try{MiniMenu.displayName="MiniMenu",MiniMenu.__docgenInfo={description:"",displayName:"MiniMenu",props:{nodes:{defaultValue:null,description:"",name:"nodes",required:!0,type:{name:"NodeMap"}},startId:{defaultValue:null,description:"",name:"startId",required:!0,type:{name:"string"}},dropdownNodeKeyList:{defaultValue:null,description:"",name:"dropdownNodeKeyList",required:!1,type:{name:"string[]"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},backgroundColor:{defaultValue:null,description:"",name:"backgroundColor",required:!1,type:{name:"string"}},selectedBackgroundColor:{defaultValue:null,description:"",name:"selectedBackgroundColor",required:!1,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}},itemHeight:{defaultValue:null,description:"",name:"itemHeight",required:!1,type:{name:"number"}},fontSize:{defaultValue:null,description:"",name:"fontSize",required:!1,type:{name:"number"}},columnSpacing:{defaultValue:null,description:"",name:"columnSpacing",required:!1,type:{name:"number"}},borderRadius:{defaultValue:null,description:"",name:"borderRadius",required:!1,type:{name:"number"}},normalFirstLevel:{defaultValue:null,description:"",name:"normalFirstLevel",required:!1,type:{name:"boolean"}},handleClickNode:{defaultValue:null,description:"",name:"handleClickNode",required:!1,type:{name:"Function"}},handleClickExpand:{defaultValue:null,description:"",name:"handleClickExpand",required:!1,type:{name:"Function"}},handleMouseEnter:{defaultValue:null,description:"",name:"handleMouseEnter",required:!1,type:{name:"Function"}},handleMouseLeave:{defaultValue:null,description:"",name:"handleMouseLeave",required:!1,type:{name:"Function"}},handleCrossCompDrag:{defaultValue:null,description:"",name:"handleCrossCompDrag",required:!1,type:{name:"Function"}},tools:{defaultValue:null,description:"",name:"tools",required:!1,type:{name:"((nodeKey: string) => ReactNode)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/index.tsx#MiniMenu"]={docgenInfo:MiniMenu.__docgenInfo,name:"MiniMenu",path:"src/index.tsx#MiniMenu"})}catch(__react_docgen_typescript_loader_error){}try{Catalog.displayName="Catalog",Catalog.__docgenInfo={description:"",displayName:"Catalog",props:{nodes:{defaultValue:null,description:"",name:"nodes",required:!0,type:{name:"NodeMap"}},startId:{defaultValue:null,description:"",name:"startId",required:!0,type:{name:"string"}},backgroundColor:{defaultValue:null,description:"",name:"backgroundColor",required:!1,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}},hoverColor:{defaultValue:null,description:"",name:"hoverColor",required:!1,type:{name:"string"}},itemHeight:{defaultValue:null,description:"",name:"itemHeight",required:!1,type:{name:"number"}},topBottomMargin:{defaultValue:{value:"5"},description:"",name:"topBottomMargin",required:!1,type:{name:"number"}},lineHeight:{defaultValue:{value:"20"},description:"",name:"lineHeight",required:!1,type:{name:"number"}},titleFontSize:{defaultValue:null,description:"",name:"titleFontSize",required:!1,type:{name:"number"}},fontSize:{defaultValue:null,description:"",name:"fontSize",required:!1,type:{name:"number"}},indent:{defaultValue:null,description:"",name:"indent",required:!1,type:{name:"number"}},avatarWidth:{defaultValue:null,description:"",name:"avatarWidth",required:!1,type:{name:"number"}},handleClickNode:{defaultValue:null,description:"",name:"handleClickNode",required:!1,type:{name:"Function"}},info:{defaultValue:null,description:"",name:"info",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},itemInfoMap:{defaultValue:null,description:"",name:"itemInfoMap",required:!1,type:{name:"ItemInfoMap"}},hideTitle:{defaultValue:null,description:"",name:"hideTitle",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/index.tsx#Catalog"]={docgenInfo:Catalog.__docgenInfo,name:"Catalog",path:"src/index.tsx#Catalog"})}catch(__react_docgen_typescript_loader_error){}try{Mind.displayName="Mind",Mind.__docgenInfo={description:"",displayName:"Mind",props:{nodes:{defaultValue:null,description:"",name:"nodes",required:!0,type:{name:"NodeMap"}},startId:{defaultValue:null,description:"",name:"startId",required:!0,type:{name:"string"}},defaultSelectedId:{defaultValue:null,description:"",name:"defaultSelectedId",required:!1,type:{name:"string"}},uncontrolled:{defaultValue:null,description:"",name:"uncontrolled",required:!1,type:{name:"boolean"}},singleColumn:{defaultValue:null,description:"",name:"singleColumn",required:!1,type:{name:"boolean"}},topBottomMargin:{defaultValue:{value:"5"},description:"",name:"topBottomMargin",required:!1,type:{name:"number"}},lineHeight:{defaultValue:{value:"20"},description:"",name:"lineHeight",required:!1,type:{name:"number"}},textMaxWidth:{defaultValue:{value:"300"},description:"",name:"textMaxWidth",required:!1,type:{name:"number"}},fontSize:{defaultValue:null,description:"",name:"fontSize",required:!1,type:{name:"number"}},indent:{defaultValue:null,description:"",name:"indent",required:!1,type:{name:"number"}},avatarWidth:{defaultValue:null,description:"",name:"avatarWidth",required:!1,type:{name:"number"}},checkBoxWidth:{defaultValue:null,description:"",name:"checkBoxWidth",required:!1,type:{name:"number"}},pathWidth:{defaultValue:null,description:"",name:"pathWidth",required:!1,type:{name:"number"}},pathColor:{defaultValue:null,description:"",name:"pathColor",required:!1,type:{name:"string"}},nodeColor:{defaultValue:{value:"#f0f0f0"},description:"",name:"nodeColor",required:!1,type:{name:"string"}},avatarRadius:{defaultValue:{value:"11"},description:"",name:"avatarRadius",required:!1,type:{name:"number"}},disableShortcut:{defaultValue:null,description:"",name:"disableShortcut",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},showIcon:{defaultValue:null,description:"",name:"showIcon",required:!1,type:{name:"boolean"}},showAvatar:{defaultValue:null,description:"",name:"showAvatar",required:!1,type:{name:"boolean"}},hideHour:{defaultValue:null,description:"",name:"hideHour",required:!1,type:{name:"boolean"}},root_zoom_ratio:{defaultValue:null,description:"",name:"root_zoom_ratio",required:!1,type:{name:"number"}},second_zoom_ratio:{defaultValue:null,description:"",name:"second_zoom_ratio",required:!1,type:{name:"number"}},backgroundColor:{defaultValue:null,description:"",name:"backgroundColor",required:!1,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}},hoverBorderColor:{defaultValue:null,description:"",name:"hoverBorderColor",required:!1,type:{name:"string"}},selectedBorderColor:{defaultValue:null,description:"",name:"selectedBorderColor",required:!1,type:{name:"string"}},selectedBackgroundColor:{defaultValue:null,description:"",name:"selectedBackgroundColor",required:!1,type:{name:"string"}},quickCommandKey:{defaultValue:null,description:"",name:"quickCommandKey",required:!1,type:{name:"string"}},paddingLeft:{defaultValue:{value:"50"},description:"",name:"paddingLeft",required:!1,type:{name:"number"}},paddingTop:{defaultValue:{value:"50"},description:"",name:"paddingTop",required:!1,type:{name:"number"}},rainbowColor:{defaultValue:null,description:"",name:"rainbowColor",required:!1,type:{name:"boolean"}},startNodeBg:{defaultValue:{value:"#CB1B45"},description:"",name:"startNodeBg",required:!1,type:{name:"string"}},customAdornment:{defaultValue:null,description:"",name:"customAdornment",required:!1,type:{name:"FC<{ x: number; y: number; height: number; nodeKey: string; }>"}},handleClickExpand:{defaultValue:null,description:"",name:"handleClickExpand",required:!1,type:{name:"Function"}},handleCheck:{defaultValue:null,description:"",name:"handleCheck",required:!1,type:{name:"Function"}},handleClickAvatar:{defaultValue:null,description:"",name:"handleClickAvatar",required:!1,type:{name:"NodeClickFunc"}},handleClickStatus:{defaultValue:null,description:"",name:"handleClickStatus",required:!1,type:{name:"StatusClickFunc"}},handleClickNode:{defaultValue:null,description:"",name:"handleClickNode",required:!1,type:{name:"Function"}},handleDbClickNode:{defaultValue:null,description:"",name:"handleDbClickNode",required:!1,type:{name:"Function"}},handleChangeNodeText:{defaultValue:null,description:"",name:"handleChangeNodeText",required:!1,type:{name:"Function"}},handleAddNext:{defaultValue:null,description:"",name:"handleAddNext",required:!1,type:{name:"Function"}},handleAddChild:{defaultValue:null,description:"",name:"handleAddChild",required:!1,type:{name:"Function"}},handleDeleteNode:{defaultValue:null,description:"",name:"handleDeleteNode",required:!1,type:{name:"Function"}},handleClickPreviewButton:{defaultValue:null,description:"",name:"handleClickPreviewButton",required:!1,type:{name:"Function"}},handleClickDot:{defaultValue:null,description:"",name:"handleClickDot",required:!1,type:{name:"Function"}},handleShiftUpDown:{defaultValue:null,description:"",name:"handleShiftUpDown",required:!1,type:{name:"Function"}},handleDrag:{defaultValue:null,description:"",name:"handleDrag",required:!1,type:{name:"Function"}},handlePaste:{defaultValue:null,description:"",name:"handlePaste",required:!1,type:{name:"PasteFunc"}},dragEndFromOutside:{defaultValue:null,description:"",name:"dragEndFromOutside",required:!1,type:{name:"((node: CNode, dataTransferText: string) => void)"}},handleMouseEnterAvatar:{defaultValue:null,description:"",name:"handleMouseEnterAvatar",required:!1,type:{name:"Function"}},handleMouseLeaveAvatar:{defaultValue:null,description:"",name:"handleMouseLeaveAvatar",required:!1,type:{name:"Function"}},handleCrossCompDrag:{defaultValue:null,description:"",name:"handleCrossCompDrag",required:!1,type:{name:"Function"}},handleChange:{defaultValue:null,description:"",name:"handleChange",required:!1,type:{name:"Function"}},showDeleteConform:{defaultValue:null,description:"",name:"showDeleteConform",required:!1,type:{name:"Function"}},handleMutiSelect:{defaultValue:null,description:"",name:"handleMutiSelect",required:!1,type:{name:"MutiSelectFunc"}},handleFileChange:{defaultValue:null,description:"",name:"handleFileChange",required:!1,type:{name:"HandleFileChange"}},handleQuickCommandOpen:{defaultValue:null,description:"",name:"handleQuickCommandOpen",required:!1,type:{name:"HandleQuickCommandOpen"}},handlePasteText:{defaultValue:null,description:"",name:"handlePasteText",required:!1,type:{name:"HandlePasteText"}},handleContextMenu:{defaultValue:null,description:"",name:"handleContextMenu",required:!1,type:{name:"((nodeKey: string, event: MouseEvent<Element, MouseEvent>) => void)"}},handleClickNodeImage:{defaultValue:null,description:"",name:"handleClickNodeImage",required:!1,type:{name:"((url?: string) => void)"}},handleResizeNodeImage:{defaultValue:null,description:"",name:"handleResizeNodeImage",required:!1,type:{name:"((nodeKey: string, nodeWidth: number) => void)"}},rowGap:{defaultValue:{value:"12"},description:"",name:"rowGap",required:!1,type:{name:"number"}},moreButtonWidth:{defaultValue:null,description:"",name:"moreButtonWidth",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/index.tsx#Mind"]={docgenInfo:Mind.__docgenInfo,name:"Mind",path:"src/index.tsx#Mind"})}catch(__react_docgen_typescript_loader_error){}try{MobileTree.displayName="MobileTree",MobileTree.__docgenInfo={description:"",displayName:"MobileTree",props:{nodes:{defaultValue:null,description:"",name:"nodes",required:!0,type:{name:"NodeMap"}},startId:{defaultValue:null,description:"",name:"startId",required:!0,type:{name:"string"}},defaultSelectedId:{defaultValue:null,description:"",name:"defaultSelectedId",required:!1,type:{name:"string"}},uncontrolled:{defaultValue:{value:"true"},description:"",name:"uncontrolled",required:!1,type:{name:"boolean"}},itemHeight:{defaultValue:{value:"30"},description:"",name:"itemHeight",required:!1,type:{name:"number"}},topBottomMargin:{defaultValue:{value:"5"},description:"",name:"topBottomMargin",required:!1,type:{name:"number"}},lineHeight:{defaultValue:{value:"20"},description:"",name:"lineHeight",required:!1,type:{name:"number"}},fontSize:{defaultValue:{value:"14"},description:"",name:"fontSize",required:!1,type:{name:"number"}},indent:{defaultValue:{value:"18"},description:"",name:"indent",required:!1,type:{name:"number"}},avatarWidth:{defaultValue:null,description:"",name:"avatarWidth",required:!1,type:{name:"number"}},checkBoxWidth:{defaultValue:null,description:"",name:"checkBoxWidth",required:!1,type:{name:"number"}},disableShortcut:{defaultValue:null,description:"",name:"disableShortcut",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},showIcon:{defaultValue:{value:"true"},description:"",name:"showIcon",required:!1,type:{name:"boolean"}},backgroundColor:{defaultValue:{value:"#FFF"},description:"",name:"backgroundColor",required:!1,type:{name:"string"}},color:{defaultValue:{value:"#595959"},description:"",name:"color",required:!1,type:{name:"string"}},selectedBackgroundColor:{defaultValue:{value:"#ededed"},description:"",name:"selectedBackgroundColor",required:!1,type:{name:"string"}},handleClickExpand:{defaultValue:null,description:"",name:"handleClickExpand",required:!1,type:{name:"Function"}},handleClickNode:{defaultValue:null,description:"",name:"handleClickNode",required:!1,type:{name:"Function"}},handleDbClickNode:{defaultValue:null,description:"",name:"handleDbClickNode",required:!1,type:{name:"Function"}},handleChangeNodeText:{defaultValue:null,description:"",name:"handleChangeNodeText",required:!1,type:{name:"Function"}},handleAddNext:{defaultValue:null,description:"",name:"handleAddNext",required:!1,type:{name:"Function"}},handleAddChild:{defaultValue:null,description:"",name:"handleAddChild",required:!1,type:{name:"Function"}},handleDeleteNode:{defaultValue:null,description:"",name:"handleDeleteNode",required:!1,type:{name:"Function"}},handleClickDot:{defaultValue:null,description:"",name:"handleClickDot",required:!1,type:{name:"Function"}},handleShiftUpDown:{defaultValue:null,description:"",name:"handleShiftUpDown",required:!1,type:{name:"Function"}},handleDrag:{defaultValue:null,description:"",name:"handleDrag",required:!1,type:{name:"Function"}},handlePaste:{defaultValue:null,description:"",name:"handlePaste",required:!1,type:{name:"Function"}},dragLineColor:{defaultValue:{value:"#00CDD3"},description:"",name:"dragLineColor",required:!1,type:{name:"string"}},selectedColor:{defaultValue:{value:"#1CA8B3"},description:"",name:"selectedColor",required:!1,type:{name:"string"}},hoverColor:{defaultValue:{value:"#595959"},description:"",name:"hoverColor",required:!1,type:{name:"string"}},hoverBackgroundColor:{defaultValue:{value:"#f0f0f0"},description:"",name:"hoverBackgroundColor",required:!1,type:{name:"string"}},cutColor:{defaultValue:null,description:"",name:"cutColor",required:!1,type:{name:"string"}},showMoreButton:{defaultValue:null,description:"",name:"showMoreButton",required:!1,type:{name:"boolean"}},showChildNum:{defaultValue:{value:"false"},description:"",name:"showChildNum",required:!1,type:{name:"boolean"}},handleClickIcon:{defaultValue:null,description:"",name:"handleClickIcon",required:!1,type:{name:"Function"}},collapseMode:{defaultValue:null,description:"",name:"collapseMode",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/index.tsx#MobileTree"]={docgenInfo:MobileTree.__docgenInfo,name:"MobileTree",path:"src/index.tsx#MobileTree"})}catch(__react_docgen_typescript_loader_error){}try{Slides.displayName="Slides",Slides.__docgenInfo={description:"",displayName:"Slides",props:{nodes:{defaultValue:null,description:"",name:"nodes",required:!0,type:{name:"NodeMap"}},startId:{defaultValue:null,description:"",name:"startId",required:!0,type:{name:"string"}},getNodeUrl:{defaultValue:null,description:"",name:"getNodeUrl",required:!0,type:{name:"GetNodeUrlFunc"}},themeColor:{defaultValue:{value:"#1CA8B3"},description:"",name:"themeColor",required:!1,type:{name:"string"}},bright:{defaultValue:{value:"true"},description:"",name:"bright",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/index.tsx#Slides"]={docgenInfo:Slides.__docgenInfo,name:"Slides",path:"src/index.tsx#Slides"})}catch(__react_docgen_typescript_loader_error){}try{TreeEditor.displayName="TreeEditor",TreeEditor.__docgenInfo={description:"",displayName:"TreeEditor",props:{nodes:{defaultValue:null,description:"",name:"nodes",required:!0,type:{name:"NodeMap"}},startId:{defaultValue:null,description:"",name:"startId",required:!0,type:{name:"string"}},uncontrolled:{defaultValue:{value:"true"},description:"",name:"uncontrolled",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},showIcon:{defaultValue:{value:"true"},description:"",name:"showIcon",required:!1,type:{name:"boolean"}},backgroundColor:{defaultValue:{value:"#F5F5F5"},description:"",name:"backgroundColor",required:!1,type:{name:"string"}},quickCommandKey:{defaultValue:null,description:"",name:"quickCommandKey",required:!1,type:{name:"string"}},handleClickExpand:{defaultValue:null,description:"",name:"handleClickExpand",required:!1,type:{name:"Function"}},handleCheck:{defaultValue:null,description:"",name:"handleCheck",required:!1,type:{name:"Function"}},handleClickAvatar:{defaultValue:null,description:"",name:"handleClickAvatar",required:!1,type:{name:"NodeClickFunc"}},handleClickStatus:{defaultValue:null,description:"",name:"handleClickStatus",required:!1,type:{name:"NodeClickFunc"}},handleClickNode:{defaultValue:null,description:"",name:"handleClickNode",required:!1,type:{name:"Function"}},handleChangeNodeText:{defaultValue:null,description:"",name:"handleChangeNodeText",required:!1,type:{name:"Function"}},handleAddNext:{defaultValue:null,description:"",name:"handleAddNext",required:!1,type:{name:"HandleAddNext"}},handleAddChild:{defaultValue:null,description:"",name:"handleAddChild",required:!1,type:{name:"Function"}},handleDeleteNode:{defaultValue:null,description:"",name:"handleDeleteNode",required:!1,type:{name:"Function"}},handleClickPreviewButton:{defaultValue:null,description:"",name:"handleClickPreviewButton",required:!1,type:{name:"Function"}},handleClickDot:{defaultValue:null,description:"",name:"handleClickDot",required:!1,type:{name:"Function"}},handleShiftUpDown:{defaultValue:null,description:"",name:"handleShiftUpDown",required:!1,type:{name:"Function"}},handleDrag:{defaultValue:null,description:"",name:"handleDrag",required:!1,type:{name:"Function"}},handlePaste:{defaultValue:null,description:"",name:"handlePaste",required:!1,type:{name:"Function"}},showDeleteConform:{defaultValue:null,description:"",name:"showDeleteConform",required:!1,type:{name:"Function"}},handleMutiSelect:{defaultValue:null,description:"",name:"handleMutiSelect",required:!1,type:{name:"MutiSelectFunc"}},cutColor:{defaultValue:null,description:"",name:"cutColor",required:!1,type:{name:"string"}},handleClickIcon:{defaultValue:null,description:"",name:"handleClickIcon",required:!1,type:{name:"Function"}},handleClickMoreButton:{defaultValue:null,description:"",name:"handleClickMoreButton",required:!1,type:{name:"HandleClickMore"}},collapseMode:{defaultValue:null,description:"",name:"collapseMode",required:!1,type:{name:"boolean"}},themeColor:{defaultValue:{value:"#1CA8B3"},description:"",name:"themeColor",required:!1,type:{name:"string"}},readonly:{defaultValue:null,description:"",name:"readonly",required:!1,type:{name:"boolean"}},defaultFocusedId:{defaultValue:null,description:"",name:"defaultFocusedId",required:!1,type:{name:"string"}},defaultNoteFocusedNodeId:{defaultValue:null,description:"",name:"defaultNoteFocusedNodeId",required:!1,type:{name:"string"}},showPreviewButton:{defaultValue:{value:"true"},description:"",name:"showPreviewButton",required:!1,type:{name:"boolean"}},quickCommands:{defaultValue:{value:"[]"},description:"",name:"quickCommands",required:!1,type:{name:"string[]"}},handleCommandChanged:{defaultValue:null,description:"",name:"handleCommandChanged",required:!1,type:{name:"HandleCommandChange"}},handlePasteFiles:{defaultValue:null,description:"",name:"handlePasteFiles",required:!0,type:{name:"HandlePasteFile"}},handleDeleteAttach:{defaultValue:null,description:"",name:"handleDeleteAttach",required:!0,type:{name:"HandleDeleteAttach"}},handleAddNote:{defaultValue:null,description:"",name:"handleAddNote",required:!1,type:{name:"HandleAddNote"}},handleChangeNote:{defaultValue:null,description:"",name:"handleChangeNote",required:!1,type:{name:"HandleChangeNote"}},handleDeleteNote:{defaultValue:null,description:"",name:"handleDeleteNote",required:!1,type:{name:"HandleDeleteNote"}},handleTabAction:{defaultValue:null,description:"",name:"handleTabAction",required:!1,type:{name:"TabAction"}},handleAddPrevious:{defaultValue:null,description:"",name:"handleAddPrevious",required:!1,type:{name:"HandleAddNext"}},handleClickAddButton:{defaultValue:null,description:"",name:"handleClickAddButton",required:!1,type:{name:"HandleClickMore"}},handleClickUpload:{defaultValue:null,description:"",name:"handleClickUpload",required:!1,type:{name:"HandleClickUpload"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/index.tsx#TreeEditor"]={docgenInfo:TreeEditor.__docgenInfo,name:"TreeEditor",path:"src/index.tsx#TreeEditor"})}catch(__react_docgen_typescript_loader_error){}},"./src/slides.css":function(module,exports,__webpack_require__){var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js?!./node_modules/@storybook/builder-webpack4/node_modules/postcss-loader/dist/cjs.js?!./src/slides.css");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/treeEditor.css":function(module,exports,__webpack_require__){var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js?!./node_modules/@storybook/builder-webpack4/node_modules/postcss-loader/dist/cjs.js?!./src/treeEditor.css");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./stories sync recursive ^\\.(?:(?:^|[\\\\/]|(?:(?:(?!(?:^|[\\\\/])\\.).)*?)[\\\\/])(?!\\.)(?=.)[^\\\\/]*?\\.stories\\.(ts|tsx|js|jsx))$":function(module,exports,__webpack_require__){var map={"./A-Tree.stories.tsx":"./stories/A-Tree.stories.tsx","./B-Mind.stories.tsx":"./stories/B-Mind.stories.tsx","./MenuTree.stories.tsx":"./stories/MenuTree.stories.tsx","./MiniMenu.stories.tsx":"./stories/MiniMenu.stories.tsx","./MobileTree.stories.tsx":"./stories/MobileTree.stories.tsx","./Slide.stories.tsx":"./stories/Slide.stories.tsx","./TreeEditor.stories.tsx":"./stories/TreeEditor.stories.tsx","./Z-Catalog.stories.tsx":"./stories/Z-Catalog.stories.tsx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./stories sync recursive ^\\.(?:(?:^|[\\\\/]|(?:(?:(?!(?:^|[\\\\/])\\.).)*?)[\\\\/])(?!\\.)(?=.)[^\\\\/]*?\\.stories\\.(ts|tsx|js|jsx))$"},"./stories/A-Tree.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"MultiCol",(function(){return MultiCol})),__webpack_require__.d(__webpack_exports__,"MultiColDark",(function(){return MultiColDark})),__webpack_require__.d(__webpack_exports__,"SingleCol",(function(){return SingleCol})),__webpack_require__.d(__webpack_exports__,"TreeMenu",(function(){return TreeMenu}));__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js");var react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/index.js"),_src__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js"),nodes={"001":{_key:"001",name:"項目管理",father:"",sortList:["002","003","004","005"],contract:!1,checked:!0,hour:.1},"002":{_key:"002",name:"链接地址是http://www.jyoketsu.com",father:"001",sortList:["006","007"],contract:!1,showCheckbox:!0,showStatus:!0,checked:!0,hour:.1,limitDay:1610812800111,hasCollect:!0,isPack:!0,avatarUri:"https://psnine.com/Upload/game/10992.png",icon:"😀",dotIcon:"https://cdn-icare.qingtime.cn/shareOut1.svg?v=1604893936765"},"003":{_key:"003",name:"項目狀態",father:"001",sortList:["010","011"],showCheckbox:!0,showStatus:!0,checked:!1,color:"#fff",backgroundColor:"#90B44B",hour:.1,limitDay:16165152e5,icon:"https://cdn-icare.qingtime.cn/favFolder.svg",avatarUri:"https://psnine.com/Upload/game/11333.png",bold:!0,italic:!0,textDecoration:"underline"},"004":{_key:"004",name:"項目會議",father:"001",sortList:[],showStatus:!0,checked:!1,startAdornment:function startAdornment(_ref){var x=_ref.x,y=_ref.y,nodeKey=_ref.nodeKey;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("g",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("svg",{viewBox:"0 0 1024 1024",version:"1.1",width:"18",height:"18",x:x,y:y,onClick:function onClick(){return alert(nodeKey)},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("rect",{x:0,y:0,width:"1024",height:"1024",fillOpacity:0}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("g",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("path",{d:"M723.626667 44.373333a23.210667 23.210667 0 0 1 28.672 9.728l1.706666 3.456 93.44 237.056a23.808 23.808 0 0 1-12.970666 30.805334 23.210667 23.210667 0 0 1-28.672-9.728l-1.706667-3.456-84.821333-215.082667-562.389334 228.266667a23.210667 23.210667 0 0 1-28.714666-9.728l-1.706667-3.456a23.893333 23.893333 0 0 1 9.642667-29.098667l3.413333-1.706667L723.626667 44.373333z",fill:"#055275","p-id":"4112"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("path",{d:"M965.973333 279.722667H31.36a23.552 23.552 0 0 0-23.338667 23.68v142.208c0 13.098667 10.453333 23.722667 23.338667 23.722666 66.56 0 116.821333 45.354667 116.821333 118.528S97.877333 706.389333 31.36 706.389333a23.552 23.552 0 0 0-23.338667 23.68v142.208c0 13.098667 10.453333 23.722667 23.338667 23.722667H965.973333a23.552 23.552 0 0 0 23.338667-23.722667v-142.208a23.552 23.552 0 0 0-23.338667-23.68c-58.752 0-116.821333-62.208-116.821333-130.389333 0-62.890667 51.754667-106.666667 116.821333-106.666667a23.552 23.552 0 0 0 23.338667-23.722666V303.402667a23.552 23.552 0 0 0-23.338667-23.68z",fill:"#055275","p-id":"4113"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("path",{d:"M475.306667 502.186667c12.885333 0 23.338667 10.581333 23.338666 23.68a23.594667 23.594667 0 0 1-19.541333 23.381333l-3.84 0.298667H335.146667a23.552 23.552 0 0 1-23.338667-23.68c0-11.776 8.448-21.546667 19.541333-23.381334l3.84-0.341333h140.16zM662.186667 644.394667c12.928 0 23.381333 10.581333 23.381333 23.68a23.594667 23.594667 0 0 1-19.541333 23.424l-3.84 0.298666H335.146667a23.552 23.552 0 0 1-23.338667-23.722666c0-11.776 8.448-21.546667 19.541333-23.381334l3.84-0.298666h327.082667z",fill:"#FFFFFF","p-id":"4114"})]})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("svg",{viewBox:"0 0 1024 1024",version:"1.1",width:"18",height:"18",x:x+18,y:y,onClick:function onClick(){return alert(nodeKey)},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("rect",{x:0,y:0,width:"1024",height:"1024",fillOpacity:0}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("g",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("path",{d:"M108.918154 3.544615L109.902769 3.150769A46.828308 46.828308 0 0 1 125.538462 0h2.363076l2.481231 0.118154L126.877538 0a47.182769 47.182769 0 0 1 16.423385 2.953846l1.024 0.393846 770.205539 308.342154c18.510769 7.404308 30.680615 25.718154 30.680615 46.158769 0 20.440615-12.209231 38.793846-30.680615 46.15877L175.005538 700.022154v274.432c0 27.372308-21.543385 49.545846-48.128 49.545846C100.292923 1024 78.749538 1001.826462 78.749538 974.454154V49.545846C78.749538 44.110769 79.576615 38.912 81.112615 34.067692L81.742769 32.452923l1.181539-3.032615 0.748307-1.575385C84.145231 26.742154 84.657231 25.6 85.287385 24.615385L85.917538 23.512615a47.261538 47.261538 0 0 1 9.846154-11.776c3.702154-3.229538 7.876923-5.907692 12.406154-7.876923l0.787692-0.275692z",fill:"#DD3535","p-id":"6742"})})]})]})},startAdornmentWidth:36,startAdornmentHeight:18,endAdornment:function endAdornment(_ref2){var x=_ref2.x,y=_ref2.y,nodeKey=_ref2.nodeKey;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("svg",{viewBox:"0 0 1024 1024",version:"1.1",width:"18",height:"18",x:x,y:y,onClick:function onClick(){return alert(nodeKey)},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("rect",{x:0,y:0,width:"1024",height:"1024",fillOpacity:0}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("g",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("path",{d:"M286.936897 892.759411l-198.396859-198.396858L636.968688 146.061901l198.396859 198.396858L286.936897 892.759411z m676.255959-769.225154l-105.384998-105.384998c-25.684927-25.684927-69.118906-23.892955-97.06513 4.053269l-98.985099 98.9851 198.396859 198.396859 98.985099-98.9851c27.903558-27.946224 29.738196-71.380203 4.053269-97.06513zM70.150996 725.594058L0.008107 981.334009l255.697284-70.14289-185.597061-185.597061z",fill:"#7151E3","p-id":"8349"})})]})},endAdornmentWidth:18,endAdornmentHeight:18,bottomAdornment:function bottomAdornment(_ref3){var x=_ref3.x,y=_ref3.y,nodeKey=_ref3.nodeKey;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("text",{x:x+15,y:y+15,dominantBaseline:"middle",fontSize:"12px",onClick:function onClick(){return alert(nodeKey)},children:"this is bottom endAdornment"})},bottomAdornmentWidth:200,bottomAdornmentHeight:30},"005":{_key:"005",name:"untitled",father:"001",sortList:[],bold:!0,checked:!1,hour:.1,limitDay:16107264e5},"006":{_key:"006",name:"階段壹",father:"002",contract:!1,sortList:["008","009"],checked:!1,hour:.1,limitDay:16107264e5,startAdornment:function startAdornment(_ref4){var x=_ref4.x,y=_ref4.y,nodeKey=_ref4.nodeKey;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("svg",{viewBox:"0 0 1024 1024",version:"1.1",width:"18",height:"18",x:x,y:y,onClick:function onClick(){return alert(nodeKey)},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("path",{d:"M512 512m-448 0a448 448 0 1 0 896 0 448 448 0 1 0-896 0Z",fill:"#2196F3"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("path",{d:"M469.333333 469.333333h85.333334v234.666667h-85.333334z",fill:"#FFFFFF"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("path",{d:"M512 352m-53.333333 0a53.333333 53.333333 0 1 0 106.666666 0 53.333333 53.333333 0 1 0-106.666666 0Z",fill:"#FFFFFF"})]})},startAdornmentWidth:18,startAdornmentHeight:18,endAdornment:function endAdornment(_ref5){var x=_ref5.x,y=_ref5.y,nodeKey=_ref5.nodeKey;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("svg",{viewBox:"0 0 1024 1024",version:"1.1",width:"18",height:"18",x:x,y:y,onClick:function onClick(){return alert(nodeKey)},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("rect",{x:0,y:0,width:"1024",height:"1024",fillOpacity:0}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("path",{d:"M886.624 297.376l-191.968-191.968c-2.944-2.944-6.432-5.312-10.336-6.912C680.48 96.864 676.288 96 672 96L224 96C171.072 96 128 139.072 128 192l0 640c0 52.928 43.072 96 96 96l576 0c52.928 0 96-43.072 96-96L896 320C896 311.52 892.64 303.36 886.624 297.376zM704 205.248 818.752 320 704 320 704 205.248zM800 864 224 864c-17.632 0-32-14.336-32-32L192 192c0-17.632 14.368-32 32-32l416 0 0 192c0 17.664 14.304 32 32 32l160 0 0 448C832 849.664 817.664 864 800 864z",fill:"#5D646F","p-id":"7882"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("path",{d:"M288 352l192 0c17.664 0 32-14.336 32-32s-14.336-32-32-32L288 288c-17.664 0-32 14.336-32 32S270.336 352 288 352z",fill:"#5D646F","p-id":"7883"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("path",{d:"M608 480 288 480c-17.664 0-32 14.336-32 32s14.336 32 32 32l320 0c17.696 0 32-14.336 32-32S625.696 480 608 480z",fill:"#5D646F","p-id":"7884"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("path",{d:"M608 672 288 672c-17.664 0-32 14.304-32 32s14.336 32 32 32l320 0c17.696 0 32-14.304 32-32S625.696 672 608 672z",fill:"#5D646F","p-id":"7885"})]})},endAdornmentWidth:18,endAdornmentHeight:18},"007":{_key:"007",name:"階段二",father:"002",sortList:[],color:"#8D742A",checked:!1,hour:.1,limitDay:16107264e5},"008":{_key:"008",name:"備份json文件",father:"006",sortList:[],icon:"😀",checked:!1,hour:.1,limitDay:16107264e5},"009":{_key:"009",name:"還原數據",father:"006",sortList:["015"],checked:!1,hour:11,limitDay:16107264e5},"010":{_key:"010",name:"4月計劃",father:"003",sortList:[],checked:!1,showCheckbox:!0,showStatus:!0,hour:.1,limitDay:1610640000333,textDecoration:"line-through"},"011":{_key:"011",name:"5月計劃",father:"003",sortList:["012","013","014"],contract:!1,checked:!0,hour:.1,limitDay:16107264e5,imageUrl:"https://psnine.com/Upload/game/11882.png",imageWidth:100,imageHeight:100},"012":{_key:"012",name:"原型、界面設計",father:"011",sortList:[],checked:!0,hour:.1,limitDay:16107264e5},"013":{_key:"013",name:"開發",father:"011",sortList:[],color:"#DB4D6D",backgroundColor:"#66BAB7",checked:!0,hour:.1,limitDay:16107264e5},"014":{_key:"014",name:"#md請輸入正文",father:"011",sortList:[],checked:!0,hour:.1,limitDay:16107264e5},"015":{_key:"015",name:"還原數據還原數據還原數據還原數據還原數據還原數據還原數據還原數據還原數據",father:"009",sortList:[],checked:!0,hour:.1,limitDay:16107264e5}},nodes2={"001":{_key:"001",name:"項目管理",father:"",sortList:["002","003","004","005"],contract:!1,avatarUri:"https://psnine.com/Upload/game/11387.png",checked:!0,hour:.1,limitDay:new Date((new Date).setHours(0,0,0,0)).getTime()},"002":{_key:"002",name:"計劃進度",father:"001",sortList:["006","007"],contract:!1,checked:!0,hour:.1,limitDay:new Date((new Date).setHours(0,0,0,0)).getTime()},"003":{_key:"003",name:"項目狀態",father:"001",sortList:["010","011"],checked:!1,hour:.1,limitDay:16107264e5},"004":{_key:"004",name:"項目會議",father:"001",sortList:[],checked:!1,hour:.1,limitDay:16107264e5},"005":{_key:"005",name:"驗收",father:"001",sortList:[],checked:!1,hour:.1,limitDay:16107264e5},"006":{_key:"006",name:"階段壹",father:"002",contract:!1,sortList:["008","009"],checked:!1,hour:.1,limitDay:16107264e5,imageUrl:"https://psnine.com/Upload/game/11882.png",imageWidth:100,imageHeight:100},"007":{_key:"007",name:"階段二",father:"002",sortList:[],checked:!1,hour:.1,limitDay:16107264e5},"008":{_key:"008",name:"備份json文件",father:"006",sortList:[],checked:!1,hour:.1,limitDay:16107264e5},"009":{_key:"009",name:"還原數據",father:"006",sortList:["015"],checked:!1,hour:.1,limitDay:16107264e5},"010":{_key:"010",name:"4月計劃",father:"003",sortList:[],checked:!0,hour:.1,limitDay:16107264e5},"011":{_key:"011",name:"5月計劃",father:"003",sortList:["012","013","014"],contract:!1,checked:!0,hour:.1,limitDay:16107264e5},"012":{_key:"012",name:"原型、界面設計",father:"011",sortList:[],checked:!0,hour:.1,limitDay:16107264e5},"013":{_key:"013",name:"開發",father:"011",sortList:[],checked:!0,hour:.1,limitDay:16107264e5},"014":{_key:"014",name:"測試",father:"011",sortList:[],checked:!0,hour:.1,limitDay:16107264e5},"015":{_key:"015",name:"還原數據-還原數據",father:"009",sortList:[],checked:!0,hour:.1,limitDay:16107264e5}},meta={title:"Tree",component:_src__WEBPACK_IMPORTED_MODULE_4__.g,parameters:{controls:{expanded:!0}}};__webpack_exports__.default=meta;var Template=function Template(args){var treeRef=Object(react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("button",{onClick:function onClick(){return console.log("---nodes---",treeRef.current.saveNodes())},children:"Save"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("button",{onClick:function onClick(){return treeRef.current.addNext()},children:"Add silbing"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("button",{onClick:function onClick(){return treeRef.current.addChild()},children:"Add child"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("button",{onClick:function onClick(){return treeRef.current.deleteNode()},children:"Delete"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("button",{draggable:!0,onDragStart:function onDragStart(event){event.dataTransfer.setData("text/plain","Hello, this is some custom data!")},children:"Drag this node to the tree"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("button",{onClick:function onClick(){return treeRef.current.exportImage("svg")},children:"Export svg"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("button",{onClick:function onClick(){return treeRef.current.exportImage("png")},children:"Export png"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("button",{onClick:function onClick(){return treeRef.current.exportImage("pdf")},children:"Export pdf"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_src__WEBPACK_IMPORTED_MODULE_4__.g,Object.assign({ref:treeRef},args))]})};Template.displayName="Template";var MultiCol=Template.bind({});MultiCol.args={nodes:nodes,startId:"001",singleColumn:!1,defaultSelectedId:"003",showPreviewButton:!0,showAddButton:!0,showMoreButton:!0,moreButtonWidth:18,columnSpacing:65,showAvatar:!0,showCheckbox:!0,showChildNum:!0,showStatus:!0,rainbowColor:!0,paddingLeft:100,paddingTop:50,quickCommandKey:"/",handleClickNode:function handleClickNode(node){return console.log("---handleClickNode---",node)},handleClickDot:function handleClickDot(node){return console.log("---handleClickDot---",node)},handleClickMoreButton:function handleClickMoreButton(node,element){return console.log("---handleClickMoreButton---",node,element)},handleClickPreviewButton:function handleClickPreviewButton(node){return console.log("---handleClickPreviewButton---",node)},handleClickAddButton:function handleClickAddButton(node,clientX,clientY){return console.log("---handleClickAddButton---",node,clientX,clientY)},handleShiftUpDown:function handleShiftUpDown(id,sortList,type){return console.log("---handleShiftUpDown---",id,sortList,type)},handleDrag:function handleDrag(dragInfo){return console.log("---handleDrag----",dragInfo)},handlePaste:function handlePaste(pasteNodeKey,pasteType,selectedId){return console.log("---handlePaste---",pasteNodeKey,pasteType,selectedId)},handleClickAvatar:function handleClickAvatar(node){return console.log("---handleClickAvatar---",node)},handleClickStatus:function handleClickStatus(node,element){return console.log("---handleClickStatus---",node,element)},dragEndFromOutside:function dragEndFromOutside(node,text){return console.log("---dragEndFromOutside---",node,text)},handleMouseEnterAvatar:function handleMouseEnterAvatar(node){return console.log("---handleMouseEnterAvatar---",node)},handleMouseLeaveAvatar:function handleMouseLeaveAvatar(node){return console.log("---handleMouseLeaveAvatar---",node)},handleChange:function handleChange(){return console.log("---handleChange---")},handleQuickCommandOpen:function handleQuickCommandOpen(el){return console.log("---handleQuickCommandOpen---",el)},handlePasteText:function handlePasteText(text){return console.log("---handlePasteText---",text)},handleContextMenu:function handleContextMenu(nodeKey,event){return console.log("---handleContextMenu---",nodeKey,event)}};var MultiColDark=Template.bind({});MultiColDark.args={nodes:nodes,startId:"001",pathColor:"#FFF",backgroundColor:"#434343",hoverBorderColor:"#FFE4E1",selectedBorderColor:"#FF0000",showPreviewButton:!0,showAddButton:!0,showMoreButton:!0};var SingleCol=Template.bind({});SingleCol.args={nodes:nodes,startId:"001",singleColumn:!0};var TreeMenu=Template.bind({});TreeMenu.args={nodes:nodes2,startId:"001",singleColumn:!0};try{Meta.displayName="Meta",Meta.__docgenInfo={description:"Metadata to configure the stories for a component.",displayName:"Meta",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/A-Tree.stories.tsx#Meta"]={docgenInfo:Meta.__docgenInfo,name:"Meta",path:"stories/A-Tree.stories.tsx#Meta"})}catch(__react_docgen_typescript_loader_error){}},"./stories/B-Mind.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"MultiCol",(function(){return MultiCol})),__webpack_require__.d(__webpack_exports__,"MultiColDark",(function(){return MultiColDark})),__webpack_require__.d(__webpack_exports__,"SingleCol",(function(){return SingleCol}));__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js");var react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/index.js"),_src__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js"),nodes={"001":{_key:"001",name:"項目管理",father:"",sortList:["002","003","004","005"],contract:!1,icon:"https://static-resource.np.community.playstation.net/avatar/SCEI/I0078.png",checked:!0,hour:.1,showCheckbox:!0,showStatus:!0,limitDay:new Date(new Date).getTime()},"002":{_key:"002",name:"链接地址是http://www.jyoketsu.com和psnine.com/gene还有playstation.com",father:"001",sortList:["006","007"],contract:!1,showCheckbox:!0,showStatus:!0,checked:!0,isPack:!0,hour:.1,limitDay:1610812800111,avatarUri:"https://psnine.com/Upload/game/10992.png",icon:"😀",dotIcon:"https://cdn-icare.qingtime.cn/shareOut1.svg?v=1604893936765",imageUrl:"https://cdn-notes.qingtime.cn/856C1527.jpg",imageWidth:200,imageHeight:200},"003":{_key:"003",name:"項目狀態",father:"001",sortList:["010","011"],showCheckbox:!0,showStatus:!0,checked:!1,color:"#fff",backgroundColor:"#90B44B",hour:.1,limitDay:16165152e5,icon:"https://cdn-icare.qingtime.cn/favFolder.svg",avatarUri:"https://psnine.com/Upload/game/11333.png"},"004":{_key:"004",name:"項目會議",father:"001",sortList:[],checked:!1,hour:.1,limitDay:16107264e5},"005":{_key:"005",name:"驗收",father:"001",sortList:[],checked:!1,hour:.1,limitDay:16107264e5},"006":{_key:"006",name:"階段壹",father:"002",contract:!1,sortList:["008","009"],checked:!1,hour:.1,limitDay:16107264e5,imageUrl:"https://psnine.com/Upload/game/11882.png",imageWidth:100,imageHeight:100,startAdornment:function startAdornment(_ref){var x=_ref.x,y=_ref.y,nodeKey=_ref.nodeKey;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("svg",{viewBox:"0 0 1024 1024",version:"1.1",width:"18",height:"18",x:x,y:y,onClick:function onClick(){return alert(nodeKey)},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("path",{d:"M512 512m-448 0a448 448 0 1 0 896 0 448 448 0 1 0-896 0Z",fill:"#2196F3"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("path",{d:"M469.333333 469.333333h85.333334v234.666667h-85.333334z",fill:"#FFFFFF"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("path",{d:"M512 352m-53.333333 0a53.333333 53.333333 0 1 0 106.666666 0 53.333333 53.333333 0 1 0-106.666666 0Z",fill:"#FFFFFF"})]})},startAdornmentWidth:18,startAdornmentHeight:18,endAdornment:function endAdornment(_ref2){var x=_ref2.x,y=_ref2.y,nodeKey=_ref2.nodeKey;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("svg",{viewBox:"0 0 1024 1024",version:"1.1",width:"18",height:"18",x:x,y:y,onClick:function onClick(){return alert(nodeKey)},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("rect",{x:0,y:0,width:"1024",height:"1024",fillOpacity:0}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("path",{d:"M886.624 297.376l-191.968-191.968c-2.944-2.944-6.432-5.312-10.336-6.912C680.48 96.864 676.288 96 672 96L224 96C171.072 96 128 139.072 128 192l0 640c0 52.928 43.072 96 96 96l576 0c52.928 0 96-43.072 96-96L896 320C896 311.52 892.64 303.36 886.624 297.376zM704 205.248 818.752 320 704 320 704 205.248zM800 864 224 864c-17.632 0-32-14.336-32-32L192 192c0-17.632 14.368-32 32-32l416 0 0 192c0 17.664 14.304 32 32 32l160 0 0 448C832 849.664 817.664 864 800 864z",fill:"#5D646F","p-id":"7882"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("path",{d:"M288 352l192 0c17.664 0 32-14.336 32-32s-14.336-32-32-32L288 288c-17.664 0-32 14.336-32 32S270.336 352 288 352z",fill:"#5D646F","p-id":"7883"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("path",{d:"M608 480 288 480c-17.664 0-32 14.336-32 32s14.336 32 32 32l320 0c17.696 0 32-14.336 32-32S625.696 480 608 480z",fill:"#5D646F","p-id":"7884"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("path",{d:"M608 672 288 672c-17.664 0-32 14.304-32 32s14.336 32 32 32l320 0c17.696 0 32-14.304 32-32S625.696 672 608 672z",fill:"#5D646F","p-id":"7885"})]})},endAdornmentWidth:18,endAdornmentHeight:18},"007":{hasCollect:!0,_key:"007",name:"階段二",father:"002",sortList:[],color:"#8D742A",checked:!1,hour:.1,limitDay:16107264e5},"008":{_key:"008",name:"備份json文件",father:"006",sortList:[],checked:!1,hour:.1,limitDay:16107264e5},"009":{_key:"009",name:"還原數據",father:"006",sortList:["015"],checked:!1,hour:11,limitDay:16107264e5},"010":{_key:"010",name:"4月計劃",father:"003",sortList:[],checked:!1,showCheckbox:!0,showStatus:!0,hour:.1,limitDay:16107264e5,imageUrl:"https://cdn-notes.qingtime.cn/2F858B64.jpg",imageWidth:120,imageHeight:120},"011":{_key:"011",name:"5月計劃",father:"003",sortList:["012","013","014"],contract:!1,strikethrough:!0,checked:!0,hour:.1,limitDay:16107264e5,bold:!0,italic:!0,textDecoration:"underline",color:"red"},"012":{_key:"012",name:"原型、界面設計",father:"011",sortList:[],checked:!0,hour:.1,limitDay:16107264e5,bottomAdornment:function bottomAdornment(_ref3){var x=_ref3.x,y=_ref3.y,nodeKey=_ref3.nodeKey;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("text",{x:x+8,y:y+15,dominantBaseline:"middle",fontSize:"12px",onClick:function onClick(){return alert(nodeKey)},children:"this is bottom endAdornment"})},bottomAdornmentWidth:200,bottomAdornmentHeight:30},"013":{_key:"013",name:"開發",father:"011",sortList:[],color:"#fff",backgroundColor:"#66BAB7",checked:!0,hour:.1,limitDay:16107264e5},"014":{_key:"014",name:"#md請輸入正文",father:"011",sortList:[],checked:!0,hour:.1,limitDay:16107264e5},"015":{_key:"015",name:"還原數據還原數據還原數據還原數據還原數據還原數據還原數據還原數據還原數據",father:"009",sortList:[],checked:!0,hour:.1,limitDay:16107264e5}},meta=(new Date((new Date).setHours(0,0,0,0)).getTime(),new Date((new Date).setHours(0,0,0,0)).getTime(),{title:"Mind",component:_src__WEBPACK_IMPORTED_MODULE_4__.c,parameters:{controls:{expanded:!0}}});__webpack_exports__.default=meta;var Template=function Template(args){var treeRef=Object(react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("button",{onClick:function onClick(){return alert(JSON.stringify(treeRef.current.saveNodes()))},children:"Save"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("button",{onClick:function onClick(){return treeRef.current.addNext()},children:"Add silbing"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("button",{onClick:function onClick(){return treeRef.current.addChild()},children:"Add child"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("button",{onClick:function onClick(){return treeRef.current.deleteNode()},children:"Delete"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("button",{draggable:!0,children:"Drag this node to the tree"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("button",{onClick:function onClick(){return treeRef.current.exportImage("svg")},children:"Export svg"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("button",{onClick:function onClick(){return treeRef.current.exportImage("png")},children:"Export png"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("button",{onClick:function onClick(){return treeRef.current.exportImage("pdf")},children:"Export pdf"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_src__WEBPACK_IMPORTED_MODULE_4__.c,Object.assign({ref:treeRef},args))]})};Template.displayName="Template";var MultiCol=Template.bind({});MultiCol.args={nodes:nodes,startId:"001",singleColumn:!1,defaultSelectedId:"003",showPreviewButton:!0,showAddButton:!0,showMoreButton:!0,moreButtonWidth:18,columnSpacing:65,showAvatar:!0,showCheckbox:!0,showStatus:!0,showChildNum:!0,paddingLeft:50,paddingTop:50,handleClickDot:function handleClickDot(node){return console.log("---handleClickDot---",node)},handleClickMoreButton:function handleClickMoreButton(node,clientX,clientY){return console.log("---handleClickMoreButton---",node,clientX,clientY)},handleClickPreviewButton:function handleClickPreviewButton(node){return console.log("---handleClickPreviewButton---",node)},handleClickAddButton:function handleClickAddButton(node,clientX,clientY){return console.log("---handleClickAddButton---",node,clientX,clientY)},handleShiftUpDown:function handleShiftUpDown(id,sortList,type){return console.log("---handleShiftUpDown---",id,sortList,type)},handleDrag:function handleDrag(dragInfo){return console.log("---handleDrag----",dragInfo)},handlePaste:function handlePaste(pasteNodeKey,pasteType,selectedId){return console.log("---handlePaste---",pasteNodeKey,pasteType,selectedId)},handleClickAvatar:function handleClickAvatar(node){return console.log("---handleClickAvatar---",node)},handleClickStatus:function handleClickStatus(node){return console.log("---handleClickStatus---",node)},dragEndFromOutside:function dragEndFromOutside(node){return console.log("---dragEndFromOutside---",node)},handleMouseEnterAvatar:function handleMouseEnterAvatar(node){return console.log("---handleMouseEnterAvatar---",node)},handleMouseLeaveAvatar:function handleMouseLeaveAvatar(node){return console.log("---handleMouseLeaveAvatar---",node)},handlePasteText:function handlePasteText(text){return console.log("---handlePasteText---",text)}};var MultiColDark=Template.bind({});MultiColDark.args={nodes:nodes,startId:"001",pathColor:"#FFF",backgroundColor:"#434343",hoverBorderColor:"#FFE4E1",selectedBorderColor:"#FF0000",showPreviewButton:!0,showAddButton:!0,showMoreButton:!0,showChildNum:!0};var SingleCol=Template.bind({});SingleCol.args={nodes:nodes,startId:"001",singleColumn:!0,showChildNum:!0};try{Meta.displayName="Meta",Meta.__docgenInfo={description:"Metadata to configure the stories for a component.",displayName:"Meta",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/B-Mind.stories.tsx#Meta"]={docgenInfo:Meta.__docgenInfo,name:"Meta",path:"stories/B-Mind.stories.tsx#Meta"})}catch(__react_docgen_typescript_loader_error){}},"./stories/MenuTree.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js");var react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/index.js"),_src__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js"),nodes={"001":{_key:"001",name:"項目管理",father:"",sortList:["002","003","004","005"],contract:!1,disabled:!0,avatarUri:"https://psnine.com/Upload/game/11387.png",icon:"😀",checked:!0,hour:.1,limitDay:new Date((new Date).setHours(0,0,0,0)).getTime()},"002":{_key:"002",name:"链接地址是http://jyoketsu.com和http://psnine.com/psnid/jyoketsu3还有playstation.com",father:"001",sortList:["006","007"],contract:!1,checked:!0,disabled:!0,hour:.1,limitDay:new Date((new Date).setHours(0,0,0,0)).getTime(),icon:"https://cdn-icare.qingtime.cn/docFolder.svg",type:"link"},"003":{_key:"003",name:"項目狀態",father:"001",sortList:["010","011"],childNum:100,checked:!1,hour:.1,limitDay:16107264e5,icon:"https://cdn-icare.qingtime.cn/favFolder.svg"},"004":{_key:"004",name:"項目會議",father:"001",sortList:[],checked:!1,hour:.1,limitDay:16107264e5},"005":{_key:"005",name:"驗收",father:"001",sortList:[],checked:!1,hour:.1,limitDay:16107264e5},"006":{_key:"006",name:"階段壹",father:"002",contract:!1,sortList:["008","009"],checked:!1,hour:.1,limitDay:16107264e5},"007":{_key:"007",name:"階段二",father:"002",sortList:[],checked:!1,hour:.1,limitDay:16107264e5},"008":{_key:"008",name:"備份json文件",father:"006",sortList:[],checked:!1,hour:.1,limitDay:16107264e5},"009":{_key:"009",name:"還原數據",father:"006",sortList:["015"],checked:!1,hour:.1,limitDay:16107264e5},"010":{_key:"010",name:"4月計劃",father:"003",sortList:[],checked:!0,hour:.1,limitDay:16107264e5},"011":{_key:"011",name:"5月計劃",father:"003",sortList:["012","013","014"],contract:!1,checked:!0,hour:.1,limitDay:16107264e5},"012":{_key:"012",name:"原型、界面設計",father:"011",sortList:[],checked:!0,hour:.1,limitDay:16107264e5},"013":{_key:"013",name:"開發",father:"011",sortList:[],checked:!0,hour:.1,limitDay:16107264e5},"014":{_key:"014",name:"測試",father:"011",sortList:[],checked:!0,hour:.1,limitDay:16107264e5},"015":{_key:"015",name:"還原數據-還原數據-還原數據-還原數據-還原數據-還原數據-還原數據",father:"009",sortList:[],checked:!0,hour:.1,limitDay:16107264e5}},meta={title:"Tree(Menu)",component:_src__WEBPACK_IMPORTED_MODULE_4__.b,parameters:{controls:{expanded:!0}}};__webpack_exports__.default=meta;var Template=function Template(args){var treeRef=Object(react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{style:{width:"350px"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_src__WEBPACK_IMPORTED_MODULE_4__.b,Object.assign({ref:treeRef},args))})};Template.displayName="Template";var Default=Template.bind({});Default.args={nodes:nodes,startId:"001",showMoreButton:!0,collapseMode:!0,handleClickMoreButton:function handleClickMoreButton(node){return console.log("---handleClickMoreButton---",node)},handleClickIcon:function handleClickIcon(node){return console.log("---handleClickIcon---",node)},storageData:["name","icon"],defaultSelectedId:"001",paddingLeft:14};try{Meta.displayName="Meta",Meta.__docgenInfo={description:"Metadata to configure the stories for a component.",displayName:"Meta",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/MenuTree.stories.tsx#Meta"]={docgenInfo:Meta.__docgenInfo,name:"Meta",path:"stories/MenuTree.stories.tsx#Meta"})}catch(__react_docgen_typescript_loader_error){}},"./stories/MiniMenu.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js");var react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/index.js"),_src__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js"),nodes={"001":{_key:"001",name:"項目管理",father:"",sortList:["002","003","004","005"],contract:!1,avatarUri:"https://psnine.com/Upload/game/11387.png",icon:"https://cdn-icare.qingtime.cn/rooter.svg",checked:!0,hour:.1,limitDay:new Date((new Date).setHours(0,0,0,0)).getTime()},"002":{_key:"002",name:"計劃進度",father:"001",sortList:["006","007","016","017","018","019"],contract:!1,checked:!0,hour:.1,limitDay:new Date((new Date).setHours(0,0,0,0)).getTime(),icon:"😀"},"003":{_key:"003",name:"項目狀態",father:"001",sortList:["010","011"],checked:!1,hour:.1,limitDay:16107264e5,icon:"https://cdn-icare.qingtime.cn/favFolder.svg"},"004":{_key:"004",name:"項目會議",father:"001",sortList:[],checked:!1,icon:"https://cdn-icare.qingtime.cn/编组 27.png0.1111110010000101001011000001011011011010110100111111607668436820?v=1607668438818",hour:.1,limitDay:16107264e5},"005":{_key:"005",name:"驗收",father:"001",sortList:[],checked:!1,hour:.1,limitDay:16107264e5},"006":{_key:"006",name:"階段壹-階段壹-階段壹-階段壹-階段壹",father:"002",contract:!1,sortList:["008","009"],icon:"😍",checked:!1,hour:.1,limitDay:16107264e5},"007":{_key:"007",name:"階段二",father:"002",sortList:[],checked:!1,hour:.1,limitDay:16107264e5},"008":{_key:"008",name:"備份json文件",father:"006",sortList:[],checked:!1,hour:.1,limitDay:16107264e5},"009":{_key:"009",name:"還原數據",father:"006",sortList:["015"],checked:!1,hour:.1,limitDay:16107264e5},"010":{_key:"010",name:"4月計劃",father:"003",sortList:[],checked:!0,hour:.1,limitDay:16107264e5},"011":{_key:"011",name:"5月計劃",father:"003",sortList:["012","013","014"],contract:!1,checked:!0,hour:.1,limitDay:16107264e5},"012":{_key:"012",name:"原型、界面設計",father:"011",sortList:[],checked:!0,hour:.1,limitDay:16107264e5},"013":{_key:"013",name:"開發",father:"011",sortList:[],checked:!0,hour:.1,limitDay:16107264e5},"014":{_key:"014",name:"測試",father:"011",sortList:[],checked:!0,hour:.1,limitDay:16107264e5},"015":{_key:"015",name:"還原數據-還原數據",father:"009",sortList:[],checked:!0,hour:.1,limitDay:16107264e5},"016":{_key:"016",name:"階段二",father:"002",sortList:[],checked:!1,hour:.1,limitDay:16107264e5},"017":{_key:"017",name:"階段二",father:"002",sortList:[],checked:!1,hour:.1,limitDay:16107264e5},"018":{_key:"018",name:"階段二",father:"002",sortList:[],checked:!1,hour:.1,limitDay:16107264e5},"019":{_key:"019",name:"階段二",father:"002",sortList:[],checked:!1,hour:.1,limitDay:16107264e5}},meta={title:"Mini Menu",component:_src__WEBPACK_IMPORTED_MODULE_4__.d,parameters:{controls:{expanded:!0}}};__webpack_exports__.default=meta;var Template=function Template(args){Object(react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_src__WEBPACK_IMPORTED_MODULE_4__.d,Object.assign({},args))})};Template.displayName="Template";var Default=Template.bind({});Default.args={nodes:nodes,startId:"001",normalFirstLevel:!1,handleClickNode:function handleClickNode(node){return console.log("---handleClickNode---",node)},handleClickExpand:function handleClickExpand(node){return console.log("---handleClickExpand---",node)}};try{Meta.displayName="Meta",Meta.__docgenInfo={description:"Metadata to configure the stories for a component.",displayName:"Meta",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/MiniMenu.stories.tsx#Meta"]={docgenInfo:Meta.__docgenInfo,name:"Meta",path:"stories/MiniMenu.stories.tsx#Meta"})}catch(__react_docgen_typescript_loader_error){}},"./stories/MobileTree.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js");var react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/index.js"),_src__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js"),nodes={"001":{_key:"001",name:"項目管理",father:"",sortList:["002","003","004","005"],contract:!1,disabled:!0,avatarUri:"https://psnine.com/Upload/game/11387.png",icon:"😍",checked:!0,hour:.1,limitDay:new Date((new Date).setHours(0,0,0,0)).getTime()},"002":{_key:"002",name:"链接地址是http://jyoketsu.com和http://psnine.com/psnid/jyoketsu3还有playstation.com",father:"001",sortList:["006","007"],contract:!1,checked:!0,disabled:!0,hour:.1,limitDay:new Date((new Date).setHours(0,0,0,0)).getTime(),icon:"https://cdn-icare.qingtime.cn/docFolder.svg"},"003":{_key:"003",name:"項目狀態",father:"001",sortList:["010","011"],childNum:100,checked:!1,hour:.1,limitDay:16107264e5,icon:"https://cdn-icare.qingtime.cn/favFolder.svg"},"004":{_key:"004",name:"項目會議",father:"001",sortList:[],checked:!1,hour:.1,limitDay:16107264e5},"005":{_key:"005",name:"驗收",father:"001",sortList:[],checked:!1,hour:.1,limitDay:16107264e5},"006":{_key:"006",name:"階段壹",father:"002",contract:!1,sortList:["008","009"],checked:!1,hour:.1,limitDay:16107264e5},"007":{_key:"007",name:"階段二",father:"002",sortList:[],checked:!1,hour:.1,limitDay:16107264e5},"008":{_key:"008",name:"備份json文件",father:"006",sortList:[],checked:!1,hour:.1,limitDay:16107264e5},"009":{_key:"009",name:"還原數據",father:"006",sortList:["015"],checked:!1,hour:.1,limitDay:16107264e5},"010":{_key:"010",name:"4月計劃",father:"003",sortList:[],checked:!0,hour:.1,limitDay:16107264e5},"011":{_key:"011",name:"5月計劃",father:"003",sortList:["012","013","014"],contract:!1,checked:!0,hour:.1,limitDay:16107264e5},"012":{_key:"012",name:"原型、界面設計",father:"011",sortList:[],checked:!0,hour:.1,limitDay:16107264e5},"013":{_key:"013",name:"開發",father:"011",sortList:[],checked:!0,hour:.1,limitDay:16107264e5},"014":{_key:"014",name:"測試",father:"011",sortList:[],checked:!0,hour:.1,limitDay:16107264e5},"015":{_key:"015",name:"還原數據-還原數據-還原數據-還原數據-還原數據-還原數據-還原數據",father:"009",sortList:[],checked:!0,hour:.1,limitDay:16107264e5}},meta={title:"MobileTree",component:_src__WEBPACK_IMPORTED_MODULE_4__.e,parameters:{controls:{expanded:!0}}};__webpack_exports__.default=meta;var Template=function Template(args){Object(react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{style:{width:"350px"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_src__WEBPACK_IMPORTED_MODULE_4__.e,Object.assign({},args))})};Template.displayName="Template";var Default=Template.bind({});Default.args={nodes:nodes,startId:"001",showMoreButton:!0,collapseMode:!0,handleClickMoreButton:function handleClickMoreButton(node){return console.log("---handleClickMoreButton---",node)},handleClickIcon:function handleClickIcon(node){return console.log("---handleClickIcon---",node)},handleClickDot:function handleClickDot(node){return console.log("---handleClickDot---",node)}};try{Meta.displayName="Meta",Meta.__docgenInfo={description:"Metadata to configure the stories for a component.",displayName:"Meta",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/MobileTree.stories.tsx#Meta"]={docgenInfo:Meta.__docgenInfo,name:"Meta",path:"stories/MobileTree.stories.tsx#Meta"})}catch(__react_docgen_typescript_loader_error){}},"./stories/Slide.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/react/index.js");var _src__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js"),nodes={"001":{_key:"001",name:"项目管理",father:"",sortList:["002","003","004","005"],contract:!1,icon:"https://static-resource.np.community.playstation.net/avatar/SCEI/I0078.png",checked:!0,hour:.1,showCheckbox:!0,showStatus:!0,limitDay:new Date(new Date).getTime(),attach:[{url:"https://z3.ax1x.com/2021/09/26/4yruQg.jpg",type:"image/jpeg",name:"4By5a6"},{url:"https://z3.ax1x.com/2021/09/26/4yrKyQ.jpg",type:"image/jpeg",name:"4BygxJ"},{url:"https://z3.ax1x.com/2021/09/26/4yreW8.jpg",type:"image/jpeg",name:"4Byfq1"}]},"002":{_key:"002",name:"计划进度",father:"001",sortList:["006","007"],contract:!1,showCheckbox:!0,showStatus:!0,checked:!0,hour:.1,limitDay:1610812800111,hasCollect:!0,isPack:!0,avatarUri:"https://psnine.com/Upload/game/10992.png",icon:"https://cdn-icare.qingtime.cn/docFolder.svg",dotIcon:"https://cdn-icare.qingtime.cn/shareOut1.svg?v=1604893936765",attach:[{url:"https://z3.ax1x.com/2021/09/26/4yrMLj.jpg",type:"image/jpeg",name:"4By5a6"},{url:"https://z3.ax1x.com/2021/09/26/4yrles.jpg",type:"image/jpeg",name:"4BygxJ"},{url:"https://z3.ax1x.com/2021/09/26/4yrnSS.jpg",type:"image/jpeg",name:"4Byfq1"},{url:"https://z3.ax1x.com/2021/09/26/4yrKyQ.jpg",type:"image/jpeg",name:"4By5a6"}]},"003":{_key:"003",name:"项目状态",father:"001",sortList:["010","011"],showCheckbox:!0,showStatus:!0,checked:!1,color:"#fff",backgroundColor:"#90B44B",hour:.1,limitDay:16165152e5,icon:"https://cdn-icare.qingtime.cn/favFolder.svg",avatarUri:"https://psnine.com/Upload/game/11333.png"},"004":{_key:"004",name:"项目会议",father:"001",sortList:[],showStatus:!0,checked:!1,limitDay:null,hour:null,attach:[{url:"https://z3.ax1x.com/2021/09/26/4yrnSS.jpg",type:"image/jpeg",name:"4Byfq1"}]},"005":{_key:"005",name:"验收",father:"001",sortList:[],checked:!1,hour:.1,limitDay:16107264e5},"006":{_key:"006",name:"阶段壹",father:"002",contract:!1,sortList:["008","009","016"],checked:!1,hour:.1,limitDay:16107264e5},"007":{_key:"007",name:"阶段二",father:"002",sortList:[],color:"#8D742A",checked:!1,type:"doc",icon:"https://mindcute.com/icon/logo.svg",hour:.1,limitDay:16107264e5},"008":{_key:"008",name:"psnine.com",father:"006",sortList:[],type:"link",icon:"https://mindcute.com/icon/logo.svg",url:"https://psnine.com/"},"009":{_key:"009",name:"还原数据",father:"006",sortList:["015"],checked:!1,hour:11,limitDay:16107264e5},"010":{_key:"010",name:"4月计划",father:"003",sortList:[],checked:!1,showCheckbox:!0,showStatus:!0,hour:.1,limitDay:1610640000333},"011":{_key:"011",name:"5月计划",father:"003",sortList:["012","013","014"],contract:!1,checked:!0,hour:.1,limitDay:16107264e5},"012":{_key:"012",name:"原型、界面设计",father:"011",sortList:[],checked:!0,hour:.1,limitDay:16107264e5},"013":{_key:"013",name:"开发",father:"011",sortList:[],color:"#fff",backgroundColor:"#66BAB7",checked:!0,hour:.1,limitDay:16107264e5},"014":{_key:"014",name:"#md请输入正文",father:"011",sortList:[],checked:!0,hour:.1,limitDay:16107264e5},"015":{_key:"015",name:"还原数据还原数据还原数据还原数据还原数据还原数据还原数据还原数据还原数据",father:"009",sortList:[],checked:!0,hour:.1,limitDay:16107264e5},"016":{_key:"016",name:"JOJO的奇妙冒险 石之海 片头曲",father:"006",sortList:[],type:"link",linkType:"bilibili",url:"https://player.bilibili.com/player.html?aid=464470996&bvid=BV16L411M7ck&cid=450926275&page=1&high_quality=1"}},meta={title:"Slide",component:_src__WEBPACK_IMPORTED_MODULE_4__.f,parameters:{controls:{expanded:!0}}};__webpack_exports__.default=meta;var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_src__WEBPACK_IMPORTED_MODULE_4__.f,Object.assign({},args))})};Template.displayName="Template";var Default=Template.bind({});Default.args={nodes:nodes,startId:"001",getNodeUrl:function getNodeUrl(node){return node.url}};try{Meta.displayName="Meta",Meta.__docgenInfo={description:"Metadata to configure the stories for a component.",displayName:"Meta",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/Slide.stories.tsx#Meta"]={docgenInfo:Meta.__docgenInfo,name:"Meta",path:"stories/Slide.stories.tsx#Meta"})}catch(__react_docgen_typescript_loader_error){}},"./stories/TreeEditor.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/react/index.js");var _src__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js"),nodes={"001":{_key:"001",name:"項目管理",father:"",sortList:["002","003","004","005"],contract:!1,disabled:!0,icon:"https://cdn-icare.qingtime.cn/rooter.svg",checked:!0,hour:.1,limitDay:new Date((new Date).setHours(0,0,0,0)).getTime()},"002":{_key:"002",name:"链接地址",father:"001",sortList:["006","007"],contract:!1,checked:!0,disabled:!0,hour:.1,avatarUri:"https://psnine.com/Upload/game/11387.png",limitDay:new Date((new Date).setHours(0,0,0,0)).getTime(),icon:"😇",showCheckbox:!0,showStatus:!0,hasCollect:!0,isPack:!0},"003":{_key:"003",name:"項目狀態",father:"001",sortList:["010","011"],checked:!1,hour:.1,limitDay:16107264e5,icon:"https://cdn-icare.qingtime.cn/favFolder.svg",childNum:1e3},"004":{_key:"004",name:"項目會議",father:"001",sortList:[],checked:!1,hour:.1,limitDay:16107264e5},"005":{_key:"005",name:"驗收",father:"001",sortList:[],checked:!1,hour:.1,limitDay:16107264e5},"006":{_key:"006",name:"階段壹",father:"002",contract:!1,sortList:["008","009"],checked:!1,hour:.1,limitDay:16107264e5},"007":{_key:"007",name:"階段二",father:"002",sortList:[],checked:!1,hour:.1,limitDay:16107264e5},"008":{_key:"008",name:"備份json文件",father:"006",sortList:[],checked:!1,hour:.1,limitDay:16107264e5,attach:[{url:"https://z3.ax1x.com/2021/09/26/4yrles.jpg",type:"image/jpeg",name:"4BygxJ"},{url:"https://z3.ax1x.com/2021/09/26/4yrnSS.jpg",type:"image/jpeg",name:"4Byfq1"}]},"009":{_key:"009",name:"還原數據",father:"006",sortList:["015"],checked:!1,hour:.1,limitDay:16107264e5,note:"这个是备注这个是备注这个是备注这个是备注这个是备注这个是备注这个是备注这个是备注这个是备注这个是备注这个是备注这个是备注这个是备注这个是备注这个是备注这个是备注这个是备注这个是备注这个是备注这个是备注"},"010":{_key:"010",name:"文件类节点",father:"003",sortList:["016","017","018","019"],checked:!0,hour:.1,limitDay:16107264e5},"011":{_key:"011",name:"链接类节点",father:"003",sortList:["012","013","014","020"],contract:!1,checked:!0,hour:.1,limitDay:16107264e5},"012":{_key:"012",name:"B站",type:"link",url:"https://player.bilibili.com/player.html?aid=1149538&bvid=BV1Ex411T7Li&cid=1677748&page=1",linkType:"bilibili",father:"011",sortList:[]},"013":{_key:"013",name:"网易云",type:"link",url:"https://music.163.com/outchain/player?type=2&id=1472480890&auto=1&height=66",linkType:"wangyiyun",father:"011",sortList:[]},"014":{_key:"014",name:"链接未填写网址",father:"011",sortList:[],type:"link"},"015":{_key:"015",name:"還原數據-還原數據-還原數據-還原數據-還原數據-還原數據-還原數據",father:"009",sortList:[],checked:!0,hour:.1,limitDay:16107264e5},"016":{_key:"016",name:"图片无链接",type:"file",father:"010",sortList:[]},"017":{_key:"017",name:"图片",type:"file",fileType:"image/*",url:"https://z3.ax1x.com/2021/11/30/oleOVU.jpg",father:"010",sortList:[]},"018":{_key:"018",name:"音频",type:"file",fileType:"audio/*",url:"https://cdn-icare.qingtime.cn/4F20E2E3.flac",father:"010",sortList:[]},"019":{_key:"019",name:"视频",type:"file",fileType:"video/*",url:"https://cdn-icare.qingtime.cn/5B2C436C.mp4",father:"011",sortList:[]},"020":{_key:"020",type:"link",name:"「jyoketsu3」的PSN主页",note:"提供全中文的PSN帐号查询、奖杯列表、奖杯攻略、游戏新闻、会免优惠信息查询、PSN排行榜、约战、奖杯卡制作等服务",url:"https://psnine.com",icon:"https://psnine.com/View/aimage/p9.png",sortList:[]}},meta={title:"TreeEditor",component:_src__WEBPACK_IMPORTED_MODULE_4__.h,parameters:{controls:{expanded:!0}}};__webpack_exports__.default=meta;var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_src__WEBPACK_IMPORTED_MODULE_4__.h,Object.assign({},args))};Template.displayName="Template";var Default=Template.bind({});Default.args={nodes:nodes,startId:"001",quickCommandKey:"/",quickCommands:["fswd","fsht","fsnt","fsmd"],handlePasteFiles:function handlePasteFiles(nodeKey,files){console.log("---handlePasteFiles---",nodeKey,files)},handleChangeNote:function handleChangeNote(nodeKey,text){console.log("---handleChangeNote---",nodeKey,text)},handleDeleteAttach:function handleDeleteAttach(nodeKey,index){console.log("---handleDeleteAttach---",nodeKey,index)},handleClickMoreButton:function handleClickMoreButton(node,targetEl){console.log("---handleClickMoreButton---",node,targetEl)},handleClickAddButton:function handleClickAddButton(node,targetEl){console.log("---handleClickAddButton---",node,targetEl)},handleCommandChanged:function handleCommandChanged(nodeKey,command,value,addMode){console.log("---handleCommandChanged---",nodeKey,command,value,addMode)},handleClickAvatar:function handleClickAvatar(node){return console.log("---handleClickAvatar---",node)},handleClickStatus:function handleClickStatus(node,element){return console.log("---handleClickStatus---",node,element)},handleMutiSelect:function handleMutiSelect(nodes){return console.log("---handleMutiSelect---",nodes)},showDeleteConform:function showDeleteConform(){return console.log("---showDeleteConform---")}};try{Meta.displayName="Meta",Meta.__docgenInfo={description:"Metadata to configure the stories for a component.",displayName:"Meta",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/TreeEditor.stories.tsx#Meta"]={docgenInfo:Meta.__docgenInfo,name:"Meta",path:"stories/TreeEditor.stories.tsx#Meta"})}catch(__react_docgen_typescript_loader_error){}},"./stories/Z-Catalog.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/react/index.js");var _src__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js"),itemInfoMap={"001":Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{children:"2020-12-12"}),"002":Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{children:"2020-12-13"}),"003":Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{children:"2020-12-14"}),"004":Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{children:"2020-12-14"}),"005":Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{children:"2020-12-14"}),"006":Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{children:"2020-12-14"}),"007":Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{children:"2020-12-14"}),"008":Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{children:"2020-12-14"}),"009":Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{children:"2020-12-14"}),"010":Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{children:"2020-12-14"}),"011":Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{children:"2020-12-14"}),"012":Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{children:"2020-12-14"}),"013":Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{children:"2020-12-14"}),"014":Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{children:"2020-12-14"}),"015":Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{children:"2020-12-14"})},nodes={"001":{_key:"001",name:"項目管理",father:"",sortList:["002","003","004","005"],contract:!1,avatarUri:"https://psnine.com/Upload/game/11387.png",icon:"https://cdn-icare.qingtime.cn/rooter.svg",checked:!0,updateTime:1607843051983,hour:.1,limitDay:new Date((new Date).setHours(0,0,0,0)).getTime()},"002":{_key:"002",name:"計劃進度",father:"001",sortList:["006","007"],contract:!1,checked:!0,disabled:!0,hour:.1,limitDay:new Date((new Date).setHours(0,0,0,0)).getTime(),icon:"https://cdn-icare.qingtime.cn/docFolder.svg",updateTime:1607843051983},"003":{_key:"003",name:"項目狀態",father:"001",sortList:["010","011"],checked:!1,updateTime:1607843051983,hour:.1,limitDay:16107264e5,icon:"https://cdn-icare.qingtime.cn/favFolder.svg"},"004":{_key:"004",name:"項目會議",father:"001",sortList:[],updateTime:1607843051983,checked:!1,hour:.1,limitDay:16107264e5},"005":{_key:"005",name:"驗收",father:"001",sortList:[],checked:!1,updateTime:1607843051983,hour:.1,limitDay:16107264e5},"006":{_key:"006",name:"階段壹",father:"002",contract:!1,sortList:["008","009"],checked:!1,updateTime:1607843051983,hour:.1,limitDay:16107264e5},"007":{_key:"007",name:"階段二",father:"002",sortList:[],checked:!1,updateTime:1607843051983,hour:.1,limitDay:16107264e5},"008":{_key:"008",name:"備份json文件",father:"006",sortList:[],checked:!1,updateTime:1607843051983,hour:.1,limitDay:16107264e5},"009":{_key:"009",name:"還原數據",father:"006",sortList:["015"],checked:!1,updateTime:1607843051983,hour:.1,limitDay:16107264e5},"010":{_key:"010",name:"4月計劃",father:"003",sortList:[],checked:!0,updateTime:1607843051983,hour:.1,limitDay:16107264e5},"011":{_key:"011",name:"5月計劃",father:"003",sortList:["012","013","014"],contract:!1,checked:!0,updateTime:1607843051983,hour:.1,limitDay:16107264e5},"012":{_key:"012",name:"原型、界面設計",father:"011",sortList:[],checked:!0,updateTime:1607843051983,hour:.1,limitDay:16107264e5},"013":{_key:"013",name:"開發",father:"011",sortList:[],checked:!0,updateTime:1607843051983,hour:.1,limitDay:16107264e5},"014":{_key:"014",name:"測試",father:"011",sortList:[],checked:!0,updateTime:1607843051983,hour:.1,limitDay:16107264e5},"015":{_key:"015",name:"還原數據-還原數據",father:"009",sortList:[],checked:!0,hour:.1,limitDay:16107264e5,updateTime:1607843051983}},meta={title:"Catalog",component:_src__WEBPACK_IMPORTED_MODULE_4__.a,parameters:{controls:{expanded:!0}}};__webpack_exports__.default=meta;var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_src__WEBPACK_IMPORTED_MODULE_4__.a,Object.assign({},args))})};Template.displayName="Template";var Default=Template.bind({});Default.args={nodes:nodes,startId:"001",itemInfoMap:itemInfoMap,handleClickNode:function handleClickNode(node){return console.log("---handleClickNode---",node)}};try{Meta.displayName="Meta",Meta.__docgenInfo={description:"Metadata to configure the stories for a component.",displayName:"Meta",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/Z-Catalog.stories.tsx#Meta"]={docgenInfo:Meta.__docgenInfo,name:"Meta",path:"stories/Z-Catalog.stories.tsx#Meta"})}catch(__react_docgen_typescript_loader_error){}},"./storybook-init-framework-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js")},0:function(module,exports,__webpack_require__){__webpack_require__("./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_require__("./node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_require__("./storybook-init-framework-entry.js"),__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/frameworks/common/config.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/frameworks/react/config.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/react/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-links/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/preset/addArgs.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-backgrounds/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-backgrounds/dist/esm/preset/addParameter.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-measure/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-outline/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("./.storybook/preview.js-generated-config-entry.js"),module.exports=__webpack_require__("./generated-stories-entry.js")},1:function(module,exports){},2:function(module,exports){}},[[0,5,6]]]);